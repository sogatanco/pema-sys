"use strict";(self.webpackChunkmaterialpro_main=self.webpackChunkmaterialpro_main||[]).push([[1593],{80544:(e,t,n)=>{n.d(t,{A:()=>i});n(65043);var s=n(70579);const i=e=>{let{data:t,color:n}=e;return(0,s.jsx)("div",{className:"flex-wrapper",children:(0,s.jsx)("div",{className:"single-chart",children:(0,s.jsxs)("svg",{viewBox:"0 0 36 36",className:"circular-chart ".concat(100===t?"green":100!==t?"blue":n),children:[(0,s.jsx)("path",{className:"circle-bg",d:"M18 2.0845\r a 15.9155 15.9155 0 0 1 0 31.831\r a 15.9155 15.9155 0 0 1 0 -31.831"}),(0,s.jsx)("path",{className:"circle",strokeDasharray:"".concat(t,", 100"),d:"M18 2.0845\r a 15.9155 15.9155 0 0 1 0 31.831\r a 15.9155 15.9155 0 0 1 0 -31.831"}),100===t?(0,s.jsx)("text",{x:"18",y:"22.35",className:"percentage",style:{fontSize:"14px"},children:"\u2714"}):(0,s.jsxs)("text",{x:"18",y:"22.35",className:"percentage",children:[t,"%"]})]})})})}},49026:(e,t,n)=>{n.d(t,{A:()=>s});const s=e=>{const t=new Date(e);return"".concat(t.getDate()," ").concat(["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Oct","Nov","Des"][t.getMonth()]," ").concat(t.getFullYear())}},24063:(e,t,n)=>{n.d(t,{A:()=>s});const s=e=>{const t=new Date;return((new Date(e)-t)/864e5).toFixed()<1}},19686:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var s=n(12327),i=n(22345),r=n(30342),l=n(65043),a=n(203),o=n(35475),c=n(49157),d=n(18353),u=n(35299),p=n(72679),x=n(26259),m=n(93397),h=n(80544),f=n(49026),v=n(24063),g=n(55918),j=n.n(g),y=n(70579);const b=e=>{let{year:t,setYear:n}=e;const[s,i]=(0,l.useState)(!1),r=(new Date).getFullYear(),a=Array.from({length:r-2024+1},((e,t)=>2024+t)).reverse();return(0,y.jsxs)("div",{className:"filter-year-container",children:[s&&(0,y.jsx)("div",{className:"year-overlay",onClick:()=>i(!1),children:"hello"}),(0,y.jsxs)("div",{className:"filter-year",children:[(0,y.jsx)("div",{className:"label",children:(0,y.jsx)("span",{children:t})}),(0,y.jsx)("div",{className:"button",onClick:()=>i(!s),children:(0,y.jsx)(j(),{icon:"keyboard_arrow_down",className:"icon"})}),s&&(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"content",children:a.map((e=>(0,y.jsx)("div",{className:"item",onClick:()=>(e=>{n(e),i(!1)})(e),children:e},e)))})})]})]})},N=e=>{let{listLength:t,height:n}=e;return(0,y.jsx)("div",{className:"skeleton-project-list",children:[...Array(t)].map((()=>(0,y.jsx)("div",{className:"skeleton-card",children:(0,y.jsx)("div",{className:"skeleton-image ".concat(n)})})))})},A=()=>(0,y.jsxs)("div",{className:"no-data-yet",children:[(0,y.jsx)(j(),{icon:"info",className:"icon"}),(0,y.jsx)("span",{children:"No data yet"})]}),w=()=>(0,y.jsxs)("div",{className:"failed-information",children:[(0,y.jsx)(j(),{icon:"warning",className:"icon"}),(0,y.jsx)("span",{children:"Failed to load data"})]});var k=n(29820);const _=()=>{var e,t,n;const{auth:g}=(0,r.A)(),[j,_]=(0,l.useState)([]),[O,S]=(0,l.useState)([]),[E,D]=(0,l.useState)(),[P,R]=(0,l.useState)([]),[F,M]=(0,l.useState)((new Date).getFullYear()),C=(0,m.A)(),{isLoading:I,error:T,data:z}=(0,a.I)({queryKey:["projectsdash",F],queryFn:()=>{var e;return C.get("".concat(null!==g&&void 0!==g&&null!==(e=g.user)&&void 0!==e&&e.roles.includes("Director")?"api/project?year=".concat(F):"api/project/".concat(null===g||void 0===g?void 0:g.user.employe_id,"/list?for=dashboard&year=").concat(F))).then((e=>(_(e.data.divisions),D("all"),e.data.data)))}});(0,l.useEffect)((()=>{var e,t;if(null!==g&&void 0!==g&&null!==(e=g.user)&&void 0!==e&&null!==(t=e.roles)&&void 0!==t&&t.includes("Director"))if("all"===E){const e=[],t=null===z||void 0===z?void 0:z.filter((e=>e.total_progress>10));for(let n=0;n<t.length;n++)n<10&&e.push(t[n]);S(e.reverse())}else S(null===z||void 0===z?void 0:z.filter((e=>e.division.toString()===E)));else{const e=[];for(let t=0;t<(null===z||void 0===z?void 0:z.length);t++)t<10&&e.push(z[t]);S(e)}}),[E,z]);(0,l.useEffect)((()=>{var e;const t=()=>{const e=[];for(let t=0;t<(null===O||void 0===O?void 0:O.length);t++)e.push(O[t].project_id);return e};(null===(e=t())||void 0===e?void 0:e.length)>0&&(async e=>{await C.post("api/project/progress/collection",{ids:e}).then((e=>{R(e.data.data)})).catch((e=>console.log(e)))})(t())}),[O]);const V=e=>{var t,n,s;const i=null===P||void 0===P?void 0:P.filter((t=>t.project_id===e));return 0!==(null===(t=i[0])||void 0===t?void 0:t.progress)?null===(n=i[0])||void 0===n||null===(s=n.progress)||void 0===s?void 0:s.toFixed():0};return(0,y.jsx)(s.A,{children:(0,y.jsx)(i.A,{lg:"12",children:(0,y.jsx)(c.A,{className:"rounded-3",children:(0,y.jsxs)(d.A,{className:"d-flex flex-column gap-2",style:{minHeight:"130px"},children:[(0,y.jsxs)(s.A,{lg:"d-flex justify-content-between",children:[(0,y.jsx)(i.A,{sm:"12",md:"6",lg:"3",children:(0,y.jsxs)(u.A,{tag:"h4",children:["Projects ",null!==g&&void 0!==g&&null!==(e=g.user)&&void 0!==e&&null!==(t=e.roles)&&void 0!==t&&t.includes("Director")?"Inprogress":""," "]})}),(0,y.jsxs)(i.A,{sm:"12",md:"6",lg:"5",className:"d-flex gap-2 align-items-end justify-content-end",children:[null!==g&&void 0!==g&&null!==(n=g.user)&&void 0!==n&&n.roles.includes("Director")?(0,y.jsx)("div",{className:"w-75",children:(0,y.jsxs)(p.A,{type:"select",bsSize:"sm",onChange:e=>D(e.target.value),value:E,children:[(0,y.jsx)("option",{value:"all",children:"All Division"}),null===j||void 0===j?void 0:j.map((e=>(0,y.jsxs)("option",{value:e.organization_id,children:[e.organization_name," "]},e.organization_id)))]})}):(0,y.jsx)(b,{year:F,setYear:M}),(0,y.jsx)("div",{className:"d-flex",children:(0,y.jsx)(o.N_,{to:"projects",style:{textDecoration:"none"},children:(0,y.jsx)(x.A,{type:"button",size:"sm",outline:!0,color:"info",className:"rounded-2",block:!0,children:"See all"})})})]})]}),I?(0,y.jsx)(N,{listLength:4,height:"md"}):T?(0,y.jsx)(w,{}):(0,y.jsx)(y.Fragment,{children:(null===O||void 0===O?void 0:O.length)>0?null===O||void 0===O?void 0:O.map(((e,t)=>{var n,r,l,a;return(0,y.jsx)(o.N_,{className:"d-flex justify-content-between rounded-3 px-2 py-2 align-items-center link-item text-dark bg-light",style:{textDecoration:"none"},onClick:()=>{return t=e.project_id,void window.open("projects/details/".concat(t),"_blank","noopener");var t},children:(0,y.jsx)(i.A,{lg:"12",children:(0,y.jsxs)(s.A,{lg:"12",style:{paddingRight:"5px"},children:[(0,y.jsx)(i.A,{lg:"6",children:(0,y.jsx)("table",{children:(0,y.jsx)("tbody",{style:{height:"auto !important"},children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{style:{minWidth:"30px",textAlign:"left"},children:(0,y.jsx)("span",{className:"text-muted",style:{marginLeft:"12px"},children:t+1})}),(0,y.jsx)("td",{children:(0,y.jsxs)("abbr",{title:e.project_name,style:{textDecoration:"none"},children:[(0,y.jsx)("span",{className:"fw-bold",style:{fontSize:"13px"},children:e.project_name}),(0,y.jsx)("div",{children:(0,y.jsx)("span",{className:"badge text-primary bg-light-primary rounded-pill d-inline-block",children:(0,y.jsx)("small",{className:"fw-bold",children:e.organization_name})})})]})})]})})})}),(0,y.jsx)(i.A,{xs:"12",sm:"12",lg:"5",children:(0,y.jsxs)(s.A,{lg:"12",className:"my-auto h-100 ",children:[(0,y.jsxs)(i.A,{xs:"4",sm:"4",lg:"4",className:"my-auto ",content:"center",children:[(0,y.jsx)("div",{style:{marginBottom:"-7px"},children:(0,y.jsxs)("small",{className:"text-muted",style:{fontSize:"12px"},children:["Deadline"," "]})}),(0,y.jsx)("small",{className:"".concat((0,v.A)(null===(n=e.current_stage)||void 0===n?void 0:n.end_date)?"text-danger":""),children:(0,f.A)(null===(r=e.current_stage)||void 0===r?void 0:r.end_date)})]}),(0,y.jsx)(i.A,{xs:"4",sm:"4",lg:"4",className:"d-flex align-items-center",children:(0,y.jsx)("span",{className:"badge text-info bg-light-info rounded-pill d-inline-block fw-bold",style:{textTransform:"capitalize"},children:e.category})}),(0,y.jsx)(i.A,{xs:"4",sm:"4",lg:"4",className:"d-flex align-items-center justify-content-end",children:(0,y.jsx)("div",{className:"d-flex gap-1 justify-content-center align-items-center",children:(0,y.jsx)("div",{className:"circular-progress",children:(0,y.jsx)(h.A,{data:V(e.project_id)?parseInt(V(e.project_id),10):0})})})})]})}),(0,y.jsx)(i.A,{lg:"1",className:"my-auto d-flex justify-content-start px-2",children:(0,y.jsx)("div",{className:"p-2",children:(0,y.jsx)("img",{src:null!==(l=e.pic_active)&&void 0!==l&&l.employe_id?"".concat("https://hr-api.ptpema.co.id/api/","employee/file?f=photo-profil&id=").concat(null===(a=e.pic_active)||void 0===a?void 0:a.employe_id):k,className:"rounded-circle",alt:"avatar",width:"40",height:"40"})})})]})})},e.project_id)})):(0,y.jsx)(A,{})})]})})})})};var O=n(86985);const S=e=>{let{bg:t,icon:n,title:s,subtitle:i,loading:r}=e;return(0,y.jsx)(c.A,{className:"rounded-3",children:(0,y.jsx)(d.A,{children:(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)("span",{className:"circle-box md-box text-dark-white bg-".concat(t),children:(0,y.jsx)("i",{className:"fs-2 bi bi-".concat(n)})}),(0,y.jsxs)("div",{className:"ms-3",children:[(0,y.jsx)("h2",{className:"mb-1 fw-normal",children:r?"...":s}),(0,y.jsx)(O.A,{className:"fs-6 text-muted",children:i})]})]})})})},E=()=>{const{auth:e}=(0,r.A)(),t=(0,m.A)(),{isLoading:n,data:l}=(0,a.I)({queryKey:["totaldata"],queryFn:()=>t.get("api/project/".concat(null===e||void 0===e?void 0:e.user.employe_id,"/total-data")).then((e=>e.data.data))});return(0,y.jsxs)(s.A,{children:[(0,y.jsx)(i.A,{sm:"6",lg:"3",children:(0,y.jsx)(S,{bg:"primary",icon:"wallet2",title:null===l||void 0===l?void 0:l.total_project,subtitle:"Total Project",loading:n})}),(0,y.jsx)(i.A,{sm:"6",lg:"3",children:(0,y.jsx)(S,{bg:"info",icon:"list-task",title:null===l||void 0===l?void 0:l.total_task,subtitle:"Total Task",loading:n})}),(0,y.jsx)(i.A,{sm:"6",lg:"3",children:(0,y.jsx)(S,{bg:"warning",icon:"clock-history",title:null===l||void 0===l?void 0:l.total_inprogress,subtitle:"Task In Progress",loading:n})}),(0,y.jsx)(i.A,{sm:"6",lg:"3",children:(0,y.jsx)(S,{bg:"success",icon:"check-circle",title:null===l||void 0===l?void 0:l.total_done,subtitle:"Task Done",loading:n})})]})};var D=n(87426),P=n(73216),R=n(40028),F=n(24807);const M=e=>{let{title:t,type:n}=e;const{auth:s}=(0,r.A)(),[i,p]=(0,l.useState)(),[x,g]=(0,l.useState)(void 0),[b,k]=(0,l.useState)(),[_,O]=(0,l.useState)(!1),[S,E]=(0,l.useState)(),[M,C]=(0,l.useState)(),[I,T]=(0,l.useState)(!1),z=(0,m.A)(),{isLoading:V,error:q,data:L,refetch:B}=(0,a.I)({queryKey:["tasklist-".concat(n)],queryFn:()=>{var e;return z.get("".concat(null!==s&&void 0!==s&&null!==(e=s.user)&&void 0!==e&&e.roles.includes("Director")?"api/task/director/dashboard/list?type=".concat(n):"api/task/".concat(null===s||void 0===s?void 0:s.user.employe_id,"/recent/activity"))).then((e=>e.data.data))}}),Y=e=>{var t,n;null!==s&&void 0!==s&&null!==(t=s.user)&&void 0!==t&&t.roles.includes("director")?(n=e,O(!0),g(n)):(T(!0),E(e.project_id),C(e.task_id))};return I?(0,y.jsx)(P.C5,{to:"projects/details/".concat(S,"?task=").concat(M)}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.A,{className:"rounded-3",children:(0,y.jsxs)(d.A,{className:"d-flex flex-column gap-1",style:{minHeight:"".concat("recent"===n?"130px":"400px")},children:[(0,y.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,y.jsx)(u.A,{tag:"h4",children:t}),"inprogress"===n&&(0,y.jsx)(o.N_,{to:"director/inprogress-task",style:{textDecoration:"none"},children:"See all"})]}),(0,y.jsx)("div",{className:"d-flex flex-column gap-2 justify-content-center",children:V?(0,y.jsx)(N,{listLength:2,height:"sm"}):q?(0,y.jsx)(w,{}):(null===L||void 0===L?void 0:L.length)>0?L.map(((e,t)=>{var r,l,a;return(0,y.jsxs)("div",{className:"d-flex justify-content-between gap-1",children:[(0,y.jsxs)("div",{className:"d-flex col-sm-".concat("marked"===n?"11":"12 w-100"," justify-content-between align-items-center p-2 rounded-3 link-item-bordered"),style:{border:"1px dashed #21C1D6"},children:[(0,y.jsxs)(o.N_,{type:"button",className:"d-flex gap-2 col-md-".concat("done"===n?"12":"10"," align-items-center text-muted"),style:{fontSize:"13px",textDecoration:"none"},onClick:()=>Y(e),children:[(0,y.jsx)("span",{children:t+1}),(0,y.jsxs)("div",{className:"d-flex flex-column col-md-12",children:[(0,y.jsx)("div",{className:"d-flex",children:(0,y.jsx)("span",{className:"text-dark",children:"marked"===n?(null===e||void 0===e?void 0:e.task_title.trim().length)>35?"".concat(null===e||void 0===e||null===(r=e.task_title)||void 0===r?void 0:r.substring(0,35),"..."):null===e||void 0===e?void 0:e.task_title:"done"===n?(null===e||void 0===e?void 0:e.task_title.trim().length)>53?"".concat(null===e||void 0===e||null===(l=e.task_title)||void 0===l?void 0:l.substring(0,53),"..."):null===e||void 0===e?void 0:e.task_title:(null===e||void 0===e?void 0:e.task_title.trim().length)>40?"".concat(null===e||void 0===e||null===(a=e.task_title)||void 0===a?void 0:a.substring(0,40),"..."):null===e||void 0===e?void 0:e.task_title})}),(0,y.jsxs)("div",{className:"d-flex align-items-end gap-3",children:[(0,y.jsx)("span",{className:"badge text-primary bg-light-primary rounded-pill d-inline-block",children:0===e.status?"To do":1===e.status?"In progress":2===e.status?"Review":3===e.status?"Approved":"Revision"}),(0,y.jsxs)("div",{className:"d-flex gap-1",children:[(0,y.jsx)("span",{style:{fontSize:"12px"},className:"text-muted",children:"Deadline:"}),(0,y.jsx)("span",{style:{fontSize:"12px"},className:"".concat((0,v.A)(null===e||void 0===e?void 0:e.end_date)?"text-danger":"text-muted"),children:(0,f.A)(null===e||void 0===e?void 0:e.end_date)})]})]})]})]}),"done"!==n&&(0,y.jsx)("div",{children:(0,y.jsx)("div",{className:"d-flex gap-1 justify-content-center align-items-center",children:(0,y.jsx)("div",{className:"circular-progress",children:(0,y.jsx)(h.A,{data:parseInt(e.task_progress.toFixed(),10),color:"red"})})})})]}),"marked"===n&&(null===s||void 0===s?void 0:s.user.roles.includes("Director"))&&(b&&i===(null===e||void 0===e?void 0:e.task_id)?(0,y.jsx)("div",{className:"d-flex align-items-center",children:(0,y.jsx)(D.A,{size:"sm",color:"warning"})}):(0,y.jsx)("abbr",{title:"Mark task",style:{textDecoration:"none"},className:"d-flex align-items-center",children:(0,y.jsx)("button",{type:"button",className:"fav-btn",onClick:()=>(async e=>{p(e),k(!0),await z.post("api/task/".concat(null===s||void 0===s?void 0:s.user.employe_id,"/").concat(e,"/favorite")).then((e=>{B(),(0,R.x)("success",e.data.message)})).catch((()=>{(0,R.x)("error","Bad request.")})),p(),k(!1)})(null===e||void 0===e?void 0:e.task_id),children:(0,y.jsx)(j(),{icon:"star",className:"is_favorite"})})}))]},e.task_id)})):(0,y.jsx)(A,{})})]})}),_&&(0,y.jsx)(F.A,{modal:_,setModal:O,toggle:()=>{O(!_)},task:x,mode:"activities"})]})},C=()=>(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(E,{}),(0,y.jsxs)(s.A,{children:[(0,y.jsx)(i.A,{lg:"12",children:(0,y.jsx)(_,{})}),(0,y.jsx)(i.A,{lg:"4",children:(0,y.jsx)(M,{title:"Need Review",type:"done"})}),(0,y.jsx)(i.A,{lg:"4",children:(0,y.jsx)(M,{title:"Inprogress Tasks",type:"inprogress"})}),(0,y.jsx)(i.A,{lg:"4",children:(0,y.jsx)(M,{title:"Marked Tasks",type:"marked"})})]})]}),I=()=>{const e=(0,m.A)(),t=(new Date).getFullYear(),[n,s]=(0,l.useState)(t),[i,r]=(0,l.useState)([]),{isLoading:o,error:p,data:x}=(0,a.I)({queryKey:["daily-dashboard-summary",n],queryFn:()=>e.get("api/daily/dashboard?year=".concat(n)).then((e=>e.data))});(0,l.useEffect)((()=>{null!==x&&void 0!==x&&x.daily_bawahan&&r(x.daily_bawahan)}),[x]);return(0,y.jsx)(c.A,{className:"rounded-3",children:(0,y.jsxs)(d.A,{className:"d-flex flex-column gap-1",children:[(0,y.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,y.jsx)(u.A,{tag:"h4",children:"Dailies"}),(0,y.jsx)(b,{year:n,setYear:e=>{s(e)}})]}),(0,y.jsx)("div",{className:"d-flex flex-column gap-2 justify-content-center",children:o?(0,y.jsx)(N,{listLength:3,height:"sm"}):p?(0,y.jsx)(w,{}):i.length>0?i.map(((e,t)=>{const n=e.progress;return(0,y.jsx)("div",{className:"d-flex justify-content-between gap-1",children:(0,y.jsxs)("div",{className:"d-flex w-100 justify-content-between align-items-center p-2 rounded-3 link-item-bordered bg-white",style:{border:"1px dashed #28a745"},children:[(0,y.jsx)("div",{className:"d-flex w-100 justify-content-between align-items-center",children:(0,y.jsxs)("div",{className:"d-flex gap-2 col-md-10 align-items-center text-muted",style:{fontSize:"14px"},children:[(0,y.jsx)("span",{children:t+1}),(0,y.jsxs)("div",{className:"d-flex flex-column col-md-12",children:[(0,y.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-1",children:[(0,y.jsx)("img",{src:null!==e&&void 0!==e&&e.image?"".concat("https://hr-api.ptpema.co.id/api/","employee/file?f=photo-profil&id=").concat(e.employe_id):k,alt:e.name,style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover"}}),(0,y.jsxs)("div",{className:"d-flex flex-column",children:[(0,y.jsx)("span",{className:"text-dark fw-bold",children:e.name}),(0,y.jsx)("span",{className:"text-muted",children:e.position})]})]}),(0,y.jsxs)("div",{className:"d-flex align-items-end gap-3",children:[(0,y.jsxs)("span",{className:"badge bg-info bg-opacity-25 text-info rounded-pill px-3",children:["All: ",e.total]}),(0,y.jsxs)("span",{className:"badge bg-success bg-opacity-25 text-success rounded-pill px-3",children:["Done: ",e.approved]}),(0,y.jsxs)("span",{className:"badge bg-warning bg-opacity-25 text-warning rounded-pill px-3",children:["In Progress: ",e.inprogress]}),(0,y.jsxs)("span",{className:"badge bg-primary bg-opacity-25 text-primary rounded-pill px-3",children:["Review: ",e.review]}),(0,y.jsxs)("span",{className:"badge bg-danger bg-opacity-25 text-danger rounded-pill px-3",children:["Revised: ",e.revised]})]})]})]})}),(0,y.jsx)("div",{className:"d-flex gap-1 justify-content-center align-items-center",children:(0,y.jsx)("div",{className:"circular-progress",children:(0,y.jsx)(h.A,{data:parseInt(n.toFixed(),10),color:"green"})})})]})},e.employe_id||t)})):(0,y.jsx)(A,{})})]})})},T=()=>{const e=(0,m.A)(),{isLoading:t,error:n,data:s}=(0,a.I)({queryKey:["additional-tasks"],queryFn:()=>e.get("api/task/employe/additional/list").then((e=>e.data.data))});return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(c.A,{className:"rounded-3",children:(0,y.jsxs)(d.A,{className:"d-flex flex-column gap-1",children:[(0,y.jsx)("div",{className:"d-flex justify-content-between",children:(0,y.jsx)(u.A,{tag:"h4",children:"Additional Tasks"})}),(0,y.jsx)("div",{className:"d-flex flex-column gap-2 justify-content-center",children:t?(0,y.jsx)(N,{listLength:2,height:"sm"}):n?(0,y.jsx)(w,{}):(null===s||void 0===s?void 0:s.length)>0?s.map(((e,t)=>{var n;return(0,y.jsx)("div",{className:"d-flex justify-content-between gap-1",children:(0,y.jsxs)("div",{className:"d-flex w-100 justify-content-between align-items-center p-2 rounded-3 link-item-bordered bg-white",style:{border:"1px dashed #FFB22B"},children:[(0,y.jsx)("abbr",{title:null===e||void 0===e?void 0:e.task_title,style:{textDecoration:"none",width:"100%"},children:(0,y.jsxs)(o.N_,{to:"/projects/details/".concat(null===e||void 0===e?void 0:e.project_id,"?task=").concat(e.task_id),className:"d-flex gap-2 col-md-12 align-items-center text-muted",style:{fontSize:"13px",textDecoration:"none"},children:[(0,y.jsx)("span",{children:t+1}),(0,y.jsxs)("div",{className:"d-flex flex-column col-md-12",children:[(0,y.jsx)("div",{className:"d-flex",children:(0,y.jsx)("span",{className:"text-dark",children:(null===e||void 0===e?void 0:e.task_title.trim().length)>40?"".concat(null===e||void 0===e||null===(n=e.task_title)||void 0===n?void 0:n.substring(0,40),"..."):null===e||void 0===e?void 0:e.task_title})}),(0,y.jsxs)("div",{className:"d-flex align-items-end gap-3",children:[(0,y.jsx)("span",{className:"badge text-primary bg-light-primary rounded-pill d-inline-block",children:0===e.status?"To do":1===e.status?"In progress":2===e.status?"Review":3===e.status?"Approved":"Revision"}),(0,y.jsxs)("span",{style:{fontSize:"12px"},className:"text-muted",children:["Deadline: ",null===e||void 0===e?void 0:e.end_date]})]})]})]})}),(0,y.jsx)("div",{children:(0,y.jsx)("div",{className:"d-flex gap-1 justify-content-center align-items-center",children:(0,y.jsx)("div",{className:"circular-progress",children:(0,y.jsx)(h.A,{data:parseInt(e.task_progress.toFixed(),10),color:"red"})})})})]})},e.task_id)})):(0,y.jsx)(A,{})})]})})})},z=()=>{const{auth:e}=(0,r.A)(),t=null===e||void 0===e?void 0:e.user.roles.includes("Manager"),n=null===e||void 0===e?void 0:e.user.roles.includes("Supervisor");return e.user.roles.includes("Director")?(0,y.jsx)(C,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(E,{}),(0,y.jsxs)(s.A,{children:[(0,y.jsxs)(i.A,{lg:"8",children:[(0,y.jsx)(_,{}),(n||t)&&(0,y.jsx)(I,{})]}),(0,y.jsxs)(i.A,{lg:"4",children:[(0,y.jsx)(M,{title:"Recent Tasks",type:"recent"}),(0,y.jsx)(T,{})]})]})]})}},72738:(e,t,n)=>{n.d(t,{Ay:()=>E});var s=n(89379),i=n(80045),r=n(92906),l=n(16347),a=n(65043),o=n(58168),c=n(80296),d=n(88692),u=n(92646),p=(n(97950),n(11322),["in","onExited","appear","enter","exit"]),x=function(e){return function(t){t.in,t.onExited,t.appear,t.enter,t.exit;var n=(0,i.A)(t,p);return a.createElement(e,n)}},m=["component","duration","in","onExited"],h=function(e){var t=e.component,n=e.duration,r=void 0===n?1:n,l=e.in;e.onExited;var c=(0,i.A)(e,m),u=(0,a.useRef)(null),p={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(r,"ms")},exiting:{opacity:0},exited:{opacity:0}};return a.createElement(d.Ay,{mountOnEnter:!0,unmountOnExit:!0,in:l,timeout:r,nodeRef:u},(function(e){var n={style:(0,s.A)({},p[e]),ref:u};return a.createElement(t,(0,o.A)({innerProps:n},c))}))},f=function(e){var t=e.children,n=e.in,i=e.onExited,r=(0,a.useRef)(null),l=(0,a.useState)("auto"),o=(0,c.A)(l,2),u=o[0],p=o[1];(0,a.useEffect)((function(){var e=r.current;if(e){var t=window.requestAnimationFrame((function(){return p(e.getBoundingClientRect().width)}));return function(){return window.cancelAnimationFrame(t)}}}),[]);var x=function(e){switch(e){default:return{width:u};case"exiting":return{width:0,transition:"width ".concat(260,"ms ease-out")};case"exited":return{width:0}}};return a.createElement(d.Ay,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:n,onExited:function(){var e=r.current;e&&(null===i||void 0===i||i(e))},timeout:260,nodeRef:r},(function(e){return a.createElement("div",{ref:r,style:(0,s.A)({overflow:"hidden",whiteSpace:"nowrap"},x(e))},t)}))},v=["in","onExited"],g=function(e){return function(t){var n=t.in,s=t.onExited,r=(0,i.A)(t,v);return a.createElement(f,{in:n,onExited:s},a.createElement(e,(0,o.A)({cropWithEllipsis:n},r)))}},j=function(e){return function(t){return a.createElement(h,(0,o.A)({component:e,duration:t.isMulti?260:1},t))}},y=function(e){return function(t){return a.createElement(h,(0,o.A)({component:e},t))}},b=["component"],N=["children"],A=function(e){var t=e.component,n=(0,i.A)(e,b),s=w(n);return a.createElement(u.A,(0,o.A)({component:t},s))},w=function(e){var t=e.children,n=(0,i.A)(e,N),r=n.isMulti,l=n.hasValue,o=n.innerProps,d=n.selectProps,u=d.components,p=d.controlShouldRenderValue,x=(0,a.useState)(r&&p&&l),m=(0,c.A)(x,2),h=m[0],f=m[1],v=(0,a.useState)(!1),g=(0,c.A)(v,2),j=g[0],y=g[1];(0,a.useEffect)((function(){l&&!h&&f(!0)}),[l,h]),(0,a.useEffect)((function(){j&&!l&&h&&f(!1),y(!1)}),[j,l,h]);var b=function(){return y(!0)},A=(0,s.A)((0,s.A)({},o),{},{style:(0,s.A)((0,s.A)({},null===o||void 0===o?void 0:o.style),{},{display:r&&l||h?"flex":"grid"})});return(0,s.A)((0,s.A)({},n),{},{innerProps:A,children:a.Children.toArray(t).map((function(e){if(r&&a.isValidElement(e)){if(e.type===u.MultiValue)return a.cloneElement(e,{onExited:b});if(e.type===u.Placeholder&&h)return null}return e}))})},k=function(e){return function(t){return t.isMulti?a.createElement(A,(0,o.A)({component:e},t)):a.createElement(u.A,(0,o.A)({component:e},t))}},_=["Input","MultiValue","Placeholder","SingleValue","ValueContainer"],O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.F)({components:e}),n=t.Input,r=t.MultiValue,a=t.Placeholder,o=t.SingleValue,c=t.ValueContainer,d=(0,i.A)(t,_);return(0,s.A)({Input:x(n),MultiValue:g(r),Placeholder:j(a),SingleValue:y(o),ValueContainer:k(c)},d)},S=O(),E=(S.Input,S.MultiValue,S.Placeholder,S.SingleValue,S.ValueContainer,(0,r.A)(O))},86985:(e,t,n)=>{n.d(t,{A:()=>m});var s=n(65043),i=n(65173),r=n.n(i),l=n(98139),a=n.n(l),o=n(96794),c=["className","cssModule","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},d.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,s,i=function(e,t){if(null==e)return{};var n,s,i={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p={className:r().string,cssModule:r().object,tag:o.Wx};function x(e){var t=e.className,n=e.cssModule,i=e.tag,r=void 0===i?"div":i,l=u(e,c),p=(0,o.qO)(a()(t,"card-subtitle"),n);return s.createElement(r,d({},l,{className:p}))}x.propTypes=p;const m=x},35299:(e,t,n)=>{n.d(t,{A:()=>m});var s=n(65043),i=n(65173),r=n.n(i),l=n(98139),a=n.n(l),o=n(96794),c=["className","cssModule","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},d.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,s,i=function(e,t){if(null==e)return{};var n,s,i={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p={className:r().string,cssModule:r().object,tag:o.Wx};function x(e){var t=e.className,n=e.cssModule,i=e.tag,r=void 0===i?"div":i,l=u(e,c),p=(0,o.qO)(a()(t,"card-title"),n);return s.createElement(r,d({},l,{className:p}))}x.propTypes=p;const m=x},6221:(e,t,n)=>{n.d(t,{A:()=>g});var s=n(65043),i=n(65173),r=n.n(i),l=n(96794);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var o=["className","cssModule","tag","innerRef"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},c.apply(this,arguments)}function d(e,t){if(null==e)return{};var n,s,i=function(e,t){if(null==e)return{};var n,s,i={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(s,arguments,i)}else n=s.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(this,n)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var f={children:r().node,tag:l.Wx,innerRef:r().oneOfType([r().object,r().func,r().string]),className:r().string,cssModule:r().object},v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(a,e);var t,n,i,r=x(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=r.call(this,e)).getRef=t.getRef.bind(m(t)),t.submit=t.submit.bind(m(t)),t}return t=a,(n=[{key:"getRef",value:function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e}},{key:"submit",value:function(){this.ref&&this.ref.submit()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,i=e.tag,r=void 0===i?"form":i,a=e.innerRef,u=d(e,o),p=(0,l.qO)(t,n);return s.createElement(r,c({},u,{ref:a,className:p}))}}])&&u(t.prototype,n),i&&u(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(s.Component);v.propTypes=f;const g=v},98396:(e,t,n)=>{n.d(t,{A:()=>u});var s=n(65043),i=n(98139),r=n.n(i),l=n(42966),a=n(96794);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o.apply(this,arguments)}var c={placement:"top",autohide:!0,placementPrefix:"bs-tooltip",trigger:"hover focus"};function d(e){var t=r()("tooltip-arrow",e.arrowClassName),n=r()("tooltip","show",e.popperClassName),i=r()("tooltip-inner",e.innerClassName),d=(0,a.Jc)(c,e);return s.createElement(l.A,o({},d,{arrowClassName:t,popperClassName:n,innerClassName:i}))}d.propTypes=l.t;const u=d}}]);
//# sourceMappingURL=1593.7476fd3b.chunk.js.map