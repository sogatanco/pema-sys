{"version":3,"file":"static/js/7354.fb7c15d0.chunk.js","mappings":"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","sources":["pages/Verif/Verification.js","pages/adm/Fungsi/FMerge.js","pages/adm/Fungsi/Terbilang.js","pages/adm/Fungsi/Generate.js","../node_modules/reactstrap/esm/Badge.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport { useParams, useSearchParams } from 'react-router-dom';\r\nimport MaterialIcon from '@material/react-material-icon';\r\nimport { Badge } from 'reactstrap';\r\nimport { QRCode } from 'react-qrcode-logo';\r\nimport dayjs from 'dayjs';\r\nimport 'dayjs/locale/id';\r\nimport useAxios from '../../hooks/useAxios';\r\nimport logo from '../../assets/images/qrcode/qr-code-logo.png';\r\nimport FMerge from '../adm/Fungsi/FMerge';\r\nimport GenerateSurat from '../adm/Fungsi/Generate';\r\nimport './Style.scss';\r\n\r\n\r\nconst Verification = () => {\r\n  const qrCodeRef = useRef();\r\n  const baseURL1 = process.env.REACT_APP_FRONTEND;\r\n  const { idDoc } = useParams();\r\n  const [searchParams] = useSearchParams();\r\n\r\n  const vtype = searchParams.get('type');\r\n\r\n  const [error, setError] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState();\r\n  const api = useAxios();\r\n\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      setIsLoading(true);\r\n      await api\r\n        .post(`dapi/verif/${idDoc}`, { type: vtype })\r\n        .then((res) => {\r\n          console.log(res.data.data)\r\n          if (res.data.data.status === 'approve') {\r\n            setIsLoading(false);\r\n            setData(res.data.data);\r\n          } else {\r\n            setError(true);\r\n            setIsLoading(false);\r\n          }\r\n        })\r\n        .catch(() => {\r\n          setError(true);\r\n          setIsLoading(false);\r\n        });\r\n    }\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const viewSurat = () => {\r\n    console.log(data?.detail)\r\n    setLoading(true);\r\n\r\n    async function fetch(deta) {\r\n      try {\r\n        const pdf = await GenerateSurat(deta, qrCodeRef);\r\n\r\n        FMerge(pdf, data?.detail?.fileLampiran).then((res) => {\r\n\r\n          const newWindow = window.open(res);\r\n\r\n          if (!newWindow || newWindow.closed || typeof newWindow.closed === \"undefined\") {\r\n            // Fallback untuk Safari atau jika popup diblokir\r\n            // alert(\"Tidak dapat membuka tab baru. File akan diunduh.\");\r\n            const link = document.createElement(\"a\");\r\n            link.href = res;\r\n            link.download = \"file.txt\"; // Nama file\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n          }\r\n\r\n          // Bersihkan URL Blob setelah selesai\r\n          URL.revokeObjectURL(res);\r\n\r\n\r\n        });\r\n\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n      fetch(data?.detail);\r\n    }, 300)\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  return (\r\n\r\n\r\n    <>\r\n      <div className=\"verified-status\">\r\n\r\n        <div className=\"content-status\">\r\n          {isLoading ? (\r\n            <h5>Loading...</h5>\r\n          ) : error || data === null ? (\r\n            <>\r\n              <img src={logo} alt=\"logo\" />\r\n              {/* <h4>\r\n             {data?.bentuk_usaha} {data?.nama_perusahaan}\r\n           </h4> */}\r\n\r\n              <div className=\"verified\">\r\n                <div className=\"icon-close\">\r\n                  <br />  <br />\r\n                  <MaterialIcon icon=\"close\" />\r\n                </div>\r\n                <br />\r\n\r\n\r\n                <span style={{ marginBottom: '-10px', textTransform: 'uppercase' }}>\r\n                  <strong> Dokumen {data?.jenis_name}</strong>\r\n                </span>\r\n                <span className=\"small mt-0\">ini tidak terdaftar di database kami</span>\r\n              </div>\r\n\r\n              <br />\r\n              <br />\r\n              <br />\r\n              <div className=\"copyright\">\r\n                <span>DOCUMENT VERIFICATION SYSTEM</span>\r\n                <span>© {new Date().getFullYear()} PT Pembangunan Aceh</span>\r\n              </div>\r\n              <br />\r\n            </>\r\n          ) : (\r\n            <>\r\n              <img src={logo} alt=\"logo\" />\r\n              {/* <h4>\r\n             {data?.bentuk_usaha} {data?.nama_perusahaan}\r\n           </h4> */}\r\n              <div className=\"verified\">\r\n                <div className=\"icon-check\">\r\n                  <MaterialIcon icon=\"check\" />\r\n                </div>\r\n                <span style={{ marginBottom: '-10px', textTransform: 'uppercase' }}>\r\n                  <strong> Dokumen {data?.jenis_name}</strong>\r\n                </span>\r\n                <span className=\"small mt-0\">ini benar telah ditandatangani</span>\r\n              </div>\r\n\r\n              <div className=\"spda-status-container\">\r\n                <div className=\"no-spda\">\r\n                  <span>oleh</span>\r\n                  <span>{data?.employe_name}</span>\r\n                </div>\r\n                <div className=\"spda-status\">\r\n                  <span>sebagai</span>\r\n                  <span>{data?.id_current_position}</span>\r\n                </div>\r\n                <div className=\"spda-status\">\r\n                  <span>Pada</span>\r\n                  <span>\r\n                    {dayjs(data?.updated_at).locale('id').format('dddd, DD MMMM YYYY') || ''}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              {\r\n                data?.jenis_doc === 2 && (\r\n                  <Badge color=\"info\" style={{ zIndex: 3, cursor: 'pointer' }} onClick={() => viewSurat()}> {loading ? 'Loading...' : 'Lihat surat'} </Badge>\r\n\r\n                )\r\n              }\r\n\r\n              <br />\r\n              <div className=\"copyright\">\r\n                <span>DOCUMENT VERIFICATION SYSTEM</span>\r\n                <span>© {new Date().getFullYear()} PT Pembangunan Aceh</span>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div ref={qrCodeRef} style={{ display: 'none' }}>\r\n        <QRCode\r\n          value={`${baseURL1}verification/${data?.id_doc}?type=sign`}\r\n          size={400}\r\n          qrStyle=\"dots\"\r\n          logoImage={logo} // Ganti dengan URL logo kamu\r\n          logoWidth={100}\r\n          logoHeight={100}\r\n          eyeRadius={20}\r\n          fgColor=\"#0F52BA\"\r\n        />\r\n      </div></>\r\n  );\r\n};\r\n\r\nexport default Verification;\r\n","import { PDFDocument } from 'pdf-lib';\r\n\r\nconst FMerge = async (base1, base2) => {\r\n  const mergePdf = async (pdf1, pdf2) => {\r\n    const pdfDoc = await PDFDocument.create();\r\n\r\n    const p1 = await PDFDocument.load(pdf1);\r\n    const p2 = await PDFDocument.load(pdf2);\r\n\r\n    const copy1 = await pdfDoc.copyPages(p1, p1.getPageIndices());\r\n    const copy2 = await pdfDoc.copyPages(p2, p2.getPageIndices());\r\n\r\n    copy1.forEach((page) => {\r\n      pdfDoc.addPage(page);\r\n    });\r\n    copy2.forEach((page) => {\r\n      pdfDoc.addPage(page);\r\n    });\r\n    const mergedPdf = await pdfDoc.save();\r\n    return mergedPdf;\r\n  };\r\n\r\n   if (!base2) {\r\n    const pd1 = Uint8Array.from(atob(base1), (c) => c.charCodeAt(0));\r\n    const mergedPdfBlob = new Blob([pd1], { type: 'application/pdf' });\r\n    return URL.createObjectURL(mergedPdfBlob);\r\n  }\r\n\r\n\r\n  const pd1 = new Uint8Array(\r\n    atob(base1)\r\n      .split('')\r\n      .map((c) => c.charCodeAt(0)),\r\n  );\r\n  const pd2 = new Uint8Array(\r\n    atob(base2)\r\n      .split('')\r\n      .map((c) => c.charCodeAt(0)),\r\n  );\r\n\r\n  const mergedPdf = await mergePdf(pd1, pd2);\r\n  const mergedPdfBase64 = new Blob([mergedPdf], { type: 'application/pdf' });\r\n  return URL.createObjectURL(mergedPdfBase64);\r\n};\r\n\r\nexport default FMerge;\r\n","function Terbilang(number) {\r\n    const angka = [\r\n        'Nol', 'Satu', 'Dua', 'Tiga', 'Empat', 'Lima', 'Enam', 'Tujuh', 'Delapan', 'Sembilan',\r\n        'Sepuluh', 'Sebelas'\r\n      ];\r\n    \r\n      if (number < 12) return angka[number];\r\n    \r\n      const divisor = [\r\n        '',\r\n        'Belas',\r\n        'Puluh',\r\n        'Ratus',\r\n        'Ribu',\r\n        'Juta',\r\n        'Miliar',\r\n        'Triliun',\r\n      ];\r\n    \r\n      let result = '';\r\n      const numStr = number.toString();\r\n      const length = numStr?.length;\r\n    \r\n      if (length > 12) {\r\n        return 'Angka terlalu besar';\r\n      }\r\n    \r\n      for (let i = 0; i < length; i++) {\r\n        const num = parseInt(numStr.charAt(i), 10);\r\n        const pos = length - i - 1;\r\n    \r\n        // Jika angka adalah 0, kita langsung lanjutkan tanpa melakukan apa-apa\r\n        if (num === 0) {\r\n            result += ''; // Di sini menggunakan continue karena tidak ada tindakan lain\r\n        }\r\n    \r\n        if (pos === 1 && num === 1 && numStr.charAt(i + 1) !== '0') {\r\n          result += ' Sebelas';\r\n          break;\r\n        } else {\r\n          result += ` ${angka[num]} ${divisor[pos]}`;\r\n        }\r\n      }\r\n    \r\n      return result.trim();\r\n    }\r\n  \r\n  export default Terbilang;","import * as pdfMake from 'pdfmake/build/pdfmake';\r\nimport htmlToPdfmake from 'html-to-pdfmake';\r\nimport image from '../../../assets/image';\r\n// import draft from '../../../assets/images/surat/160133.png';\r\nimport Terbilang from './Terbilang';\r\n// import { height } from '@mui/system';\r\n\r\nconst pdfFonts = require('../../../assets/vfs_fonts');\r\n\r\nconst GenerateSurat = (dataSurat, htmlRef) => {\r\n  return new Promise((resolve, reject) => {\r\n    pdfMake.vfs = pdfFonts.pdfMake.vfs;\r\n    pdfMake.fonts = {\r\n      Archivo: {\r\n        normal: 'Archivo-Regular.ttf',\r\n        bold: 'Archivo-SemiBold.ttf',\r\n        italics: 'Archivo-Italic.ttf',\r\n        bolditalics: 'Archivo-SemiBoldItalic.ttf',\r\n      },\r\n    };\r\n    const html = `<p style=\"margin-bottom:5px\">Banda Aceh, ${new Intl.DateTimeFormat('id-ID', {\r\n      day: '2-digit',\r\n      month: 'long',\r\n      year: 'numeric',\r\n    }).format(new Date(dataSurat?.tglSurat))}</p>  \r\n      \r\n        <table style=\"border-collapse: collapse; width: 100%; border: 0px;\" border=\"1\"; padding=\"0\";><colgroup><col style=\"width: 13%;\"><col style=\"width: 2%;\"><col style=\"width: 85%;\"></colgroup>\r\n        <tbody>\r\n          <tr style=\"margin-left:-5\">\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2; \" >Nomor</td>\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2;\" >:</td>\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2;\">${\r\n              dataSurat?.nomorSurat\r\n            }</td>\r\n          </tr>\r\n          <tr style=\"margin-left:-5\">\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2;\">Lampiran</td>\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2;\">:</td>\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2;\">${\r\n              Number(dataSurat?.lampiran) > 0\r\n                ? `${dataSurat?.lampiran} (${Terbilang(Number(dataSurat?.lampiran))}) ${\r\n                    dataSurat?.jenisLampiran || ' Eks'\r\n                  }`\r\n                : `-`\r\n            }</td>\r\n          </tr>\r\n          <tr style=\"margin-left:-5\">\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2;\">Perihal</td>\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2;\">:</td>\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2;\">${\r\n              dataSurat?.perihal\r\n            }</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n        <div style=\"line-height: 1.2; margin-top:3; margin-bottom:-12\">Kepada Yth<br>\r\n            <strong style=\"line-height: 0.9!important;\">${dataSurat?.kepada}</strong><br>\r\n            di - <br>\r\n            <span>          Tempat</span>\r\n        </div>\r\n       <span style=\"line-height: 1.3; text-align:justify\">  ${dataSurat?.isiSurat}</span>\r\n  \r\n      `;\r\n\r\n    if (htmlRef.current) {\r\n      const canvas = htmlRef.current.querySelector('canvas');\r\n\r\n      if (canvas) {\r\n        const qrcode = canvas.toDataURL();\r\n\r\n        const pdfContent = htmlToPdfmake(html, {\r\n          defaultStyles: {\r\n            p: { margin: [0, 3, 0, -12] },\r\n\r\n            td: {\r\n              verticalAlign: 'top',\r\n              marginBottom: -4,\r\n              heigt: 'auto',\r\n            },\r\n            ol: {\r\n              margin: [0, 0, 0, -15],\r\n              padding: [0, 0, 0, 0],\r\n            },\r\n            ul: { margin: [0, 0, 0, -15], padding: [0, 0, 0, 0] },\r\n            li: {\r\n              marginBottom: 2,\r\n            },\r\n            tr: {\r\n              margin: [-5, 0, 0, 0],\r\n            },\r\n            table: {\r\n              margin: [0, -3, 0, -7],\r\n              width: '100%',\r\n            },\r\n            br: {\r\n              margin: [0, 0, 0, 0],\r\n            },\r\n          },\r\n          tableAutoSize: true,\r\n        });\r\n\r\n        const docDefinition = {\r\n          pageOrientation: 'portrait',\r\n          pageSize: 'A4',\r\n          pageMargins: [50, 70, 50, 70],\r\n          content: [\r\n            pdfContent,\r\n\r\n            {\r\n              stack: [\r\n                {\r\n                  text: `Hormat Kami, `,\r\n                  style: 'normal',\r\n                },\r\n                {\r\n                  text: 'PT PEMBANGUNAN ACEH',\r\n                  style: 'boldText',\r\n                },\r\n                {\r\n                  image: `${dataSurat?.status === 'signed' ? qrcode : image.placeholder}`,\r\n                  width: 60, // Sesuaikan lebar logo sesuai kebutuhan\r\n                },\r\n                {\r\n                  text: `${dataSurat?.signer?.first_name}`,\r\n                  style: 'boldText',\r\n                },\r\n                {\r\n                  text: `${dataSurat?.signer?.position_name}`,\r\n                  style: 'normal',\r\n                },\r\n              ],\r\n              unbreakable: true, // This ensures the entire stack stays together on the same page\r\n              margin: [0, 10],\r\n            },\r\n            {\r\n              text: dataSurat?.tembusans?.length>0 ? 'Tembusan Yth : ':'',\r\n              style: 'normal',\r\n            },\r\n            {\r\n              ol: dataSurat?.tembusans\r\n            }\r\n          ],\r\n\r\n          background: () => {\r\n            return dataSurat?.draft\r\n              ? {\r\n                  image: image.draft,\r\n                  width: 300,\r\n                  height: 300,\r\n                  opacity: 0.2,\r\n                  marginTop: 250,\r\n                  marginLeft: 150,\r\n                }\r\n              : '';\r\n          },\r\n          styles: {\r\n            boldText: {\r\n              bold: true,\r\n            },\r\n          },\r\n          images: html.images,\r\n          header: (page) => {\r\n            if (page !== 1) return { text: '' };\r\n\r\n            return {\r\n              image: image.headSurat,\r\n              width: '595',\r\n            };\r\n          },\r\n          footer: (currentPage, pageCount) => {\r\n            if (currentPage !== pageCount) return { text: '' };\r\n\r\n            return {\r\n              image: image.footSurat,\r\n              width: '595',\r\n            };\r\n          },\r\n          defaultStyle: {\r\n            font: 'Archivo',\r\n            fontSize: 10,\r\n            color: '#000',\r\n            ol: {\r\n              margin: [0, 0, 0, 0],\r\n              padding: [0, 0, 0, 0],\r\n            },\r\n          },\r\n        };\r\n        pdfMake.createPdf(docDefinition).getBase64((base64) => {\r\n          if (base64) {\r\n            resolve(base64); // Mengembalikan base64\r\n          } else {\r\n            reject(new Error('Error generating base64 PDF'));\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    // Create a document definition for pdfmake\r\n  });\r\n};\r\n\r\nexport default GenerateSurat;\r\n","var _excluded = [\"className\", \"cssModule\", \"color\", \"innerRef\", \"pill\", \"tag\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  /** Pass children so this component can wrap the child elements */\n  children: PropTypes.node,\n  /** Add custom class */\n  className: PropTypes.string,\n  /** Change background color of Badge */\n  color: PropTypes.string,\n  /** Change existing className with a new className */\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  /** Add rounded corners to the Badge */\n  pill: PropTypes.bool,\n  /** Set a custom element for this component */\n  tag: tagPropType\n};\nfunction Badge(props) {\n  var className = props.className,\n    cssModule = props.cssModule,\n    _props$color = props.color,\n    color = _props$color === void 0 ? 'secondary' : _props$color,\n    innerRef = props.innerRef,\n    _props$pill = props.pill,\n    pill = _props$pill === void 0 ? false : _props$pill,\n    _props$tag = props.tag,\n    Tag = _props$tag === void 0 ? 'span' : _props$tag,\n    attributes = _objectWithoutProperties(props, _excluded);\n  var classes = mapToCssModules(classNames(className, 'badge', 'bg-' + color, pill ? 'rounded-pill' : false), cssModule);\n  if (attributes.href && Tag === 'span') {\n    Tag = 'a';\n  }\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n}\nBadge.propTypes = propTypes;\nexport default Badge;"],"names":["Verification","qrCodeRef","useRef","idDoc","useParams","searchParams","useSearchParams","vtype","get","error","setError","useState","isLoading","setIsLoading","loading","setLoading","data","setData","api","useAxios","useEffect","async","post","type","then","res","console","log","status","catch","fetchData","viewSurat","detail","setTimeout","deta","_data$detail","pdf","GenerateSurat","FMerge","fileLampiran","newWindow","window","open","closed","link","document","createElement","href","download","body","appendChild","click","removeChild","URL","revokeObjectURL","e","fetch","_jsxs","_Fragment","children","_jsx","className","src","logo","alt","MaterialIcon","icon","style","marginBottom","textTransform","jenis_name","Date","getFullYear","employe_name","id_current_position","dayjs","updated_at","locale","format","jenis_doc","Badge","color","zIndex","cursor","onClick","ref","display","QRCode","value","id_doc","size","qrStyle","logoImage","logoWidth","logoHeight","eyeRadius","fgColor","base1","base2","pd1","Uint8Array","from","atob","c","charCodeAt","mergedPdfBlob","Blob","createObjectURL","split","map","pd2","mergedPdf","pdf1","pdf2","pdfDoc","PDFDocument","create","p1","load","p2","copy1","copyPages","getPageIndices","copy2","forEach","page","addPage","save","mergePdf","mergedPdfBase64","number","angka","divisor","result","numStr","toString","length","i","num","parseInt","charAt","pos","trim","pdfFonts","require","dataSurat","htmlRef","Promise","resolve","reject","pdfMake","vfs","Archivo","normal","bold","italics","bolditalics","html","Intl","DateTimeFormat","day","month","year","tglSurat","nomorSurat","Number","lampiran","Terbilang","jenisLampiran","perihal","kepada","isiSurat","current","canvas","querySelector","_dataSurat$signer","_dataSurat$signer2","_dataSurat$tembusans","qrcode","toDataURL","docDefinition","pageOrientation","pageSize","pageMargins","content","htmlToPdfmake","defaultStyles","p","margin","td","verticalAlign","heigt","ol","padding","ul","li","tr","table","width","br","tableAutoSize","stack","text","image","placeholder","signer","first_name","position_name","unbreakable","tembusans","background","draft","height","opacity","marginTop","marginLeft","styles","boldText","images","header","headSurat","footer","currentPage","pageCount","footSurat","defaultStyle","font","fontSize","getBase64","base64","Error","_excluded","_extends","Object","assign","bind","target","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","propTypes","PropTypes","cssModule","innerRef","pill","tag","tagPropType","props","_props$color","_props$pill","_props$tag","Tag","attributes","classes","mapToCssModules","classNames","React"],"sourceRoot":""}