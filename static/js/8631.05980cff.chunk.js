"use strict";(self.webpackChunkmaterialpro_main=self.webpackChunkmaterialpro_main||[]).push([[8631],{82959:(e,t,s)=>{s.d(t,{x:()=>i,y:()=>a});s(65043);var n=s(23768),r=s(70579);const a=()=>(0,r.jsx)(n.l$,{toastOptions:{className:"",style:{}}}),i=(e,t)=>{((e,t)=>{"success"===e?n.Ay.success(t):"create"===e?(0,n.Ay)(t,{icon:"\ud83e\udd17"}):"start"===e?(0,n.Ay)("Lets get started, cheer up!",{icon:"\ud83d\udcaa"}):"done"===e?(0,n.Ay)("Horeee, task done!",{icon:"\ud83d\udc4f"}):n.Ay.error(t)})(e,t)}},88631:(e,t,s)=>{s.r(t),s.d(t,{default:()=>E});var n=s(65043),r=s(89804),a=s(49157),i=s(18353),l=s(12327),o=s(22345),c=s(26259),d=s(16544),u=s(23222),h=s(10591),p=s(20782),v=s(72679),m=s(97550),g=s(7493),b=s(91014),x=s(55918),j=s.n(x),f=s(72738),y=s(58786),O=s(96460),A=s(73216),w=s(93397),N=s(30342),_=s(80519),S=(s(60088),s(82959)),C=s(70579);const P=(0,f.Ay)(),E=()=>{var e,t,s,x,f,E,k,q,R,D,M,L,Q,T,I,U,z;const{auth:H}=(0,N.A)(),F=(0,n.useRef)(null),{assetId:W}=(0,A.g)(),[B,V]=(0,n.useState)(!1),[$,K]=(0,n.useState)(!1),[J,Z]=(0,n.useState)(!1),[G,X]=(0,n.useState)([]),[Y,ee]=(0,n.useState)(),[te,se]=(0,n.useState)([]),[ne,re]=(0,n.useState)(""),[ae,ie]=(0,n.useState)(""),[le,oe]=(0,n.useState)(""),[ce,de]=(0,n.useState)(""),[ue,he]=(0,n.useState)(""),[pe,ve]=(0,n.useState)(""),[me]=(0,n.useState)(new Date),ge=(0,w.A)(),be=(0,O.E)({queries:[{queryKey:["assetDetail",0],queryFn:()=>ge.get("dapi/inven/".concat(W)).then((e=>(console.log(e.data.data),e.data.data)))},{queryKey:["assigne",1],queryFn:()=>ge.get("api/employe/assignment-list?search=all").then((e=>e.data.data))}]}),{refetch:xe}=be[0],je=()=>{K(!$)},fe=()=>{if(Z(!J),!J){var e,t,s;ie(be[0].data.name),oe(be[0].data.price),de(be[0].data.vendor),he(be[0].data.acquisition),ve(be[0].data.location);const n=[];null===(e=be[0])||void 0===e||null===(t=e.data)||void 0===t||null===(s=t.responsible_list)||void 0===s||s.map((e=>n.push({label:e.first_name,value:e.employe_id}))),X(n)}},ye=(e,t)=>{if(V(!B),!B){ee(e);const s=[];null===t||void 0===t||t.map((e=>s.push({label:e.first_name,value:e.employe_id}))),X(s)}},Oe=e=>{X(e)},Ae={weekday:"long",year:"numeric",month:"short",day:"numeric"},we=[{name:"Asset Number",selector:e=>e.asset_number},{name:"Responsible",selector:e=>{var t;return(0,C.jsxs)(C.Fragment,{children:[H.user.roles.includes("PicAsset")?(0,C.jsx)(r.A,{color:"warning",onClick:()=>ye(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.res_list),className:"ms-2",children:"+ add"}):"",null===e||void 0===e||null===(t=e.res_list)||void 0===t?void 0:t.map((e=>(0,C.jsx)(r.A,{color:"primary",className:"ms-2",children:null===e||void 0===e?void 0:e.first_name},null===e||void 0===e?void 0:e.employe_id)))]})}},{name:"Last Udpate",selector:e=>"".concat(new Date(e.updated_at).toLocaleDateString("en-us",Ae)," ").concat(new Date(e.updated_at).toLocaleTimeString()," ")}];(0,n.useEffect)((()=>{var e;xe(),console.log(null===(e=be[0])||void 0===e?void 0:e.data)}),[W]);const Ne={id:0,responsible:""},_e=e=>{var t;(t=e.target.files[0],new Promise((e=>{let s="";const n=new FileReader;n.readAsDataURL(t),n.onload=()=>{s=n.result,e(s)}}))).then((e=>{(async e=>{const t={id:W,file:e};await ge.post("dapi/inven/update/image",t).then((e=>{var t,s;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.success?((0,S.x)("success","".concat(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message)),xe(),me(new Date)):(0,S.x)("error","failed !!")})).catch((e=>{(0,S.x)("error",e)}))})(e)})).catch((e=>{console.log(e)}))};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(a.A,{children:(0,C.jsxs)(i.A,{children:[(0,C.jsxs)(l.A,{className:"content",children:[(0,C.jsx)(o.A,{sm:"12",lg:"5",className:" py-4 image",style:{backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(null===(e=be[0])||void 0===e||null===(t=e.data)||void 0===t?void 0:t.file_image,")")},children:H.user.roles.includes("PicAsset")?(0,C.jsx)("div",{className:"d-flex justify-content-end",children:(0,C.jsx)(c.A,{color:"dark",outline:!0,className:"pb-0",size:"sm",onClick:()=>{F.current.click()},children:(0,C.jsx)(j(),{icon:"photo_camera"})})}):""}),(0,C.jsxs)(o.A,{sm:"12",lg:"7",className:"py-4 text",children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,C.jsx)("h2",{className:"text-bold mb-0",children:null===(s=be[0].data)||void 0===s?void 0:s.name}),H.user.roles.includes("PicAsset")?(0,C.jsx)(c.A,{color:"dark",size:"sm",outline:!0,className:"pb-0",onClick:fe,children:(0,C.jsx)(j(),{icon:"mode_edit"})}):""]}),(0,C.jsx)("hr",{}),(0,C.jsx)("table",{className:"w-100",children:(0,C.jsxs)("tbody",{children:[(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:"Parent Asset Number"}),(0,C.jsx)("td",{className:"text-end",children:null===(x=be[0].data)||void 0===x?void 0:x.asset_number})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:"Type"}),(0,C.jsx)("td",{className:"text-end",children:null===(f=be[0].data)||void 0===f?void 0:f.type_name})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:"Acquisition Price"}),(0,C.jsx)("td",{className:"text-end",children:(0,_.A)(null===(E=be[0].data)||void 0===E?void 0:E.price)})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:"Current Asset Value"}),(0,C.jsx)("td",{className:"text-end",children:(0,_.A)(null===(k=be[0].data)||void 0===k?void 0:k.current)})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:"Vendor"}),(0,C.jsx)("td",{className:"text-end",children:null===(q=be[0].data)||void 0===q?void 0:q.vendor})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:"Acquisition Time"}),(0,C.jsx)("td",{className:"text-end",children:null===(R=be[0].data)||void 0===R?void 0:R.acquisition})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:"Age "}),(0,C.jsx)("td",{className:"text-end",children:null===(D=be[0].data)||void 0===D?void 0:D.old})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:"Amount "}),(0,C.jsxs)("td",{className:"text-end",children:[null===(M=be[0].data)||void 0===M?void 0:M.amount," items"]})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:"Location "}),(0,C.jsx)("td",{className:"text-end",children:null===(L=be[0].data)||void 0===L?void 0:L.location})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:"Last Update"}),(0,C.jsx)("td",{className:"text-end",children:"".concat(new Date(null===(Q=be[0].data)||void 0===Q?void 0:Q.updated_at).toLocaleDateString("en-us",Ae)," ").concat(new Date(null===(T=be[0].data)||void 0===T?void 0:T.updated_at).toLocaleTimeString())})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:"Responsible "}),(0,C.jsx)("td",{className:"text-end",children:null===(I=be[0].data)||void 0===I||null===(U=I.responsible_list)||void 0===U?void 0:U.map((e=>(0,C.jsx)(r.A,{color:"primary",className:"ms-2",children:null===e||void 0===e?void 0:e.first_name},null===e||void 0===e?void 0:e.employe_id)))})]})]})})]})]}),(0,C.jsx)(y.Ay,{className:"mt-0",columns:we,data:null===(z=be[0].data)||void 0===z?void 0:z.child,pagination:!0,selectableRows:!!H.user.roles.includes("PicAsset")||"",onSelectedRowsChange:e=>{let{selectedRows:t}=e;se(t)},subHeader:!0,subHeaderComponent:H.user.roles.includes("PicAsset")?(0,C.jsxs)(d.A,{className:"me-auto mt-5",size:"sm",children:[(0,C.jsx)(c.A,{className:"pb-0",outline:!0,disabled:0===(null===te||void 0===te?void 0:te.length),onClick:async()=>{await ge.post("dapi/inven/child/del",{data:te}).then((e=>{var t,s,n;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.success?((0,S.x)("success","".concat(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message)),xe(),se([])):(0,S.x)("error","".concat(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message))})).catch((e=>{ye(),se([]),(0,S.x)("error",e)}))},children:(0,C.jsx)(j(),{icon:"delete_forever"})}),(0,C.jsx)(c.A,{outline:!0,color:"success",onClick:je,children:"+ Add Child"})]}):""})]})}),(0,C.jsxs)(u.A,{isOpen:B,toggle:ye,children:[(0,C.jsx)(h.A,{toggle:ye,children:"Add Another Employee"}),(0,C.jsxs)(p.A,{children:[(0,C.jsx)(b.Ay,{components:P,isMulti:!0,value:G,options:be[1].data,onChange:Oe,isClearable:G.some((e=>!e.isFixed))}),(0,C.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,C.jsx)(c.A,{onClick:()=>(async()=>{const e=[];null===G||void 0===G||G.map((t=>e.push("//".concat(t.value,"//")))),Ne.id=Y,Ne.responsible=e.toLocaleString(),await ge.post("dapi/inven/child/update",Ne).then((e=>{var t;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.success&&(ye(),xe())})).catch((e=>{ye(),(0,S.x)("error",e)}))})(),children:"Update Data"})})]})]}),(0,C.jsxs)(u.A,{isOpen:$,toggle:je,children:[(0,C.jsx)(h.A,{toggle:je,children:"Set Number Of Child"}),(0,C.jsxs)(p.A,{children:[(0,C.jsx)(v.A,{type:"number",min:"1",onChange:e=>re(e.target.value)}),(0,C.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,C.jsx)(c.A,{onClick:()=>(async()=>{const e={id_parent:+W,amount:+ne};console.log(e),await ge.post("dapi/inven/child/add",e).then((e=>{var t;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.success&&(je(),xe(),(0,S.x)("success","added succesfully !"))})).catch((e=>{je(),(0,S.x)("error",e)}))})(),children:"Add Childs"})})]})]}),(0,C.jsxs)(u.A,{isOpen:J,toggle:fe,children:[(0,C.jsx)(h.A,{toggle:fe,children:"New Inventory Data"}),(0,C.jsxs)(p.A,{children:[(0,C.jsxs)(m.A,{children:[(0,C.jsx)(g.A,{for:"in_name",children:"Inventory Name"}),(0,C.jsx)(v.A,{id:"in_name",name:"in_name",type:"text",onChange:e=>ie(e.target.value),value:ae})]}),(0,C.jsxs)(m.A,{children:[(0,C.jsx)(g.A,{for:"in_harga_beli",children:"Purchase Price"}),(0,C.jsx)(v.A,{id:"in_harga_beli",name:"in_harga_beli",type:"number",onChange:e=>oe(e.target.value),value:le})]}),(0,C.jsxs)(m.A,{children:[(0,C.jsxs)(g.A,{for:"in_vendor",children:["Vendor ",(0,C.jsx)("small",{children:"(optional)"})]}),(0,C.jsx)(v.A,{id:"in_vendor",name:"in_vendor",type:"text",accept:"image/*",onChange:e=>de(e.target.value),value:ce})]}),(0,C.jsxs)(m.A,{children:[(0,C.jsx)(g.A,{for:"time",children:"Acquisition Time"}),(0,C.jsx)(v.A,{id:"time",name:"date",placeholder:"date placeholder",type:"date",onChange:e=>he(e.target.value),value:ue})]}),(0,C.jsxs)(m.A,{children:[(0,C.jsx)(g.A,{for:"in_location",children:"Detail Location"}),(0,C.jsx)(v.A,{id:"in_location",name:"in_location",type:"textarea",onChange:e=>ve(e.target.value),value:pe})]}),(0,C.jsxs)(m.A,{children:[(0,C.jsx)(g.A,{for:"in_harga_beli",children:"Responsible"}),(0,C.jsx)(b.Ay,{components:P,isMulti:!0,value:G,options:be[1].data,onChange:Oe})]}),(0,C.jsx)(m.A,{children:(0,C.jsx)("div",{className:"d-grid gap-2 mt-4",children:(0,C.jsx)(c.A,{type:"submit",onClick:async()=>{const e=[];null===G||void 0===G||G.map((t=>e.push("//".concat(t.value,"//"))));const t={id:W,name:ae,price:le,vendor:ce,acquisition:ue,location:pe,responsible:e.toLocaleString()};await ge.post("dapi/inven/update",t).then((e=>{var t,s,n;(fe(),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.success)?((0,S.x)("success","".concat(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message)),xe()):(0,S.x)("error","".concat(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message))})).catch((e=>{fe(),(0,S.x)("error",e)})),console.log(t)},children:"Save Data"})})})]})]}),(0,C.jsx)("input",{style:{display:"none"},ref:F,type:"file",accept:"image/*",onChange:e=>_e(e)})]})}},80519:(e,t,s)=>{s.d(t,{A:()=>n});const n=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e)},89804:(e,t,s)=>{s.d(t,{A:()=>v});var n=s(65043),r=s(65173),a=s.n(r),i=s(98139),l=s.n(i),o=s(96794),c=["className","cssModule","color","innerRef","pill","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},d.apply(this,arguments)}function u(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}var h={children:a().node,className:a().string,color:a().string,cssModule:a().object,innerRef:a().oneOfType([a().object,a().func,a().string]),pill:a().bool,tag:o.Wx};function p(e){var t=e.className,s=e.cssModule,r=e.color,a=void 0===r?"secondary":r,i=e.innerRef,h=e.pill,p=void 0!==h&&h,v=e.tag,m=void 0===v?"span":v,g=u(e,c),b=(0,o.qO)(l()(t,"badge","bg-"+a,!!p&&"rounded-pill"),s);return g.href&&"span"===m&&(m="a"),n.createElement(m,d({},g,{className:b,ref:i}))}p.propTypes=h;const v=p},16544:(e,t,s)=>{s.d(t,{A:()=>g});var n=s(65043),r=s(65173),a=s.n(r),i=s(98139),l=s.n(i),o=s(96794),c=["className","cssModule","size","vertical","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},d.apply(this,arguments)}function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function h(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function p(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}var v={"aria-label":a().string,className:a().string,cssModule:a().object,role:a().string,size:a().string,tag:o.Wx,vertical:a().bool};function m(e){var t=e.className,s=e.cssModule,r=e.size,a=e.vertical,i=e.tag,v=void 0===i?"div":i,m=p(e,c),g=(0,o.qO)(l()(t,!!r&&"btn-group-"+r,a?"btn-group-vertical":"btn-group"),s);return n.createElement(v,d({},function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){h(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({role:"group"},m),{className:g}))}m.propTypes=v;const g=m},10591:(e,t,s)=>{s.d(t,{A:()=>v});var n=s(65043),r=s(65173),a=s.n(r),i=s(98139),l=s.n(i),o=s(96794),c=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","close"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},d.apply(this,arguments)}function u(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}var h={children:a().node,className:a().string,close:a().object,closeAriaLabel:a().string,cssModule:a().object,tag:o.Wx,toggle:a().func,wrapTag:o.Wx};function p(e){var t,s=e.className,r=e.cssModule,a=e.children,i=e.toggle,h=e.tag,p=void 0===h?"h5":h,v=e.wrapTag,m=void 0===v?"div":v,g=e.closeAriaLabel,b=void 0===g?"Close":g,x=e.close,j=u(e,c),f=(0,o.qO)(l()(s,"modal-header"),r);return!x&&i&&(t=n.createElement("button",{type:"button",onClick:i,className:(0,o.qO)("btn-close",r),"aria-label":b})),n.createElement(m,d({},j,{className:f}),n.createElement(p,{className:(0,o.qO)("modal-title",r)},a),x||t)}p.propTypes=h;const v=p},60088:()=>{},96460:(e,t,s)=>{s.d(t,{E:()=>m});var n=s(65043),r=s(68664),a=s(49939),i=s(10765),l=s(62078);class o extends l.Q{constructor(e,t){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},t&&this.setQueries(t)}onSubscribe(){1===this.listeners.size&&this.observers.forEach((e=>{e.subscribe((t=>{this.onUpdate(e,t)}))}))}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach((e=>{e.destroy()}))}setQueries(e,t){this.queries=e,a.j.batch((()=>{const e=this.observers,s=this.findMatchingObservers(this.queries);s.forEach((e=>e.observer.setOptions(e.defaultedQueryOptions,t)));const n=s.map((e=>e.observer)),a=Object.fromEntries(n.map((e=>[e.options.queryHash,e]))),i=n.map((e=>e.getCurrentResult())),l=n.some(((t,s)=>t!==e[s]));(e.length!==n.length||l)&&(this.observers=n,this.observersMap=a,this.result=i,this.hasListeners()&&((0,r.iv)(e,n).forEach((e=>{e.destroy()})),(0,r.iv)(n,e).forEach((e=>{e.subscribe((t=>{this.onUpdate(e,t)}))})),this.notify()))}))}getCurrentResult(){return this.result}getQueries(){return this.observers.map((e=>e.getCurrentQuery()))}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map((e=>e.observer.getOptimisticResult(e.defaultedQueryOptions)))}findMatchingObservers(e){const t=this.observers,s=new Map(t.map((e=>[e.options.queryHash,e]))),n=e.map((e=>this.client.defaultQueryOptions(e))),r=n.flatMap((e=>{const t=s.get(e.queryHash);return null!=t?[{defaultedQueryOptions:e,observer:t}]:[]})),a=new Set(r.map((e=>e.defaultedQueryOptions.queryHash))),l=n.filter((e=>!a.has(e.queryHash))),o=new Set(r.map((e=>e.observer))),c=t.filter((e=>!o.has(e))),d=e=>{const t=this.client.defaultQueryOptions(e),s=this.observersMap[t.queryHash];return null!=s?s:new i.$(this.client,t)},u=l.map(((e,t)=>{if(e.keepPreviousData){const s=c[t];if(void 0!==s)return{defaultedQueryOptions:e,observer:s}}return{defaultedQueryOptions:e,observer:d(e)}}));return r.concat(u).sort(((e,t)=>n.indexOf(e.defaultedQueryOptions)-n.indexOf(t.defaultedQueryOptions)))}onUpdate(e,t){const s=this.observers.indexOf(e);-1!==s&&(this.result=(0,r._D)(this.result,s,t),this.notify())}notify(){a.j.batch((()=>{this.listeners.forEach((e=>{let{listener:t}=e;t(this.result)}))}))}}var c=s(28873),d=s(59781),u=s(1968),h=s(82670),p=s(54483),v=s(33729);function m(e){let{queries:t,context:s}=e;const r=(0,d.jE)({context:s}),i=(0,u.w)(),l=(0,h.h)(),m=n.useMemo((()=>t.map((e=>{const t=r.defaultQueryOptions(e);return t._optimisticResults=i?"isRestoring":"optimistic",t}))),[t,r,i]);m.forEach((e=>{(0,v.tu)(e),(0,p.LJ)(e,l)})),(0,p.wZ)(l);const[g]=n.useState((()=>new o(r,m))),b=g.getOptimisticResult(m);(0,c.r)(n.useCallback((e=>i?()=>{}:g.subscribe(a.j.batchCalls(e))),[g,i]),(()=>g.getCurrentResult()),(()=>g.getCurrentResult())),n.useEffect((()=>{g.setQueries(m,{listeners:!1})}),[m,g]);const x=b.some(((e,t)=>(0,v.EU)(m[t],e,i)))?b.flatMap(((e,t)=>{const s=m[t],n=g.getObservers()[t];if(s&&n){if((0,v.EU)(s,e,i))return(0,v.iL)(s,n,l);(0,v.nE)(e,i)&&(0,v.iL)(s,n,l)}return[]})):[];if(x.length>0)throw Promise.all(x);const j=g.getQueries(),f=b.find(((e,t)=>{var s,n;return(0,p.$1)({result:e,errorResetBoundary:l,useErrorBoundary:null!=(s=null==(n=m[t])?void 0:n.useErrorBoundary)&&s,query:j[t]})}));if(null!=f&&f.error)throw f.error;return b}}}]);
//# sourceMappingURL=8631.05980cff.chunk.js.map