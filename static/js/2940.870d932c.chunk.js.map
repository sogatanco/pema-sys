{"version":3,"file":"static/js/2940.870d932c.chunk.js","mappings":"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","sources":["pages/pengajuan/dashboard/Dashboard.js","pages/pengajuan/pengajuanBiaya/PengajuanBiaya.js","pages/pengajuan/approvalPengajuan/ApprovalPengajuan.js","pages/pengajuan/pengajuanSelesai/PengajuanSelesai.js","pages/pengajuan/Pengajuan.js"],"sourcesContent":["import React from 'react';\r\nimport { Card, CardBody, Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport Chart from 'react-apexcharts';\r\n\r\nconst options1 = {\r\n  chart: {\r\n    toolbar: { show: false },\r\n    fontFamily: \"'Poppins', sans-serif\",\r\n  },\r\n  dataLabels: { enabled: false },\r\n  colors: ['rgba(255,255,255,0.5)'],\r\n  xaxis: {\r\n    categories: ['0', '4', '8', '12', '16', '20', '24', '30'],\r\n    labels: { show: false },\r\n    axisBorder: { show: false },\r\n    axisTicks: { show: false },\r\n  },\r\n  stroke: {\r\n    curve: 'smooth',\r\n    width: 3,\r\n    colors: 'rgba(255, 255, 255, 0.5)',\r\n  },\r\n  yaxis: { show: false },\r\n  grid: { show: false },\r\n  tooltip: { enabled: false, theme: 'dark' },\r\n};\r\n\r\nconst series1 = [\r\n  {\r\n    name: 'Bandwidth usage',\r\n    data: [5, 0, 12, 1, 8, 3, 12, 15],\r\n  },\r\n];\r\n\r\nconst optionsbar = {\r\n  chart: {\r\n    fontFamily: \"'Rubik', sans-serif\",\r\n  },\r\n  dataLabels: { enabled: false },\r\n  xaxis: {\r\n    categories: ['Permohonan Biaya', 'Tagihan Biaya', 'Aktual Biaya', 'Reimbursement'],\r\n    labels: { show: false },\r\n  },\r\n  plotOptions: {\r\n    bar: {\r\n      distributed: true,\r\n      horizontal: false,\r\n    },\r\n  },\r\n  grid: {\r\n    borderColor: 'rgba(0,0,0,0.1)',\r\n  },\r\n  yaxis: {\r\n    labels: {\r\n      style: {\r\n        cssClass: 'grey--text lighten-2--text fill-color',\r\n      },\r\n    },\r\n  },\r\n  title: {\r\n    text: `Grafik Pengajuan Tahun ${new Date().getFullYear()}`,\r\n    align: 'left',\r\n    style: {\r\n      fontSize: '16px',\r\n      color: '#6c757d',\r\n    },\r\n  },\r\n  tooltip: {\r\n    theme: 'dark',\r\n  },\r\n};\r\n\r\nconst Dashboard = ({ diproses, selesai, totalPengajuan, dataChart }) => {\r\n  const categories = ['Permohonan Biaya', 'Tagihan Biaya', 'Aktual Biaya', 'Reimbursement'];\r\n\r\n  const seriesbar = [\r\n    {\r\n      name: 'Pengajuan',\r\n      data: categories?.map((kategori) => {\r\n        const found = dataChart?.find((item) => item.kategori === kategori);\r\n        return found ? found.total : 0;\r\n      }),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Card>\r\n        <CardBody>\r\n          <Row>\r\n            <Col md={4} className=\"mt-3\">\r\n              <Card className=\"bg-warning\">\r\n                <CardBody>\r\n                  <div className=\"d-flex\">\r\n                    <div className=\"me-3 align-self-center\">\r\n                      <h1 className=\"text-dark-white\">\r\n                        <i className=\"bi bi-pie-chart\"></i>\r\n                      </h1>\r\n                    </div>\r\n                    <div>\r\n                      <h4 className=\"text-dark-white\">Pengajuan Diproses</h4>\r\n                      <h6 className=\"text-dark-white\">Tahun {new Date().getFullYear()}</h6>\r\n                    </div>\r\n                  </div>\r\n                  <Row>\r\n                    <Col xs={5} className=\"d-flex align-items-center\">\r\n                      <h1 className=\"text-dark-white text-truncate mb-0\">{diproses}</h1>\r\n                    </Col>\r\n                    <Col xs={7} className=\"align-self-center\">\r\n                      <div className=\"d-flex align-items-center\" style={{ height: '105px' }}>\r\n                        <Chart options={options1} series={series1} type=\"scatter\" height=\"120\" />\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                </CardBody>\r\n              </Card>\r\n            </Col>\r\n\r\n            <Col md={4} className=\"mt-3\">\r\n              <Card className=\"bg-success\">\r\n                <CardBody>\r\n                  <div className=\"d-flex\">\r\n                    <div className=\"me-3 align-self-center\">\r\n                      <h1 className=\"text-dark-white\">\r\n                        <i className=\"bi bi-pie-chart\"></i>\r\n                      </h1>\r\n                    </div>\r\n                    <div>\r\n                      <h4 className=\"text-dark-white\">Pengajuan Selesai</h4>\r\n                      <h6 className=\"text-dark-white\">Tahun {new Date().getFullYear()}</h6>\r\n                    </div>\r\n                  </div>\r\n                  <Row>\r\n                    <Col xs={5} className=\"d-flex align-items-center\">\r\n                      <h1 className=\"text-dark-white text-truncate mb-0\">{selesai}</h1>\r\n                    </Col>\r\n                    <Col xs={7} className=\"align-self-center\">\r\n                      <div className=\"d-flex align-items-center\" style={{ height: '105px' }}>\r\n                        <Chart options={options1} series={series1} type=\"area\" height=\"120\" />\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                </CardBody>\r\n              </Card>\r\n            </Col>\r\n\r\n            <Col md={4} className=\"mt-3\">\r\n              <Card className=\"bg-info\">\r\n                <CardBody>\r\n                  <div className=\"d-flex\">\r\n                    <div className=\"me-3 align-self-center\">\r\n                      <h1 className=\"text-dark-white\">\r\n                        <i className=\"bi bi-pie-chart\"></i>\r\n                      </h1>\r\n                    </div>\r\n                    <div>\r\n                      <h4 className=\"text-dark-white\">Total Pengajuan</h4>\r\n                      <h6 className=\"text-dark-white\">Tahun {new Date().getFullYear()}</h6>\r\n                    </div>\r\n                  </div>\r\n                  <Row>\r\n                    <Col xs={5} className=\"d-flex align-items-center\">\r\n                      <h1 className=\"text-dark-white text-truncate mb-0\">{totalPengajuan}</h1>\r\n                    </Col>\r\n                    <Col xs={7} className=\"align-self-center\">\r\n                      <div className=\"d-flex align-items-center\" style={{ height: '105px' }}>\r\n                        <Chart options={options1} series={series1} type=\"line\" height=\"120\" />\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                </CardBody>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row className=\"mt-4\">\r\n            <Col md={8}>\r\n              <Chart\r\n                options={{ ...optionsbar, xaxis: { categories } }}\r\n                series={seriesbar}\r\n                type=\"bar\"\r\n                height=\"500\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </CardBody>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nDashboard.propTypes = {\r\n  diproses: PropTypes.number.isRequired,\r\n  selesai: PropTypes.number.isRequired,\r\n  totalPengajuan: PropTypes.number.isRequired,\r\n  dataChart: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      kategori: PropTypes.string.isRequired,\r\n      total: PropTypes.number.isRequired,\r\n    }),\r\n  ).isRequired,\r\n};\r\n\r\nexport default Dashboard;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Label,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Spinner,\r\n  ListGroup,\r\n  ListGroupItem,\r\n  Row,\r\n  Col,\r\n  Table,\r\n} from 'reactstrap';\r\nimport MaterialIcon from '@material/react-material-icon';\r\nimport DataTable from 'react-data-table-component';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { useForm, useFieldArray } from 'react-hook-form';\r\nimport useAxios from '../../../hooks/useAxios';\r\nimport { alert } from '../../../components/atoms/Toast';\r\n\r\nconst PengajuanBiaya = () => {\r\n  const api = useAxios();\r\n  const [isAddForm, setIsAddForm] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchText, setSearchText] = useState('');\r\n  const [dataPengajuan, setDataPengajuan] = useState([]);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [modalOpen2, setModalOpen2] = useState(false);\r\n  const [modalContent2, setModalContent2] = useState(null);\r\n  const [selectedData, setSelectedData] = useState(null);\r\n  const [updateClick, setUpdateClick] = useState(false);\r\n  const [selectedMonth, setSelectedMonth] = useState('');\r\n\r\n  // Pajak toggle function\r\n  const [taxVisibility, setTaxVisibility] = useState({});\r\n  const [taxesPerItem, setTaxesPerItem] = useState({});\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    control,\r\n    setValue,\r\n    watch,\r\n    unregister, // tambahkan ini\r\n    formState: { errors },\r\n  } = useForm({\r\n    defaultValues: {\r\n      items: [{ itemName: '', quantity: '', unit: '', price: '', description: '' }],\r\n    },\r\n  });\r\n\r\n  const { fields, append, remove } = useFieldArray({\r\n    control,\r\n    name: 'items',\r\n  });\r\n\r\n  const { data, isLoading, error, refetch } = useQuery({\r\n    queryKey: ['pengajuan-list'],\r\n    queryFn: () =>\r\n      api.get(`api/pengajuan`).then((res) => {\r\n        console.log(res);\r\n        return res.data.data;\r\n      }),\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setDataPengajuan(data);\r\n    } else {\r\n      setDataPengajuan([]);\r\n    }\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    let filtered = data;\r\n    if (searchText) {\r\n      filtered = filtered?.filter((item) =>\r\n        item.sub_pengajuan[0].nama_item.toLowerCase().includes(searchText.toLowerCase()),\r\n      );\r\n    }\r\n    if (selectedMonth) {\r\n      // selectedMonth format: \"YYYY-MM\"\r\n      filtered = filtered?.filter((item) => {\r\n        const created = new Date(item.created_at);\r\n        const yearMonth = `${created.getFullYear()}-${String(created.getMonth() + 1).padStart(\r\n          2,\r\n          '0',\r\n        )}`;\r\n        return yearMonth === selectedMonth;\r\n      });\r\n    }\r\n    setDataPengajuan(filtered);\r\n  }, [searchText, selectedMonth, data]);\r\n\r\n  const addForm = async (e) => {\r\n    e.preventDefault();\r\n    setIsAddForm(true);\r\n  };\r\n\r\n  const removeForm = () => {\r\n    reset();\r\n    setUpdateClick(false);\r\n    setIsAddForm(false);\r\n  };\r\n\r\n  function formatRupiah(angka) {\r\n    if (!angka) return 'Rp 0';\r\n    const numberString = angka.toString().replace(/[^,\\d]/g, '');\r\n    const split = numberString.split(',');\r\n    const sisa = split[0].length % 3;\r\n    let rupiah = split[0].substr(0, sisa);\r\n    const ribuan = split[0].substr(sisa).match(/\\d{3}/g);\r\n\r\n    if (ribuan) {\r\n      const separator = sisa ? '.' : '';\r\n      rupiah += `${separator}${ribuan.join('.')}`;\r\n    }\r\n\r\n    return `Rp ${rupiah}`;\r\n  }\r\n\r\n  const onSubmit = async (dataSubmit) => {\r\n    console.log('Data Submit', dataSubmit);\r\n    setLoading(true);\r\n\r\n    // Map items dan sertakan data pajak jika ada\r\n    const cleanedItems = dataSubmit.items.map((item) => {\r\n      let taxes = [];\r\n      if (item.taxes && Array.isArray(item.taxes)) {\r\n        taxes = item.taxes.map((tax) => ({\r\n          name: tax.name,\r\n          percentage: Number(tax.percentage),\r\n          type: tax.type,\r\n        }));\r\n      }\r\n      return {\r\n        ...item,\r\n        price: Number(item.price.replace(/[^\\d]/g, '')), // hilangkan Rp, titik, dll\r\n        taxes, // array pajak, bisa kosong\r\n      };\r\n    });\r\n\r\n    const formData = new FormData();\r\n\r\n    formData.append('jenis_permohonan', dataSubmit.jenis_permohonan);\r\n    formData.append('no_dokumen', dataSubmit.documentNumber);\r\n    formData.append('lampiran', dataSubmit.file[0]);\r\n    formData.append('items', JSON.stringify(cleanedItems));\r\n\r\n    await api\r\n      .post('api/pengajuan', formData)\r\n      .then((res) => {\r\n        console.log('res', res);\r\n        setLoading(false);\r\n        refetch();\r\n        removeForm();\r\n        reset();\r\n        alert('success', 'Pengajuan Berhasil Ditambahkan');\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false);\r\n        alert('error', 'Terjadi Kesalahan');\r\n      });\r\n  };\r\n\r\n  const handleChangeJenisPermohonan = (value) => {\r\n    if (value === 'Permohonan Biaya') {\r\n      setValue('documentNumber', 'FPR-UM-PEMA-01-04');\r\n    } else if (value === 'Reimbursement') {\r\n      setValue('documentNumber', 'FPR-UM-PEMA-01-02');\r\n    } else if (value === 'Tagihan Biaya') {\r\n      setValue('documentNumber', 'FPR-UM-PEMA-01-03');\r\n    } else if (value === 'Aktual Biaya') {\r\n      setValue('documentNumber', 'FPR-UM-PEMA-04-02');\r\n    } else {\r\n      setValue('documentNumber', '');\r\n    }\r\n  };\r\n\r\n  const handleApprovalClick = async (row) => {\r\n    await api\r\n      .get(`api/pengajuan/${row.id}/show`)\r\n      .then((res) => {\r\n        console.log('res', res);\r\n        setSelectedData(res.data.data);\r\n        setModalOpen(true);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        alert('error', 'Terjadi Kesalahan');\r\n      });\r\n  };\r\n\r\n  const handleUpdateClick = (row) => {\r\n    setUpdateClick(true);\r\n    setIsAddForm(true);\r\n    setValue('id', row.id);\r\n    setValue('jenis_permohonan', row.pengajuan);\r\n    setValue('documentNumber', row.no_dokumen);\r\n\r\n    remove();\r\n\r\n    // Reset pajak visibility dan value\r\n    setTaxVisibility({});\r\n    setTaxesPerItem({});\r\n\r\n    if (row.sub_pengajuan && row.sub_pengajuan.length > 0) {\r\n      row.sub_pengajuan.forEach((item, idx) => {\r\n        append({\r\n          itemName: item.nama_item,\r\n          quantity: item.jumlah,\r\n          unit: item.satuan,\r\n          price: formatRupiah(item.biaya_satuan),\r\n          description: item.keterangan,\r\n          taxes:\r\n            item.taxes && Array.isArray(item.taxes)\r\n              ? item.taxes.map((tax) => ({\r\n                  name: tax.nama_pajak,\r\n                  percentage: tax.persentase,\r\n                  type: tax.calculation === 'increase' ? 'increment' : 'decrement',\r\n                }))\r\n              : [],\r\n        });\r\n\r\n        // Jika ada pajak, tampilkan form pajak dan set valuenya\r\n        if (item.taxes && Array.isArray(item.taxes) && item.taxes.length > 0) {\r\n          setTaxVisibility((prev) => ({\r\n            ...prev,\r\n            [idx]: true,\r\n          }));\r\n          setTaxesPerItem((prev) => ({\r\n            ...prev,\r\n            [idx]: item.taxes.map((tax) => ({\r\n              id: `${Date.now()}-${Math.random()}`,\r\n              name: tax.nama_pajak,\r\n              percentage: tax.persentase,\r\n              type: tax.calculation === 'increase' ? 'increment' : 'decrement',\r\n            })),\r\n          }));\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const onUpdate = async (dataSubmit) => {\r\n    console.log('Data Submit', dataSubmit);\r\n    setLoading(true);\r\n\r\n    // Map items dan sertakan data pajak jika ada\r\n    const cleanedItems = dataSubmit.items.map((item) => {\r\n      let taxes = [];\r\n      if (item.taxes && Array.isArray(item.taxes)) {\r\n        taxes = item.taxes.map((tax) => ({\r\n          name: tax.name,\r\n          percentage: Number(tax.percentage),\r\n          type: tax.type,\r\n        }));\r\n      }\r\n      return {\r\n        ...item,\r\n        price: Number(item.price.replace(/[^\\d]/g, '')),\r\n        taxes,\r\n      };\r\n    });\r\n\r\n    const formData = new FormData();\r\n\r\n    formData.append('id', dataSubmit.id);\r\n    formData.append('jenis_permohonan', dataSubmit.jenis_permohonan);\r\n    formData.append('no_dokumen', dataSubmit.documentNumber);\r\n    if (dataSubmit.file && dataSubmit.file[0]) {\r\n      formData.append('lampiran', dataSubmit.file[0]);\r\n    }\r\n    formData.append('items', JSON.stringify(cleanedItems));\r\n\r\n    await api\r\n      .post(`api/pengajuan/${dataSubmit.id}/update`, formData)\r\n      .then((res) => {\r\n        refetch();\r\n        console.log(res);\r\n        setLoading(false);\r\n        removeForm();\r\n        reset();\r\n        alert('success', 'Pengajuan Berhasil Diupdate');\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false);\r\n        alert('error', 'Terjadi Kesalahan');\r\n      });\r\n  };\r\n\r\n  // Helper untuk format rupiah tanpa koma\r\n  const formatRupiahNoComma = (value) => {\r\n    return new Intl.NumberFormat('id-ID', {\r\n      style: 'currency',\r\n      currency: 'IDR',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0,\r\n      useGrouping: true,\r\n    })\r\n      .format(value)\r\n      .replace(/,/g, '');\r\n  };\r\n\r\n  const handleDetailClick = (row) => {\r\n    setModalContent2({\r\n      row,\r\n      title: 'Detail Pengajuan',\r\n      body: (\r\n        <>\r\n          <Row>\r\n            <Col md={6}>\r\n              <p className=\"fw-bold\">Jenis Permohonan : </p>\r\n              <p>{row.pengajuan}</p>\r\n            </Col>\r\n            <Col md={6}>\r\n              <p className=\"fw-bold\">No Dokumen : </p>\r\n              <p>{row.no_dokumen}</p>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col md={6}>\r\n              <p className=\"fw-bold\">Tanggal Pengajuan : </p>\r\n              <p>\r\n                {new Date(row.created_at).toLocaleDateString('id-ID', {\r\n                  year: 'numeric',\r\n                  month: 'long',\r\n                  day: 'numeric',\r\n                  hour: '2-digit',\r\n                  minute: '2-digit',\r\n                })}\r\n              </p>\r\n            </Col>\r\n            <Col md={6}>\r\n              <p className=\"fw-bold\">Lampiran : </p>\r\n              <p>\r\n                <a\r\n                  href={`${api.defaults.baseURL}/pengajuan/${row.lampiran}`}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"btn btn-info btn-sm\"\r\n                >\r\n                  Lihat Lampiran\r\n                </a>\r\n              </p>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row>\r\n            <Col>\r\n              <div className=\"table-responsive\">\r\n                <Table bordered responsive hover>\r\n                  <thead>\r\n                    <tr>\r\n                      <th className=\"text-center\" style={{ width: '50px' }}>\r\n                        No\r\n                      </th>\r\n                      <th>Nama Barang/Jasa</th>\r\n                      <th>Jumlah</th>\r\n                      <th>Satuan</th>\r\n                      <th>Biaya Satuan</th>\r\n                      <th>Pajak</th>\r\n                      <th>Total Biaya</th>\r\n                      <th>Keterangan</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {row.sub_pengajuan.map((item, index) => {\r\n                      // Pajak array, support pajak di field pajak atau taxes\r\n                      const pajakArr = item.pajak || item.taxes || [];\r\n                      const hargaSatuan = item.biaya_satuan;\r\n                      const pajakDetail = [];\r\n                      let hargaSetelahPajak = hargaSatuan;\r\n\r\n                      pajakArr.forEach((pajak) => {\r\n                        const persentase = Number(pajak.persentase || pajak.percentage || 0);\r\n                        const tipe = pajak.calculation || pajak.type;\r\n                        const nama = pajak.nama_pajak || pajak.name || '';\r\n                        if (persentase > 0) {\r\n                          // Pajak dihitung dari harga satuan * persentase * jumlah\r\n                          const nilaiPajak = ((hargaSatuan * persentase) / 100) * item.jumlah;\r\n                          const nilaiPajakStr = formatRupiahNoComma(nilaiPajak);\r\n                          if (tipe === 'increase' || tipe === 'increment') {\r\n                            hargaSetelahPajak += (hargaSatuan * persentase) / 100;\r\n                            pajakDetail.push(\r\n                              <div key={`${nama}_inc`}>\r\n                                {`+ ${nama} (${persentase}%) : `}\r\n                                {nilaiPajakStr}\r\n                              </div>,\r\n                            );\r\n                          } else if (tipe === 'decrease' || tipe === 'decrement') {\r\n                            hargaSetelahPajak -= (hargaSatuan * persentase) / 100;\r\n                            pajakDetail.push(\r\n                              <div key={`${nama}_dec`}>\r\n                                {`- ${nama} (${persentase}%) : `}\r\n                                {nilaiPajakStr}\r\n                              </div>,\r\n                            );\r\n                          }\r\n                        }\r\n                      });\r\n\r\n                      // Total biaya = harga satuan setelah pajak * jumlah\r\n                      const totalBiaya = hargaSetelahPajak * item.jumlah;\r\n\r\n                      return (\r\n                        <tr key={item.id}>\r\n                          <td className=\"text-center\">{index + 1}</td>\r\n                          <td style={{ whiteSpace: 'pre-wrap' }}>{item.nama_item}</td>\r\n                          <td>{item.jumlah}</td>\r\n                          <td>{item.satuan}</td>\r\n                          <td>{formatRupiahNoComma(item.biaya_satuan)}</td>\r\n                          <td>\r\n                            {pajakArr.length > 0 ? (\r\n                              <div>\r\n                                {pajakArr.map((pajak) => {\r\n                                  const persentase = Number(\r\n                                    pajak.persentase || pajak.percentage || 0,\r\n                                  );\r\n                                  const tipe = pajak.calculation || pajak.type;\r\n                                  const nama = pajak.nama_pajak || pajak.name || '';\r\n                                  const nilaiPajak =\r\n                                    ((hargaSatuan * persentase) / 100) * item.jumlah;\r\n                                  const nilaiPajakStr = formatRupiahNoComma(nilaiPajak);\r\n                                  // Gunakan kombinasi nama, tipe, dan persentase sebagai key\r\n                                  const key = `${nama}-${tipe}-${persentase}`;\r\n                                  return (\r\n                                    <div key={key} style={{ marginBottom: 4 }}>\r\n                                      <span>\r\n                                        {tipe === 'increase' || tipe === 'increment' ? '+' : '-'}{' '}\r\n                                        {nama} ({persentase}%) :\r\n                                      </span>\r\n                                      <br />\r\n                                      <span style={{ paddingLeft: 16 }}>{nilaiPajakStr}</span>\r\n                                    </div>\r\n                                  );\r\n                                })}\r\n                              </div>\r\n                            ) : (\r\n                              <span>-</span>\r\n                            )}\r\n                          </td>\r\n                          <td>{formatRupiahNoComma(totalBiaya)}</td>\r\n                          <td>{item.keterangan || '-'}</td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                    <tr>\r\n                      <td colSpan={6} className=\"text-end fw-bold\">\r\n                        Total Biaya Keseluruhan\r\n                      </td>\r\n                      <td colSpan={2}>\r\n                        {formatRupiahNoComma(\r\n                          row.sub_pengajuan.reduce((total, item) => {\r\n                            const pajakArr = item.pajak || item.taxes || [];\r\n                            const hargaSatuan = item.biaya_satuan;\r\n                            let hargaSetelahPajak = hargaSatuan;\r\n                            pajakArr.forEach((pajak) => {\r\n                              const persentase = Number(pajak.persentase || pajak.percentage || 0);\r\n                              const tipe = pajak.calculation || pajak.type;\r\n                              if (persentase > 0) {\r\n                                const nilaiPajak = (hargaSatuan * persentase) / 100;\r\n                                if (tipe === 'increase' || tipe === 'increment') {\r\n                                  hargaSetelahPajak += nilaiPajak;\r\n                                } else if (tipe === 'decrease' || tipe === 'decrement') {\r\n                                  hargaSetelahPajak -= nilaiPajak;\r\n                                }\r\n                              }\r\n                            });\r\n                            return total + hargaSetelahPajak * item.jumlah;\r\n                          }, 0),\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </Table>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      ),\r\n    });\r\n    setModalOpen2(true);\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      name: 'Aksi',\r\n      selector: (row) => (\r\n        <>\r\n          <Button\r\n            color=\"danger\"\r\n            outline\r\n            size=\"sm\"\r\n            className=\"me-2\"\r\n            onClick={() => handleUpdateClick(row)}\r\n            disabled={\r\n              !row?.approvals?.every(\r\n                (approval) =>\r\n                  approval.status === null ||\r\n                  row?.approvals?.some((approval2) => approval2.status === '0'),\r\n              )\r\n            }\r\n          >\r\n            Update\r\n          </Button>\r\n\r\n          <Button\r\n            color=\"secondary\"\r\n            outline\r\n            size=\"sm\"\r\n            className=\"me-2\"\r\n            onClick={() => handleApprovalClick(row)}\r\n          >\r\n            Approval\r\n          </Button>\r\n          <Button outline size=\"sm\" color=\"info\" onClick={() => handleDetailClick(row)}>\r\n            Detail\r\n          </Button>\r\n        </>\r\n      ),\r\n      width: '300px',\r\n    },\r\n    {\r\n      name: 'Status',\r\n      selector: (row) => (\r\n        <>\r\n          {row?.approvals?.every((approval) => approval.status === '1') ? (\r\n            <span className=\"badge bg-success rounded-pill\">Approved</span>\r\n          ) : row?.approvals?.some((approval) => approval.status === '0') ? (\r\n            <span className=\"badge bg-danger rounded-pill\">Rejected</span>\r\n          ) : (\r\n            <span className=\"badge bg-secondary rounded-pill\">Pending</span>\r\n          )}\r\n        </>\r\n      ),\r\n    },\r\n\r\n    {\r\n      name: 'Tanggal Pengajuan',\r\n      selector: (row) =>\r\n        new Date(row.created_at).toLocaleDateString('id-ID', {\r\n          year: 'numeric',\r\n          month: 'long',\r\n          day: 'numeric',\r\n          hour: '2-digit',\r\n          minute: '2-digit',\r\n        }),\r\n      width: '200px',\r\n    },\r\n    {\r\n      name: 'Jenis Permohonan',\r\n      selector: (row) => row.pengajuan,\r\n    },\r\n    {\r\n      name: 'No Dokumen',\r\n      selector: (row) => row.no_dokumen,\r\n      width: '200px',\r\n    },\r\n    {\r\n      name: 'Nama Barang/Jasa',\r\n      selector: (row) => row.sub_pengajuan[0].nama_item,\r\n    },\r\n    {\r\n      name: 'Jumlah Barang/Jasa',\r\n      selector: (row) => row.sub_pengajuan[0].jumlah,\r\n    },\r\n    {\r\n      name: 'Satuan',\r\n      selector: (row) => row.sub_pengajuan[0].satuan,\r\n    },\r\n    {\r\n      name: 'Biaya Satuan',\r\n      selector: (row) => (\r\n        <div>\r\n          {new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(\r\n            row.sub_pengajuan[0].biaya_satuan,\r\n          )}\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const toggleTax = (index) => {\r\n    setTaxVisibility((prev) => {\r\n      const isVisible = !prev[index];\r\n      if (!isVisible) {\r\n        // Unregister semua field pajak pada item ini\r\n        if (taxesPerItem[index] && Array.isArray(taxesPerItem[index])) {\r\n          taxesPerItem[index].forEach((_, taxIdx) => {\r\n            unregister(`items.${index}.taxes.${taxIdx}.name`);\r\n            unregister(`items.${index}.taxes.${taxIdx}.percentage`);\r\n            unregister(`items.${index}.taxes.${taxIdx}.type`);\r\n          });\r\n        }\r\n        setTaxesPerItem((prevTaxes) => {\r\n          const updated = { ...prevTaxes };\r\n          delete updated[index];\r\n          return updated;\r\n        });\r\n      } else if (!taxesPerItem[index] || taxesPerItem[index].length === 0) {\r\n        setTaxesPerItem((prevTaxes) => ({\r\n          ...prevTaxes,\r\n          [index]: [\r\n            {\r\n              id: `${Date.now()}-${Math.random()}`,\r\n              name: '',\r\n              percentage: '',\r\n              type: 'increment',\r\n            },\r\n          ],\r\n        }));\r\n      }\r\n      return {\r\n        ...prev,\r\n        [index]: isVisible,\r\n      };\r\n    });\r\n  };\r\n\r\n  const addTax = (itemIndex) => {\r\n    setTaxesPerItem((prev) => {\r\n      const itemTaxes = prev[itemIndex] || [];\r\n      return {\r\n        ...prev,\r\n        [itemIndex]: [\r\n          ...itemTaxes,\r\n          {\r\n            id: `${Date.now()}-${Math.random()}`,\r\n            name: '',\r\n            percentage: '',\r\n            type: 'increment',\r\n          },\r\n        ],\r\n      };\r\n    });\r\n  };\r\n\r\n  const updateTax = (itemIndex, taxIndex, field, value) => {\r\n    setTaxesPerItem((prev) => {\r\n      const itemTaxes = [...(prev[itemIndex] || [])];\r\n      itemTaxes[taxIndex][field] = value;\r\n      return { ...prev, [itemIndex]: itemTaxes };\r\n    });\r\n  };\r\n\r\n  const removeTax = (itemIndex, taxIndex) => {\r\n    setTaxesPerItem((prev) => {\r\n      const updatedTaxes = [...(prev[itemIndex] || [])];\r\n      updatedTaxes.splice(taxIndex, 1);\r\n\r\n      // Unregister react-hook-form field untuk pajak yang dihapus\r\n      unregister(`items.${itemIndex}.taxes.${taxIndex}.name`);\r\n      unregister(`items.${itemIndex}.taxes.${taxIndex}.percentage`);\r\n      unregister(`items.${itemIndex}.taxes.${taxIndex}.type`);\r\n\r\n      // Jika setelah dihapus tidak ada pajak lagi, sembunyikan form pajak\r\n      if (updatedTaxes.length === 0) {\r\n        setTaxVisibility((prevVis) => ({\r\n          ...prevVis,\r\n          [itemIndex]: false,\r\n        }));\r\n        return Object.fromEntries(\r\n          Object.entries(prev).filter(([key]) => Number(key) !== itemIndex),\r\n        );\r\n      }\r\n      return { ...prev, [itemIndex]: updatedTaxes };\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <CardBody>\r\n          {!isAddForm && (\r\n            <div className=\"d-grid gap-2\">\r\n              <Button size=\"lg\" color=\"primary\" onClick={addForm}>\r\n                Tambah Permohonan\r\n              </Button>\r\n            </div>\r\n          )}\r\n\r\n          {isAddForm && (\r\n            <>\r\n              <div className=\"d-flex justify-content-end mb-3\">\r\n                <MaterialIcon icon=\"close\" onClick={removeForm} style={{ cursor: 'pointer' }} />\r\n              </div>\r\n              <form onSubmit={updateClick ? handleSubmit(onUpdate) : handleSubmit(onSubmit)}>\r\n                {updateClick && <input type=\"hidden\" {...register('id')} required />}\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"mb-3\">\r\n                      <Label>Jenis Permohonan</Label>\r\n                      <select\r\n                        className={`form-control ${errors.jenis_permohonan ? 'is-invalid' : ''}`}\r\n                        {...register('jenis_permohonan', {\r\n                          required: 'Jenis Permohonan wajib diisi',\r\n                          onChange: (e) => handleChangeJenisPermohonan(e.target.value),\r\n                        })}\r\n                      >\r\n                        <option value=\"\">Pilih Permohonan</option>\r\n                        <option value=\"Permohonan Biaya\">Permohonan Biaya</option>\r\n                        <option value=\"Reimbursement\">Reimbursement</option>\r\n                        <option value=\"Tagihan Biaya\">Tagihan Biaya</option>\r\n                        <option value=\"Aktual Biaya\">Aktual Biaya</option>\r\n                      </select>\r\n                      {errors.jenis_permohonan && (\r\n                        <div className=\"invalid-feedback\">{errors.jenis_permohonan.message}</div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"mb-3\">\r\n                      <Label>No Dokumen</Label>\r\n                      <input\r\n                        type=\"text\"\r\n                        className={`form-control ${errors.documentNumber ? 'is-invalid' : ''}`}\r\n                        placeholder=\"No Dokumen\"\r\n                        {...register('documentNumber', { required: 'No Dokumen wajib diisi' })}\r\n                      />\r\n                      {errors.documentNumber && (\r\n                        <div className=\"invalid-feedback\">{errors.documentNumber.message}</div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-12\">\r\n                    <div className=\"mb-3\">\r\n                      <Label>Lampiran</Label>\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\".pdf\"\r\n                        className={`form-control ${errors.file ? 'is-invalid' : ''}`}\r\n                        placeholder=\"Lampiran\"\r\n                        {...register('file', {\r\n                          required: updateClick ? false : 'Lampiran wajib diisi',\r\n                        })}\r\n                      />\r\n                      <span className=\"text-primary\">Hanya menerima file PDF</span>\r\n                      {errors.file && <div className=\"invalid-feedback\">{errors.file.message}</div>}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-12\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-bordered\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th style={{ width: '300px' }}>Nama Barang/Jasa</th>\r\n                            <th style={{ width: '150px' }}>Jumlah</th>\r\n                            <th style={{ width: '200px' }}>Satuan</th>\r\n                            <th style={{ width: '200px' }}>Harga Satuan</th>\r\n                            <th>Keterangan</th>\r\n                            <th style={{ width: '150px' }}>Aksi</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {fields.map((field, index) => (\r\n                            <>\r\n                              <tr key={field.id}>\r\n                                <td>\r\n                                  <textarea\r\n                                    className={`form-control ${\r\n                                      errors.items?.[index]?.itemName ? 'is-invalid' : ''\r\n                                    }`}\r\n                                    placeholder=\"Nama Barang/Jasa\"\r\n                                    {...register(`items.${index}.itemName`, {\r\n                                      required: 'Nama Barang/Jasa wajib diisi',\r\n                                    })}\r\n                                  ></textarea>\r\n                                  {errors.items?.[index]?.itemName && (\r\n                                    <div className=\"invalid-feedback\">\r\n                                      {errors.items[index].itemName.message}\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td>\r\n                                  <input\r\n                                    type=\"number\"\r\n                                    className={`form-control ${\r\n                                      errors.items?.[index]?.quantity ? 'is-invalid' : ''\r\n                                    }`}\r\n                                    placeholder=\"Jumlah\"\r\n                                    {...register(`items.${index}.quantity`, {\r\n                                      required: 'Jumlah wajib diisi',\r\n                                    })}\r\n                                  />\r\n                                  {errors.items?.[index]?.quantity && (\r\n                                    <div className=\"invalid-feedback\">\r\n                                      {errors.items[index].quantity.message}\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td>\r\n                                  <input\r\n                                    type=\"text\"\r\n                                    className={`form-control ${\r\n                                      errors.items?.[index]?.unit ? 'is-invalid' : ''\r\n                                    }`}\r\n                                    placeholder=\"Paket/Bulan/Kg/Unit, dll\"\r\n                                    {...register(`items.${index}.unit`, {\r\n                                      required: 'Satuan wajib diisi',\r\n                                    })}\r\n                                  />\r\n                                  {errors.items?.[index]?.unit && (\r\n                                    <div className=\"invalid-feedback\">\r\n                                      {errors.items[index].unit.message}\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td>\r\n                                  <input\r\n                                    type=\"text\"\r\n                                    className={`form-control ${\r\n                                      errors.items?.[index]?.price ? 'is-invalid' : ''\r\n                                    }`}\r\n                                    placeholder=\"Harga Satuan\"\r\n                                    value={formatRupiah(watch(`items.${index}.price`) || '')}\r\n                                    {...register(`items.${index}.price`, {\r\n                                      required: 'Harga Satuan wajib diisi',\r\n                                      validate: (value) => {\r\n                                        const numeric = value.replace(/[^\\d]/g, '');\r\n                                        if (!numeric) return 'Harga Satuan wajib berupa angka';\r\n                                        if (numeric <= 0)\r\n                                          return 'Harga Satuan tidak boleh kurang dari atau sama dengan 0';\r\n                                        return true;\r\n                                      },\r\n                                      onChange: (e) => {\r\n                                        const rawValue = e.target.value.replace(/[^\\d]/g, ''); // hanya angka\r\n                                        e.target.value = rawValue; // simpan angka mentah di react-hook-form\r\n                                      },\r\n                                    })}\r\n                                    autoComplete=\"off\"\r\n                                  />\r\n\r\n                                  {errors.items?.[index]?.price && (\r\n                                    <div className=\"invalid-feedback\">\r\n                                      {errors.items[index].price.message}\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td>\r\n                                  <textarea\r\n                                    className=\"form-control\"\r\n                                    placeholder=\"Keterangan\"\r\n                                    {...register(`items.${index}.description`)}\r\n                                  ></textarea>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  {index > 0 && (\r\n                                    <button\r\n                                      type=\"button\"\r\n                                      className=\"btn btn-outline-danger btn-sm\"\r\n                                      onClick={() => remove(index)}\r\n                                    >\r\n                                      Hapus\r\n                                    </button>\r\n                                  )}\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-outline-secondary btn-sm ms-2\"\r\n                                    onClick={() => toggleTax(index)}\r\n                                  >\r\n                                    Pajak\r\n                                  </button>\r\n                                </td>\r\n                              </tr>\r\n                              {taxVisibility[index] && (\r\n                                <tr>\r\n                                  <td colSpan={6}>\r\n                                    {(taxesPerItem[index] || []).map((tax, taxIndex) => (\r\n                                      <div className=\"row mb-2\" key={tax.id}>\r\n                                        <div className=\"col-md-4\">\r\n                                          <input\r\n                                            className={`form-control ${\r\n                                              errors?.items?.[index]?.taxes?.[taxIndex]?.name\r\n                                                ? 'is-invalid'\r\n                                                : ''\r\n                                            }`}\r\n                                            placeholder=\"Jenis Pajak\"\r\n                                            // register pajak\r\n                                            {...register(`items.${index}.taxes.${taxIndex}.name`, {\r\n                                              required: 'Jenis Pajak wajib diisi',\r\n                                              onChange: (e) =>\r\n                                                updateTax(index, taxIndex, 'name', e.target.value),\r\n                                            })}\r\n                                            value={tax.name}\r\n                                          />\r\n                                          {errors?.items?.[index]?.taxes?.[taxIndex]?.name && (\r\n                                            <div className=\"invalid-feedback\">\r\n                                              {errors.items[index].taxes[taxIndex].name.message}\r\n                                            </div>\r\n                                          )}\r\n                                        </div>\r\n                                        <div className=\"col-md-3\">\r\n                                          <input\r\n                                            type=\"number\"\r\n                                            className={`form-control ${\r\n                                              errors?.items?.[index]?.taxes?.[taxIndex]?.percentage\r\n                                                ? 'is-invalid'\r\n                                                : ''\r\n                                            }`}\r\n                                            placeholder=\"Persentase (%)\"\r\n                                            {...register(\r\n                                              `items.${index}.taxes.${taxIndex}.percentage`,\r\n                                              {\r\n                                                required: 'Persentase wajib diisi',\r\n                                                validate: (value) => {\r\n                                                  // Ganti isNaN dengan Number.isNaN sesuai aturan eslint\r\n                                                  if (!value || Number.isNaN(Number(value)))\r\n                                                    return 'Persentase wajib berupa angka';\r\n                                                  if (Number(value) <= 0)\r\n                                                    return 'Persentase tidak boleh kurang dari atau sama dengan 0';\r\n                                                  return true;\r\n                                                },\r\n                                                onChange: (e) =>\r\n                                                  updateTax(\r\n                                                    index,\r\n                                                    taxIndex,\r\n                                                    'percentage',\r\n                                                    e.target.value,\r\n                                                  ),\r\n                                              },\r\n                                            )}\r\n                                            value={tax.percentage}\r\n                                          />\r\n                                          {errors?.items?.[index]?.taxes?.[taxIndex]\r\n                                            ?.percentage && (\r\n                                            <div className=\"invalid-feedback\">\r\n                                              {\r\n                                                errors.items[index].taxes[taxIndex].percentage\r\n                                                  .message\r\n                                              }\r\n                                            </div>\r\n                                          )}\r\n                                        </div>\r\n                                        <div className=\"col-md-3\">\r\n                                          <select\r\n                                            className={`form-control ${\r\n                                              errors?.items?.[index]?.taxes?.[taxIndex]?.type\r\n                                                ? 'is-invalid'\r\n                                                : ''\r\n                                            }`}\r\n                                            {...register(`items.${index}.taxes.${taxIndex}.type`, {\r\n                                              required: 'Tipe wajib diisi',\r\n                                              onChange: (e) =>\r\n                                                updateTax(index, taxIndex, 'type', e.target.value),\r\n                                            })}\r\n                                            value={tax.type}\r\n                                          >\r\n                                            <option value=\"increment\">Increment</option>\r\n                                            <option value=\"decrement\">Decrement</option>\r\n                                          </select>\r\n                                          {errors?.items?.[index]?.taxes?.[taxIndex]?.type && (\r\n                                            <div className=\"invalid-feedback\">\r\n                                              {errors.items[index].taxes[taxIndex].type.message}\r\n                                            </div>\r\n                                          )}\r\n                                        </div>\r\n                                        <div className=\"col-md-2\">\r\n                                          <button\r\n                                            type=\"button\"\r\n                                            className=\"btn btn-outline-danger btn-sm\"\r\n                                            onClick={() => removeTax(index, taxIndex)}\r\n                                          >\r\n                                            Hapus\r\n                                          </button>\r\n                                        </div>\r\n                                      </div>\r\n                                    ))}\r\n                                    {/* Tampilkan tombol tambah pajak hanya jika masih ada pajak */}\r\n                                    {taxesPerItem[index] && taxesPerItem[index].length > 0 && (\r\n                                      <button\r\n                                        type=\"button\"\r\n                                        className=\"btn btn-outline-primary btn-sm\"\r\n                                        onClick={() => addTax(index)}\r\n                                      >\r\n                                        Tambah Pajak\r\n                                      </button>\r\n                                    )}\r\n                                  </td>\r\n                                </tr>\r\n                              )}\r\n                            </>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn btn-primary\"\r\n                        onClick={() =>\r\n                          append({\r\n                            itemName: '',\r\n                            quantity: '',\r\n                            unit: '',\r\n                            price: '',\r\n                            description: '',\r\n                          })\r\n                        }\r\n                      >\r\n                        Tambah Barang/Jasa\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"d-flex justify-content-end mb-3\">\r\n                  <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\r\n                    {loading ? (\r\n                      <>\r\n                        <Spinner color=\"light\" size=\"sm\" className=\"me-1\" /> Loading\r\n                      </>\r\n                    ) : (\r\n                      <>{updateClick ? 'Update' : 'Submit'}</>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </>\r\n          )}\r\n        </CardBody>\r\n      </Card>\r\n\r\n      {!isAddForm && (\r\n        <Card>\r\n          <CardBody>\r\n            <div className=\"mb-3 d-flex align-items-center justify-content-end\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control w-25  me-2\"\r\n                placeholder=\"Cari...\"\r\n                value={searchText}\r\n                onChange={(e) => setSearchText(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"month\"\r\n                className=\"form-control w-auto\"\r\n                value={selectedMonth}\r\n                onChange={(e) => setSelectedMonth(e.target.value)}\r\n                style={{ minWidth: 180 }}\r\n              />\r\n            </div>\r\n\r\n            {isLoading ? (\r\n              <div className=\"text-center\">\r\n                <Spinner color=\"primary\" size=\"sm\" className=\"me-2\" /> Sedang Mengambil Data\r\n              </div>\r\n            ) : error ? (\r\n              <div className=\"text-center\">\r\n                <span className=\"text-danger\">Something went wrong</span>\r\n              </div>\r\n            ) : (\r\n              <DataTable\r\n                columns={columns}\r\n                data={dataPengajuan}\r\n                pagination\r\n                highlightOnHover\r\n                responsive\r\n                striped\r\n              />\r\n            )}\r\n          </CardBody>\r\n        </Card>\r\n      )}\r\n\r\n      <Modal isOpen={modalOpen} toggle={() => setModalOpen(!modalOpen)}>\r\n        <ModalHeader toggle={() => setModalOpen(!modalOpen)}>Approval Pengajuan</ModalHeader>\r\n        <ModalBody>\r\n          {selectedData && (\r\n            <ListGroup flush>\r\n              {selectedData.map((item, index) => (\r\n                <ListGroupItem className=\"d-flex justify-content-between align-items-start flex-column\">\r\n                  <div className=\"w-100 d-flex justify-content-between align-items-center\">\r\n                    <div>\r\n                      <h6 className=\"mb-1\">\r\n                        <strong>{index + 1}.</strong> {item.employe_id} - {item.full_name}\r\n                      </h6>\r\n                      <small className=\"text-muted\">{item.position_name}</small>\r\n                    </div>\r\n                    {item?.status === '1' ? (\r\n                      <div className=\"d-flex flex-column align-items-end\">\r\n                        <span className=\"badge bg-success rounded-pill\">Approved</span>\r\n                        <small className=\"text-muted\">\r\n                          {new Date(item?.updated_at).toLocaleString('id-ID', {\r\n                            day: 'numeric',\r\n                            month: 'long',\r\n                            year: 'numeric',\r\n                            hour: '2-digit',\r\n                            minute: '2-digit',\r\n                          })}\r\n                        </small>\r\n                      </div>\r\n                    ) : item?.status === '0' ? (\r\n                      <div className=\"d-flex flex-column align-items-end\">\r\n                        <span className=\"badge bg-danger rounded-pill\">Rejected</span>\r\n                        <small className=\"text-muted\">\r\n                          {new Date(item?.updated_at).toLocaleString('id-ID', {\r\n                            day: 'numeric',\r\n                            month: 'long',\r\n                            year: 'numeric',\r\n                            hour: '2-digit',\r\n                            minute: '2-digit',\r\n                          })}\r\n                        </small>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"d-flex flex-column align-items-end\">\r\n                        <span className=\"badge bg-secondary rounded-pill\">Pending</span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  {item?.status === '0' && item?.keterangan && (\r\n                    <div className=\"mt-2 w-100\">\r\n                      <small>\r\n                        <strong>Alasan Penolakan:</strong> <br />\r\n                        {item.keterangan}\r\n                      </small>\r\n                    </div>\r\n                  )}\r\n                </ListGroupItem>\r\n              ))}\r\n            </ListGroup>\r\n          )}\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"secondary\" onClick={() => setModalOpen(false)}>\r\n            Tutup\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n\r\n      <Modal isOpen={modalOpen2} toggle={() => setModalOpen2(!modalOpen2)} size=\"xl\">\r\n        <ModalHeader toggle={() => setModalOpen2(!modalOpen2)}>Detail Pengajuan</ModalHeader>\r\n        <ModalBody>{modalContent2?.body}</ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"secondary\" onClick={() => setModalOpen2(false)}>\r\n            Tutup\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PengajuanBiaya;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Button,\r\n  Spinner,\r\n  Modal,\r\n  ModalBody,\r\n  ModalHeader,\r\n  ModalFooter,\r\n  Label,\r\n  Table,\r\n  Row,\r\n  Col,\r\n} from 'reactstrap';\r\nimport DataTable from 'react-data-table-component';\r\nimport { useQuery, useQueryClient } from '@tanstack/react-query';\r\nimport PropTypes from 'prop-types';\r\nimport useAxios from '../../../hooks/useAxios';\r\n// import previewPdf from '../../../utils/previewPdf';\r\nimport { alert } from '../../../components/atoms/Toast';\r\nimport 'react-confirm-alert/src/react-confirm-alert.css';\r\n\r\nconst ApprovalPengajuan = ({ setBadgeCount }) => {\r\n  const api = useAxios();\r\n  const [dataPengajuan, setDataPengajuan] = useState([]);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [modalContent, setModalContent] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingReject, setLoadingReject] = useState(false);\r\n  const [alasanReject, setAlasanReject] = useState('');\r\n  const [showAlasanInput, setShowAlasanInput] = useState(false);\r\n  const [searchText, setSearchText] = useState('');\r\n  const queryClient = useQueryClient();\r\n\r\n  const toggleModal = () => {\r\n    setModalOpen(!modalOpen);\r\n    setAlasanReject('');\r\n    setShowAlasanInput(false);\r\n  };\r\n\r\n  const { data, isLoading, error, refetch } = useQuery({\r\n    queryKey: ['approval-pengajuan-all'],\r\n    queryFn: () => api.get(`api/pengajuan-approval`).then((res) => res.data.data),\r\n  });\r\n\r\n  useEffect(() => {\r\n    setDataPengajuan(data);\r\n    // Kirim jumlah data ke komponen Pengajuan\r\n    if (data) {\r\n      setBadgeCount(data?.length); // Update badge count di Pengajuan\r\n      queryClient.invalidateQueries(['dashboard-pengajuan']);\r\n    }\r\n  }, [data, setBadgeCount]);\r\n\r\n  useEffect(() => {\r\n    if (searchText) {\r\n      setDataPengajuan(\r\n        Array.isArray(data)\r\n          ? data.filter(\r\n              (item) =>\r\n                item?.sub_pengajuan &&\r\n                Array.isArray(item.sub_pengajuan) &&\r\n                item?.sub_pengajuan[0]?.nama_item\r\n                  ?.toLowerCase()\r\n                  ?.includes(searchText.toLowerCase()),\r\n            )\r\n          : [],\r\n      );\r\n    } else {\r\n      setDataPengajuan(Array.isArray(data) ? data : []);\r\n    }\r\n  }, [searchText, data]);\r\n\r\n  const handleApprove = async () => {\r\n    if (!modalContent?.row) return;\r\n\r\n    setLoading(true);\r\n    const dataApprove = {\r\n      id: modalContent.row.id,\r\n      status: 'approve',\r\n    };\r\n    try {\r\n      await api.post(`api/pengajuan-approval/approve`, dataApprove);\r\n      refetch();\r\n      setModalOpen(false);\r\n      alert('success', 'Pengajuan berhasil diapprove');\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('error', 'Terjadi kesalahan');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleReject = async () => {\r\n    if (!modalContent?.row) return;\r\n\r\n    if (!alasanReject.trim()) {\r\n      alert('error', 'Silakan isi alasan penolakan');\r\n      return;\r\n    }\r\n\r\n    setLoadingReject(true);\r\n    const dataReject = {\r\n      id: modalContent.row.id,\r\n      status: 'reject',\r\n      alasan: alasanReject,\r\n    };\r\n    try {\r\n      await api.post(`api/pengajuan-approval/reject`, dataReject);\r\n      refetch();\r\n      setModalOpen(false);\r\n      setAlasanReject('');\r\n      setShowAlasanInput(false);\r\n      alert('success', 'Pengajuan Ditolak');\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('error', 'Terjadi kesalahan');\r\n    } finally {\r\n      setLoadingReject(false);\r\n    }\r\n  };\r\n\r\n  // Helper untuk format rupiah tanpa koma\r\n  const formatRupiahNoComma = (value) => {\r\n    return new Intl.NumberFormat('id-ID', {\r\n      style: 'currency',\r\n      currency: 'IDR',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0,\r\n      useGrouping: true,\r\n    })\r\n      .format(value)\r\n      .replace(/,/g, '');\r\n  };\r\n\r\n  const handlePendingApprovalClick = (row) => {\r\n    setModalContent({\r\n      row,\r\n      title: 'Detail Pengajuan',\r\n      body: (\r\n        <>\r\n          <Row>\r\n            <Col md={6}>\r\n              <p className=\"fw-bold\">Jenis Permohonan : </p>\r\n              <p>{row.pengajuan}</p>\r\n            </Col>\r\n            <Col md={6}>\r\n              <p className=\"fw-bold\">No Dokumen : </p>\r\n              <p>{row.no_dokumen}</p>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col md={6}>\r\n              <p className=\"fw-bold\">Tanggal Pengajuan : </p>\r\n              <p>\r\n                {new Date(row.created_at).toLocaleDateString('id-ID', {\r\n                  year: 'numeric',\r\n                  month: 'long',\r\n                  day: 'numeric',\r\n                  hour: '2-digit',\r\n                  minute: '2-digit',\r\n                })}\r\n              </p>\r\n            </Col>\r\n            <Col md={6}>\r\n              <p className=\"fw-bold\">Lampiran : </p>\r\n              <p>\r\n                <a\r\n                  href={`${api.defaults.baseURL}/pengajuan/${row.lampiran}`}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"btn btn-info btn-sm\"\r\n                >\r\n                  Lihat Lampiran\r\n                </a>\r\n              </p>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col>\r\n              <div className=\"table-responsive\">\r\n                <Table bordered responsive hover>\r\n                  <thead>\r\n                    <tr>\r\n                      <th className=\"text-center\" style={{ width: '50px' }}>\r\n                        No\r\n                      </th>\r\n                      <th>Nama Barang/Jasa</th>\r\n                      <th>Jumlah</th>\r\n                      <th>Satuan</th>\r\n                      <th>Biaya Satuan</th>\r\n                      <th>Pajak</th>\r\n                      <th>Total Biaya</th>\r\n                      <th>Keterangan</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {row.sub_pengajuan.map((item, index) => {\r\n                      // Pajak array, support pajak di field pajak atau taxes\r\n                      const pajakArr = item.pajak || item.taxes || [];\r\n                      const hargaSatuan = item.biaya_satuan;\r\n                      const pajakDetail = [];\r\n                      let hargaSetelahPajak = hargaSatuan;\r\n\r\n                      pajakArr.forEach((pajak) => {\r\n                        const persentase = Number(pajak.persentase || pajak.percentage || 0);\r\n                        const tipe = pajak.calculation || pajak.type;\r\n                        const nama = pajak.nama_pajak || pajak.name || '';\r\n                        if (persentase > 0) {\r\n                          // Pajak dihitung dari harga satuan * persentase * jumlah\r\n                          const nilaiPajak = ((hargaSatuan * persentase) / 100) * item.jumlah;\r\n                          const nilaiPajakStr = formatRupiahNoComma(nilaiPajak);\r\n                          if (tipe === 'increase' || tipe === 'increment') {\r\n                            hargaSetelahPajak += (hargaSatuan * persentase) / 100;\r\n                            pajakDetail.push(\r\n                              <div key={`${nama}_inc`}>\r\n                                {`+ ${nama} (${persentase}%) : `}\r\n                                {nilaiPajakStr}\r\n                              </div>,\r\n                            );\r\n                          } else if (tipe === 'decrease' || tipe === 'decrement') {\r\n                            hargaSetelahPajak -= (hargaSatuan * persentase) / 100;\r\n                            pajakDetail.push(\r\n                              <div key={`${nama}_dec`}>\r\n                                {`- ${nama} (${persentase}%) : `}\r\n                                {nilaiPajakStr}\r\n                              </div>,\r\n                            );\r\n                          }\r\n                        }\r\n                      });\r\n\r\n                      // Total biaya = harga satuan setelah pajak * jumlah\r\n                      const totalBiaya = hargaSetelahPajak * item.jumlah;\r\n\r\n                      return (\r\n                        <tr key={item.id}>\r\n                          <td className=\"text-center\">{index + 1}</td>\r\n                          <td style={{ whiteSpace: 'pre-wrap' }}>{item.nama_item}</td>\r\n                          <td>{item.jumlah}</td>\r\n                          <td>{item.satuan}</td>\r\n                          <td>{formatRupiahNoComma(item.biaya_satuan)}</td>\r\n                          <td>{pajakArr.length > 0 ? pajakDetail : <span>-</span>}</td>\r\n                          <td>{formatRupiahNoComma(totalBiaya)}</td>\r\n                          <td>{item.keterangan || '-'}</td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                    <tr>\r\n                      <td colSpan={6} className=\"text-end fw-bold\">\r\n                        Total Biaya Keseluruhan\r\n                      </td>\r\n                      <td colSpan={2}>\r\n                        {formatRupiahNoComma(\r\n                          row.sub_pengajuan.reduce((total, item) => {\r\n                            const pajakArr = item.pajak || item.taxes || [];\r\n                            const hargaSatuan = item.biaya_satuan;\r\n                            let hargaSetelahPajak = hargaSatuan;\r\n                            pajakArr.forEach((pajak) => {\r\n                              const persentase = Number(pajak.persentase || pajak.percentage || 0);\r\n                              const tipe = pajak.calculation || pajak.type;\r\n                              if (persentase > 0) {\r\n                                const nilaiPajak = (hargaSatuan * persentase) / 100;\r\n                                if (tipe === 'increase' || tipe === 'increment') {\r\n                                  hargaSetelahPajak += nilaiPajak;\r\n                                } else if (tipe === 'decrease' || tipe === 'decrement') {\r\n                                  hargaSetelahPajak -= nilaiPajak;\r\n                                }\r\n                              }\r\n                            });\r\n                            return total + hargaSetelahPajak * item.jumlah;\r\n                          }, 0),\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </Table>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      ),\r\n    });\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      name: 'Aksi',\r\n      selector: (row) => (\r\n        <Button\r\n          color=\"primary\"\r\n          outline\r\n          size=\"sm\"\r\n          className=\"me-2\"\r\n          onClick={() => handlePendingApprovalClick(row)}\r\n        >\r\n          Pending Approval\r\n        </Button>\r\n      ),\r\n      width: '200px',\r\n    },\r\n    {\r\n      name: 'Tanggal Pengajuan',\r\n      selector: (row) =>\r\n        new Date(row?.created_at).toLocaleDateString('id-ID', {\r\n          year: 'numeric',\r\n          month: 'long',\r\n          day: 'numeric',\r\n          hour: '2-digit',\r\n          minute: '2-digit',\r\n        }),\r\n      width: '200px',\r\n    },\r\n    {\r\n      name: 'Jenis Permohonan',\r\n      selector: (row) => row?.pengajuan,\r\n      width: '250px',\r\n    },\r\n    {\r\n      name: 'No Dokumen',\r\n      selector: (row) => row?.no_dokumen,\r\n      width: '200px',\r\n    },\r\n    {\r\n      name: 'Nama Barang/Jasa',\r\n      selector: (row) => row?.sub_pengajuan[0]?.nama_item,\r\n    },\r\n    {\r\n      name: 'Jumlah Barang/Jasa',\r\n      selector: (row) => row?.sub_pengajuan[0]?.jumlah,\r\n    },\r\n    {\r\n      name: 'Satuan',\r\n      selector: (row) => row?.sub_pengajuan[0]?.satuan,\r\n    },\r\n    {\r\n      name: 'Biaya Satuan',\r\n      selector: (row) => (\r\n        <div>\r\n          {new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(\r\n            row?.sub_pengajuan[0]?.biaya_satuan,\r\n          )}\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Card>\r\n        <CardBody className=\"p-4\">\r\n          <div className=\"mb-3 d-flex align-items-center justify-content-end\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control w-25\"\r\n              placeholder=\"Cari...\"\r\n              value={searchText}\r\n              onChange={(e) => setSearchText(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          {isLoading ? (\r\n            <div className=\"d-flex justify-content-center\">\r\n              <Spinner color=\"primary\" size=\"sm\" className=\"me-2\" /> Sedang Mengambil Data\r\n            </div>\r\n          ) : error ? (\r\n            <div className=\"text-center\">Something went wrong</div>\r\n          ) : dataPengajuan?.length === 0 ? (\r\n            <div className=\"text-center\">Tidak ada data pengajuan</div>\r\n          ) : (\r\n            <DataTable columns={columns} data={dataPengajuan} pagination highlightOnHover />\r\n          )}\r\n        </CardBody>\r\n      </Card>\r\n\r\n      <Modal isOpen={modalOpen} toggle={toggleModal} size=\"xl\">\r\n        <ModalHeader toggle={toggleModal}>{modalContent?.title || 'Detail'}</ModalHeader>\r\n        <ModalBody>\r\n          {modalContent?.body}\r\n          {showAlasanInput && (\r\n            <div className=\"mt-3\">\r\n              <Label>\r\n                <strong>Alasan Penolakan:</strong>\r\n              </Label>\r\n              <textarea\r\n                className=\"form-control\"\r\n                rows=\"3\"\r\n                value={alasanReject}\r\n                onChange={(e) => setAlasanReject(e.target.value)}\r\n                placeholder=\"Masukkan alasan penolakan\"\r\n              />\r\n            </div>\r\n          )}\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"secondary\" onClick={toggleModal}>\r\n            Tutup\r\n          </Button>\r\n          {!showAlasanInput ? (\r\n            <Button color=\"danger\" onClick={() => setShowAlasanInput(true)}>\r\n              Reject\r\n            </Button>\r\n          ) : (\r\n            <Button color=\"danger\" onClick={handleReject} disabled={loadingReject}>\r\n              {loadingReject ? (\r\n                <>\r\n                  <Spinner size=\"sm\" color=\"light\" className=\"me-2\" /> Loading\r\n                </>\r\n              ) : (\r\n                'Submit Reject'\r\n              )}\r\n            </Button>\r\n          )}\r\n          <Button color=\"primary\" onClick={handleApprove} disabled={loading}>\r\n            {loading ? (\r\n              <>\r\n                <Spinner size=\"sm\" color=\"light\" className=\"me-2\" /> Loading\r\n              </>\r\n            ) : (\r\n              'Approve'\r\n            )}\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nApprovalPengajuan.propTypes = {\r\n  setBadgeCount: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ApprovalPengajuan;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Spinner,\r\n  Button,\r\n  Row,\r\n  Col,\r\n  Table,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n} from 'reactstrap';\r\nimport DataTable from 'react-data-table-component';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport pdfMake from 'pdfmake/build/pdfmake';\r\nimport pdfFonts from 'pdfmake/build/vfs_fonts';\r\nimport useAxios from '../../../hooks/useAxios';\r\n\r\n// Explicitly set the virtual file system for pdfMake\r\nif (pdfFonts && pdfFonts.pdfMake) {\r\n  pdfMake.vfs = pdfFonts.pdfMake.vfs;\r\n} else {\r\n  console.error('Failed to load pdfmake fonts. Ensure pdfmake is properly installed.');\r\n}\r\n\r\nconst PengajuanSelesai = () => {\r\n  const api = useAxios();\r\n  const [dataPengajuan, setDataPengajuan] = useState([]);\r\n  const [searchText, setSearchText] = useState('');\r\n  const [filterMonth, setFilterMonth] = useState(''); // Tambah state filter bulan\r\n  const [modalContent, setModalContent] = useState(null);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n\r\n  const { data, isLoading, error } = useQuery({\r\n    queryKey: ['pengajuanSelesai'],\r\n    queryFn: () =>\r\n      api.get('/api/pengajuan-selesai').then((res) => {\r\n        console.log(res);\r\n        return res.data.data;\r\n      }),\r\n  });\r\n\r\n  useEffect(() => {\r\n    setDataPengajuan(data || []);\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    let filtered = data;\r\n    if (searchText) {\r\n      filtered = filtered?.filter((item) =>\r\n        item.sub_pengajuan[0].nama_item.toLowerCase().includes(searchText.toLowerCase()),\r\n      );\r\n    }\r\n    if (filterMonth) {\r\n      filtered = filtered?.filter((item) => {\r\n        const date = new Date(item.created_at);\r\n        const month = String(date.getMonth() + 1).padStart(2, '0');\r\n        const year = date.getFullYear();\r\n        return filterMonth === `${year}-${month}`;\r\n      });\r\n    }\r\n    setDataPengajuan(filtered);\r\n  }, [searchText, filterMonth, data]);\r\n\r\n  const formatRupiahNoComma = (value) => {\r\n    return new Intl.NumberFormat('id-ID', {\r\n      style: 'currency',\r\n      currency: 'IDR',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0,\r\n      useGrouping: true,\r\n    })\r\n      .format(value)\r\n      .replace(/,/g, '');\r\n  };\r\n\r\n  const generatePDF = (row) => {\r\n    // Tidak perlu deklarasi formatPajak & totalPajakKeseluruhan terpisah, langsung di dalam map saja\r\n\r\n    const docDefinition = {\r\n      content: [\r\n        { text: 'Detail Pengajuan', style: 'header' },\r\n        { text: `Jenis Permohonan: ${row.pengajuan}`, margin: [0, 10, 0, 5] },\r\n        { text: `No Dokumen: ${row.no_dokumen}`, margin: [0, 0, 0, 5] },\r\n        {\r\n          text: `Tanggal Pengajuan: ${new Date(row.created_at).toLocaleDateString('id-ID', {\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric',\r\n            hour: '2-digit',\r\n            minute: '2-digit',\r\n          })}`,\r\n          margin: [0, 0, 0, 10],\r\n        },\r\n        { text: 'Lampiran:', margin: [0, 0, 0, 5] },\r\n        {\r\n          text: `${api.defaults.baseURL}/pengajuan/${row.lampiran}`,\r\n          link: `${api.defaults.baseURL}/pengajuan/${row.lampiran}`,\r\n          color: 'blue',\r\n          margin: [0, 0, 0, 10],\r\n        },\r\n        { text: 'Diapprove oleh:', style: 'subheader', margin: [0, 10, 0, 5] },\r\n        ...row.approvals.map((item) => ({\r\n          text: `${item.full_name} (${item.position_name}) - Approved At: ${new Date(\r\n            item.updated_at,\r\n          ).toLocaleDateString('id-ID', {\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric',\r\n            hour: '2-digit',\r\n            minute: '2-digit',\r\n          })}`,\r\n          margin: [0, 0, 0, 5],\r\n        })),\r\n        { text: 'Detail Barang/Jasa:', style: 'subheader', margin: [0, 10, 0, 5] },\r\n        {\r\n          table: {\r\n            headerRows: 1,\r\n            widths: [\r\n              'auto', // No\r\n              '*', // Nama Barang/Jasa\r\n              'auto', // Jumlah\r\n              'auto', // Satuan\r\n              'auto', // Biaya Satuan\r\n              'auto', // Pajak\r\n              'auto', // Total Biaya\r\n              '*', // Keterangan\r\n            ],\r\n            body: [\r\n              [\r\n                { text: 'No', bold: true, alignment: 'center' },\r\n                { text: 'Nama Barang/Jasa', bold: true },\r\n                { text: 'Jumlah', bold: true },\r\n                { text: 'Satuan', bold: true },\r\n                { text: 'Biaya Satuan', bold: true },\r\n                { text: 'Pajak', bold: true },\r\n                { text: 'Total Biaya', bold: true },\r\n                { text: 'Keterangan', bold: true },\r\n              ],\r\n              ...row.sub_pengajuan.map((item, index) => {\r\n                const pajakArr = item.pajak || item.taxes || [];\r\n                const hargaSatuan = item.biaya_satuan;\r\n                let hargaSetelahPajak = hargaSatuan;\r\n                const pajakDetail = pajakArr.map((pajak) => {\r\n                  const persentase = Number(pajak.persentase || pajak.percentage || 0);\r\n                  const tipe = pajak.calculation || pajak.type;\r\n                  const nama = pajak.nama_pajak || pajak.name || '';\r\n                  const nilaiPajak = ((hargaSatuan * persentase) / 100) * item.jumlah;\r\n                  const nilaiPajakStr = formatRupiahNoComma(nilaiPajak);\r\n                  if (tipe === 'increase' || tipe === 'increment') {\r\n                    hargaSetelahPajak += (hargaSatuan * persentase) / 100;\r\n                    return `+ ${nama}\\n(${persentase}%) :\\n ${nilaiPajakStr}`;\r\n                  }\r\n                  if (tipe === 'decrease' || tipe === 'decrement') {\r\n                    hargaSetelahPajak -= (hargaSatuan * persentase) / 100;\r\n                    return `- ${nama}\\n(${persentase}%) :\\n ${nilaiPajakStr}`;\r\n                  }\r\n                  return '';\r\n                });\r\n\r\n                const totalBiaya = hargaSetelahPajak * item.jumlah;\r\n\r\n                return [\r\n                  { text: index + 1, alignment: 'center' },\r\n                  { text: item.nama_item },\r\n                  { text: item.jumlah, alignment: 'center' },\r\n                  { text: item.satuan, alignment: 'center' },\r\n                  {\r\n                    text: formatRupiahNoComma(item.biaya_satuan),\r\n                    alignment: 'right',\r\n                  },\r\n                  pajakArr.length > 0\r\n                    ? { text: pajakDetail.join('\\n'), alignment: 'left' }\r\n                    : { text: '-', alignment: 'center' },\r\n                  {\r\n                    text: formatRupiahNoComma(totalBiaya),\r\n                    alignment: 'right',\r\n                  },\r\n                  { text: item.keterangan || '-', alignment: 'left' },\r\n                ];\r\n              }),\r\n              [\r\n                { text: 'Total Biaya Keseluruhan', colSpan: 6, alignment: 'right' },\r\n                {},\r\n                {},\r\n                {},\r\n                {},\r\n                {},\r\n                formatRupiahNoComma(\r\n                  row.sub_pengajuan.reduce((total, item) => {\r\n                    const pajakArr = item.pajak || item.taxes || [];\r\n                    let hargaSetelahPajak = item.biaya_satuan;\r\n                    pajakArr.forEach((pajak) => {\r\n                      const persentase = Number(pajak.persentase || pajak.percentage || 0);\r\n                      const tipe = pajak.calculation || pajak.type;\r\n                      if (persentase > 0) {\r\n                        const nilaiPajak = (item.biaya_satuan * persentase) / 100;\r\n                        if (tipe === 'increase' || tipe === 'increment') {\r\n                          hargaSetelahPajak += nilaiPajak;\r\n                        }\r\n                        if (tipe === 'decrease' || tipe === 'decrement') {\r\n                          hargaSetelahPajak -= nilaiPajak;\r\n                        }\r\n                      }\r\n                    });\r\n                    return total + hargaSetelahPajak * item.jumlah;\r\n                  }, 0),\r\n                ),\r\n                {},\r\n              ],\r\n            ],\r\n          },\r\n        },\r\n      ],\r\n      styles: {\r\n        header: { fontSize: 18, bold: true },\r\n        subheader: { fontSize: 14, bold: true },\r\n      },\r\n      // Hapus defaultStyle.font agar pdfMake pakai font default bawaan (Roboto)\r\n      // defaultStyle: {\r\n      //   font: 'Helvetica',\r\n      // },\r\n    };\r\n\r\n    pdfMake.createPdf(docDefinition).open();\r\n  };\r\n\r\n  // Helper untuk format rupiah tanpa koma\r\n\r\n  const handleDetailClick = (row) => {\r\n    setModalContent({\r\n      row,\r\n      title: 'Detail Pengajuan',\r\n      body: (\r\n        <>\r\n          <div className=\"d-flex justify-content-end\">\r\n            <Button color=\"primary\" onClick={() => generatePDF(row)}>\r\n              Print PDF\r\n            </Button>\r\n          </div>\r\n          <Row className=\"mb-4\">\r\n            <Col md={6}>\r\n              <p className=\"fw-bold\">Jenis Permohonan:</p>\r\n              <p>{row.pengajuan}</p>\r\n            </Col>\r\n            <Col md={6}>\r\n              <p className=\"fw-bold\">No Dokumen:</p>\r\n              <p>{row.no_dokumen}</p>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row className=\"mb-4\">\r\n            <Col md={6}>\r\n              <p className=\"fw-bold\">Tanggal Pengajuan:</p>\r\n              <p>\r\n                {new Date(row.created_at).toLocaleDateString('id-ID', {\r\n                  year: 'numeric',\r\n                  month: 'long',\r\n                  day: 'numeric',\r\n                  hour: '2-digit',\r\n                  minute: '2-digit',\r\n                })}\r\n              </p>\r\n            </Col>\r\n            <Col md={6}>\r\n              <p className=\"fw-bold\">Lampiran:</p>\r\n              <p>\r\n                <a\r\n                  href={`${api.defaults.baseURL}/pengajuan/${row.lampiran}`}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"btn btn-info btn-sm\"\r\n                >\r\n                  Lihat Lampiran\r\n                </a>\r\n              </p>\r\n            </Col>\r\n          </Row>\r\n\r\n          {/* Diapprove oleh dalam 1 baris 3 kolom */}\r\n          <Row className=\"mb-4\">\r\n            <p className=\"fw-bold\">Diapprove oleh:</p>\r\n            {row?.approvals?.map((item) => (\r\n              <Col key={item.id} md={4} className=\"mb-3\">\r\n                <div className=\"shadow-sm p-3 bg-light rounded\">\r\n                  <h5 className=\"mb-1\">{item?.full_name}</h5>\r\n                  <p className=\"mb-1 text-muted\">{item.position_name}</p>\r\n                  <small className=\"text-muted\">\r\n                    <strong>Approved At: </strong>\r\n                    {new Date(item.updated_at).toLocaleDateString('id-ID', {\r\n                      year: 'numeric',\r\n                      month: 'long',\r\n                      day: 'numeric',\r\n                      hour: '2-digit',\r\n                      minute: '2-digit',\r\n                    })}\r\n                  </small>\r\n                </div>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n\r\n          <Row>\r\n            <Col>\r\n              <div className=\"table-responsive\">\r\n                <Table bordered responsive hover>\r\n                  <thead>\r\n                    <tr>\r\n                      <th className=\"text-center\" style={{ width: '50px' }}>\r\n                        No\r\n                      </th>\r\n                      <th>Nama Barang/Jasa</th>\r\n                      <th>Jumlah</th>\r\n                      <th>Satuan</th>\r\n                      <th>Biaya Satuan</th>\r\n                      <th>Pajak</th>\r\n                      <th>Total Biaya</th>\r\n                      <th>Keterangan</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {row.sub_pengajuan.map((item, index) => {\r\n                      // Pajak array, support pajak di field pajak atau taxes\r\n                      const pajakArr = item.pajak || item.taxes || [];\r\n                      const hargaSatuan = item.biaya_satuan;\r\n                      const pajakDetail = [];\r\n                      let hargaSetelahPajak = hargaSatuan;\r\n\r\n                      pajakArr.forEach((pajak) => {\r\n                        const persentase = Number(pajak.persentase || pajak.percentage || 0);\r\n                        const tipe = pajak.calculation || pajak.type;\r\n                        const nama = pajak.nama_pajak || pajak.name || '';\r\n                        if (persentase > 0) {\r\n                          // Pajak dihitung dari harga satuan * persentase * jumlah\r\n                          const nilaiPajak = ((hargaSatuan * persentase) / 100) * item.jumlah;\r\n                          const nilaiPajakStr = formatRupiahNoComma(nilaiPajak);\r\n                          if (tipe === 'increase' || tipe === 'increment') {\r\n                            hargaSetelahPajak += (hargaSatuan * persentase) / 100;\r\n                            pajakDetail.push(\r\n                              <div key={`${nama}_inc`}>\r\n                                {`+ ${nama} (${persentase}%) : `}\r\n                                {nilaiPajakStr}\r\n                              </div>,\r\n                            );\r\n                          } else if (tipe === 'decrease' || tipe === 'decrement') {\r\n                            hargaSetelahPajak -= (hargaSatuan * persentase) / 100;\r\n                            pajakDetail.push(\r\n                              <div key={`${nama}_dec`}>\r\n                                {`- ${nama} (${persentase}%) : `}\r\n                                {nilaiPajakStr}\r\n                              </div>,\r\n                            );\r\n                          }\r\n                        }\r\n                      });\r\n\r\n                      // Total biaya = harga satuan setelah pajak * jumlah\r\n                      const totalBiaya = hargaSetelahPajak * item.jumlah;\r\n\r\n                      return (\r\n                        <tr key={item.id}>\r\n                          <td className=\"text-center\">{index + 1}</td>\r\n                          <td style={{ whiteSpace: 'pre-wrap' }}>{item.nama_item}</td>\r\n                          <td>{item.jumlah}</td>\r\n                          <td>{item.satuan}</td>\r\n                          <td>{formatRupiahNoComma(item.biaya_satuan)}</td>\r\n                          <td>{pajakArr.length > 0 ? pajakDetail : <span>-</span>}</td>\r\n                          <td>{formatRupiahNoComma(totalBiaya)}</td>\r\n                          <td>{item.keterangan || '-'}</td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                    <tr>\r\n                      <td colSpan={6} className=\"text-end fw-bold\">\r\n                        Total Biaya Keseluruhan\r\n                      </td>\r\n                      <td colSpan={2}>\r\n                        {formatRupiahNoComma(\r\n                          row.sub_pengajuan.reduce((total, item) => {\r\n                            const pajakArr = item.pajak || item.taxes || [];\r\n                            const hargaSatuan = item.biaya_satuan;\r\n                            let hargaSetelahPajak = hargaSatuan;\r\n                            pajakArr.forEach((pajak) => {\r\n                              const persentase = Number(pajak.persentase || pajak.percentage || 0);\r\n                              const tipe = pajak.calculation || pajak.type;\r\n                              if (persentase > 0) {\r\n                                const nilaiPajak = (hargaSatuan * persentase) / 100;\r\n                                if (tipe === 'increase' || tipe === 'increment') {\r\n                                  hargaSetelahPajak += nilaiPajak;\r\n                                } else if (tipe === 'decrease' || tipe === 'decrement') {\r\n                                  hargaSetelahPajak -= nilaiPajak;\r\n                                }\r\n                              }\r\n                            });\r\n                            return total + hargaSetelahPajak * item.jumlah;\r\n                          }, 0),\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </Table>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      ),\r\n    });\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      name: 'No',\r\n      selector: (row, index) => index + 1,\r\n      width: '50px',\r\n    },\r\n    {\r\n      name: 'Aksi',\r\n      selector: (row) => (\r\n        <div className=\"d-flex justify-content-center\">\r\n          <Button outline color=\"info\" size=\"sm\" onClick={() => handleDetailClick(row)}>\r\n            Detail\r\n          </Button>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      name: 'Tanggal Pengajuan',\r\n      selector: (row) =>\r\n        new Date(row.created_at).toLocaleDateString('id-ID', {\r\n          year: 'numeric',\r\n          month: 'long',\r\n          day: 'numeric',\r\n          hour: '2-digit',\r\n          minute: '2-digit',\r\n        }),\r\n      width: '200px',\r\n    },\r\n    {\r\n      name: 'Jenis Permohonan',\r\n      selector: (row) => row.pengajuan,\r\n      width: '250px',\r\n    },\r\n    {\r\n      name: 'No Dokumen',\r\n      selector: (row) => row.no_dokumen,\r\n      width: '200px',\r\n    },\r\n    {\r\n      name: 'Nama Barang/Jasa',\r\n      selector: (row) => row.sub_pengajuan[0].nama_item,\r\n    },\r\n    {\r\n      name: 'Jumlah Barang/Jasa',\r\n      selector: (row) => row.sub_pengajuan[0].jumlah,\r\n    },\r\n    {\r\n      name: 'Satuan',\r\n      selector: (row) => row.sub_pengajuan[0].satuan,\r\n    },\r\n    {\r\n      name: 'Biaya Satuan',\r\n      selector: (row) => (\r\n        <div>\r\n          {new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(\r\n            row.sub_pengajuan[0].biaya_satuan,\r\n          )}\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <CardBody>\r\n          <div className=\"mb-3 d-flex align-items-center justify-content-end gap-2\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control w-25\"\r\n              placeholder=\"Cari...\"\r\n              value={searchText}\r\n              onChange={(e) => setSearchText(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"month\"\r\n              className=\"form-control w-auto\"\r\n              value={filterMonth}\r\n              onChange={(e) => setFilterMonth(e.target.value)}\r\n              style={{ minWidth: 180 }}\r\n            />\r\n          </div>\r\n\r\n          {isLoading ? (\r\n            <div className=\"d-flex justify-content-center\">\r\n              <Spinner color=\"primary\" size=\"sm\" className=\"me-2\" /> Sedang Mengambil Data\r\n            </div>\r\n          ) : error ? (\r\n            <div className=\"text-center\">Something went wrong</div>\r\n          ) : (\r\n            <DataTable columns={columns} data={dataPengajuan} pagination highlightOnHover />\r\n          )}\r\n        </CardBody>\r\n      </Card>\r\n\r\n      <Modal isOpen={modalOpen} toggle={() => setModalOpen(!modalOpen)} size=\"xl\">\r\n        <ModalHeader toggle={() => setModalOpen(!modalOpen)}>Detail Pengajuan</ModalHeader>\r\n        <ModalBody>{modalContent?.body}</ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"secondary\" onClick={() => setModalOpen(false)}>\r\n            Tutup\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PengajuanSelesai;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { Card } from 'reactstrap';\r\nimport { TabContext, TabList } from '@mui/lab';\r\nimport TabPanel from '@mui/lab/TabPanel';\r\nimport Tab from '@mui/material/Tab';\r\nimport Badge from '@mui/material/Badge';\r\nimport { useQuery, useQueryClient } from '@tanstack/react-query';\r\nimport useAxios from '../../hooks/useAxios';\r\nimport BreadCrumbs from '../../layouts/breadcrumbs/BreadCrumbs';\r\nimport Dashboard from './dashboard/Dashboard';\r\nimport PengajuanBiaya from './pengajuanBiaya/PengajuanBiaya';\r\nimport ApprovalPengajuan from './approvalPengajuan/ApprovalPengajuan';\r\nimport PengajuanSelesai from './pengajuanSelesai/PengajuanSelesai';\r\n\r\nconst Pengajuan = () => {\r\n  const api = useAxios();\r\n  const location = useLocation();\r\n\r\n  const [dataPengajuan, setDataPengajuan] = useState([]);\r\n\r\n  const { data } = useQuery(['dashboard-pengajuan'], () =>\r\n    api.get('/api/pengajuan-dashboard').then((res) => {\r\n      return res.data.data;\r\n    }),\r\n  );\r\n\r\n  const { data: dataChart } = useQuery(['chart-pengajuan'], () =>\r\n    api.get('/api/pengajuan-dashboard/chart').then((res) => {\r\n      console.log('Data Chart', res.data.data);\r\n      return res.data.data;\r\n    }),\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setDataPengajuan(data);\r\n    }\r\n  }, [data]);\r\n\r\n  const auth = JSON.parse(localStorage.getItem('auth'));\r\n  const queryClient = useQueryClient();\r\n  const [value, setValue] = useState('1');\r\n  const [badgeCount, setBadgeCount] = useState(0); // State untuk menyimpan jumlah badge\r\n\r\n  useEffect(() => {\r\n    queryClient.invalidateQueries(['approval-pengajuan-all']);\r\n  }, []);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  // Ambil tab dari URL, misalnya ?tab=3\r\n  useEffect(() => {\r\n    const searchParams = new URLSearchParams(location.search);\r\n    const tabParam = searchParams.get('tab');\r\n    if (tabParam === 'approval') {\r\n      setValue('3');\r\n    }\r\n  }, [location]);\r\n\r\n  return (\r\n    <div>\r\n      <BreadCrumbs />\r\n      <TabContext value={value}>\r\n        <Card className=\"mb-1\">\r\n          <TabList onChange={handleChange} vertical=\"sm\" variant=\"scrollable\" scrollButtons=\"auto\">\r\n            <Tab\r\n              label={\r\n                <Badge\r\n                  badgeContent={0} // Menampilkan badge count yang didapat dari PengajuanSelesai\r\n                  anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  color=\"primary\"\r\n                >\r\n                  <strong>DASHBOARD</strong> &nbsp;&nbsp;\r\n                </Badge>\r\n              }\r\n              value=\"1\"\r\n            />\r\n            {auth?.user.roles.includes('AdminPengajuan') && (\r\n              <Tab\r\n                label={\r\n                  <Badge\r\n                    badgeContent={0}\r\n                    anchorOrigin={{\r\n                      vertical: 'top',\r\n                      horizontal: 'right',\r\n                    }}\r\n                    color=\"primary \"\r\n                  >\r\n                    <strong>PENGAJUAN</strong> &nbsp;&nbsp;\r\n                  </Badge>\r\n                }\r\n                value=\"2\"\r\n              />\r\n            )}\r\n            {(auth?.user.roles.includes('ManagerUmum') ||\r\n              auth?.user.roles.includes('DirekturUmumKeuangan') ||\r\n              auth?.user.roles.includes('Presdir')) && (\r\n              <Tab\r\n                label={\r\n                  <Badge\r\n                    badgeContent={\r\n                      (badgeCount > 99 ? '99+' : badgeCount) ||\r\n                      (dataPengajuan?.total_pengajuan_belum_selesai > 99\r\n                        ? '99+'\r\n                        : dataPengajuan?.total_pengajuan_belum_selesai)\r\n                    }\r\n                    anchorOrigin={{\r\n                      vertical: 'top',\r\n                      horizontal: 'right',\r\n                    }}\r\n                    color=\"warning\"\r\n                    style={{ textTransform: 'capitalize' }}\r\n                  >\r\n                    <strong>APPROVAL PENGAJUAN</strong> &nbsp;&nbsp;\r\n                  </Badge>\r\n                }\r\n                value=\"3\"\r\n              />\r\n            )}\r\n            <Tab\r\n              label={\r\n                <Badge\r\n                  badgeContent={0} // Menampilkan jumlah badge dari PengajuanSelesai\r\n                  anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  color=\"primary\"\r\n                >\r\n                  <strong>PENGAJUAN SELESAI</strong> &nbsp;&nbsp;\r\n                </Badge>\r\n              }\r\n              value=\"4\"\r\n            />\r\n          </TabList>\r\n        </Card>\r\n\r\n        <TabPanel value=\"1\" className=\"ps-0 pe-0\">\r\n          <Dashboard\r\n            diproses={dataPengajuan?.total_pengajuan_belum_selesai}\r\n            selesai={dataPengajuan?.total_pengajuan_selesai}\r\n            totalPengajuan={dataPengajuan?.total_pengajuan}\r\n            dataChart={dataChart}\r\n          />\r\n        </TabPanel>\r\n        <TabPanel value=\"2\" className=\"ps-0 pe-0\">\r\n          <PengajuanBiaya />\r\n        </TabPanel>\r\n        <TabPanel value=\"3\" className=\"ps-0 pe-0\">\r\n          <ApprovalPengajuan setBadgeCount={setBadgeCount} />\r\n        </TabPanel>\r\n        <TabPanel value=\"4\" className=\"ps-0 pe-0\">\r\n          <PengajuanSelesai /> {/* Passing setBadgeCount to PengajuanSelesai */}\r\n        </TabPanel>\r\n      </TabContext>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pengajuan;\r\n"],"names":["options1","chart","toolbar","show","fontFamily","dataLabels","enabled","colors","xaxis","categories","labels","axisBorder","axisTicks","stroke","curve","width","yaxis","grid","tooltip","theme","series1","name","data","optionsbar","plotOptions","bar","distributed","horizontal","borderColor","style","cssClass","title","text","concat","Date","getFullYear","align","fontSize","color","_ref","diproses","selesai","totalPengajuan","dataChart","seriesbar","map","kategori","found","find","item","total","_jsx","children","Card","_jsxs","CardBody","Row","Col","md","className","xs","height","Chart","options","series","type","_objectSpread","PengajuanBiaya","api","useAxios","isAddForm","setIsAddForm","useState","loading","setLoading","searchText","setSearchText","dataPengajuan","setDataPengajuan","modalOpen","setModalOpen","modalOpen2","setModalOpen2","modalContent2","setModalContent2","selectedData","setSelectedData","updateClick","setUpdateClick","selectedMonth","setSelectedMonth","taxVisibility","setTaxVisibility","taxesPerItem","setTaxesPerItem","register","handleSubmit","reset","control","setValue","watch","unregister","formState","errors","useForm","defaultValues","items","itemName","quantity","unit","price","description","fields","append","remove","useFieldArray","isLoading","error","refetch","useQuery","queryKey","queryFn","get","then","res","console","log","useEffect","filtered","_filtered","_filtered2","filter","sub_pengajuan","nama_item","toLowerCase","includes","created","created_at","String","getMonth","padStart","removeForm","formatRupiah","angka","split","toString","replace","sisa","length","rupiah","substr","ribuan","match","join","formatRupiahNoComma","value","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","useGrouping","format","columns","selector","row","_row$approvals","_Fragment","Button","outline","size","onClick","id","pengajuan","no_dokumen","forEach","idx","jumlah","satuan","biaya_satuan","keterangan","taxes","Array","isArray","tax","nama_pajak","percentage","persentase","calculation","prev","now","Math","random","handleUpdateClick","disabled","approvals","every","approval","_row$approvals2","status","some","approval2","async","catch","err","alert","handleApprovalClick","body","toLocaleDateString","year","month","day","hour","minute","href","defaults","baseURL","lampiran","target","rel","Table","bordered","responsive","hover","index","pajakArr","pajak","hargaSatuan","pajakDetail","hargaSetelahPajak","Number","tipe","nama","nilaiPajak","nilaiPajakStr","push","totalBiaya","whiteSpace","key","marginBottom","paddingLeft","colSpan","reduce","handleDetailClick","_row$approvals3","_row$approvals4","updateTax","itemIndex","taxIndex","field","itemTaxes","e","preventDefault","MaterialIcon","icon","cursor","onSubmit","dataSubmit","cleanedItems","formData","FormData","jenis_permohonan","documentNumber","file","JSON","stringify","post","required","Label","onChange","handleChangeJenisPermohonan","message","placeholder","accept","_errors$items","_errors$items$index","_errors$items2","_errors$items2$index","_errors$items3","_errors$items3$index","_errors$items4","_errors$items4$index","_errors$items5","_errors$items5$index","_errors$items6","_errors$items6$index","_errors$items7","_errors$items7$index","_errors$items8","_errors$items8$index","validate","numeric","rawValue","autoComplete","isVisible","prevTaxes","_","taxIdx","updated","toggleTax","_errors$items9","_errors$items9$index","_errors$items9$index$","_errors$items9$index$2","_errors$items10","_errors$items10$index","_errors$items10$index2","_errors$items10$index3","_errors$items11","_errors$items11$index","_errors$items11$index2","_errors$items11$index3","_errors$items12","_errors$items12$index","_errors$items12$index2","_errors$items12$index3","_errors$items13","_errors$items13$index","_errors$items13$index2","_errors$items13$index3","_errors$items14","_errors$items14$index","_errors$items14$index2","_errors$items14$index3","isNaN","removeTax","updatedTaxes","splice","prevVis","Object","fromEntries","entries","addTax","Spinner","minWidth","DataTable","pagination","highlightOnHover","striped","Modal","isOpen","toggle","ModalHeader","ModalBody","ListGroup","flush","ListGroupItem","employe_id","full_name","position_name","updated_at","toLocaleString","ModalFooter","setBadgeCount","modalContent","setModalContent","loadingReject","setLoadingReject","alasanReject","setAlasanReject","showAlasanInput","setShowAlasanInput","queryClient","useQueryClient","toggleModal","invalidateQueries","_item$sub_pengajuan$","_item$sub_pengajuan$$","_item$sub_pengajuan$$2","handlePendingApprovalClick","_row$sub_pengajuan$","_row$sub_pengajuan$2","_row$sub_pengajuan$3","_row$sub_pengajuan$4","rows","trim","dataReject","alasan","dataApprove","pdfFonts","pdfMake","vfs","PengajuanSelesai","filterMonth","setFilterMonth","date","docDefinition","content","margin","link","table","headerRows","widths","bold","alignment","styles","header","subheader","open","generatePDF","Pengajuan","location","useLocation","auth","parse","localStorage","getItem","badgeCount","URLSearchParams","search","BreadCrumbs","TabContext","TabList","handleChange","event","newValue","vertical","variant","scrollButtons","Tab","label","Badge","badgeContent","anchorOrigin","user","roles","total_pengajuan_belum_selesai","textTransform","TabPanel","Dashboard","total_pengajuan_selesai","total_pengajuan","ApprovalPengajuan"],"sourceRoot":""}