"use strict";(self.webpackChunkmaterialpro_main=self.webpackChunkmaterialpro_main||[]).push([[9319],{39319:(e,a,n)=>{n.r(a),n.d(a,{default:()=>b});var i=n(65043),t=n(73216),r=n(35475),o=n(55918),s=n.n(o),l=n(89804),d=n(45061),c=n(60446),u=n.n(c),p=(n(67819),n(93397)),m=n(46913),v=n(74301),g=n(84304),h=n(70579);const b=()=>{const e=(0,i.useRef)(),{idDoc:a}=(0,t.g)(),[n]=(0,r.ok)(),o=n.get("type"),[c,b]=(0,i.useState)(!1),[f,y]=(0,i.useState)(!1),[j,x]=(0,i.useState)(!1),[S,k]=(0,i.useState)(),A=(0,p.A)();(0,i.useEffect)((()=>{!async function(){y(!0),await A.post("dapi/verif/".concat(a),{type:o}).then((e=>{console.log(e.data.data),"approve"===e.data.data.status?(y(!1),k(e.data.data)):(b(!0),y(!1))})).catch((()=>{b(!0),y(!1)}))}()}),[]);const w=()=>{console.log(null===S||void 0===S?void 0:S.detail),x(!0),setTimeout((()=>{x(!1),async function(a){try{var n;const i=await(0,g.A)(a,e);(0,v.A)(i,null===S||void 0===S||null===(n=S.detail)||void 0===n?void 0:n.fileLampiran).then((e=>{const a=window.open(e);if(!a||a.closed||"undefined"===typeof a.closed){const a=document.createElement("a");a.href=e,a.download="file.txt",document.body.appendChild(a),a.click(),document.body.removeChild(a)}URL.revokeObjectURL(e)}))}catch(i){console.log(i)}}(null===S||void 0===S?void 0:S.detail)}),300)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"verified-status",children:(0,h.jsx)("div",{className:"content-status",children:f?(0,h.jsx)("h5",{children:"Loading..."}):c||null===S?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("img",{src:m,alt:"logo"}),(0,h.jsxs)("div",{className:"verified",children:[(0,h.jsxs)("div",{className:"icon-close",children:[(0,h.jsx)("br",{}),"  ",(0,h.jsx)("br",{}),(0,h.jsx)(s(),{icon:"close"})]}),(0,h.jsx)("br",{}),(0,h.jsx)("span",{style:{marginBottom:"-10px",textTransform:"uppercase"},children:(0,h.jsxs)("strong",{children:[" Dokumen ",null===S||void 0===S?void 0:S.jenis_name]})}),(0,h.jsx)("span",{className:"small mt-0",children:"ini tidak terdaftar di database kami"})]}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsxs)("div",{className:"copyright",children:[(0,h.jsx)("span",{children:"DOCUMENT VERIFICATION SYSTEM"}),(0,h.jsxs)("span",{children:["\xa9 ",(new Date).getFullYear()," PT Pembangunan Aceh"]})]}),(0,h.jsx)("br",{})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("img",{src:m,alt:"logo"}),(0,h.jsxs)("div",{className:"verified",children:[(0,h.jsx)("div",{className:"icon-check",children:(0,h.jsx)(s(),{icon:"check"})}),(0,h.jsx)("span",{style:{marginBottom:"-10px",textTransform:"uppercase"},children:(0,h.jsxs)("strong",{children:[" Dokumen ",null===S||void 0===S?void 0:S.jenis_name]})}),(0,h.jsx)("span",{className:"small mt-0",children:"ini benar telah ditandatangani"})]}),(0,h.jsxs)("div",{className:"spda-status-container",children:[(0,h.jsxs)("div",{className:"no-spda",children:[(0,h.jsx)("span",{children:"oleh"}),(0,h.jsx)("span",{children:null===S||void 0===S?void 0:S.employe_name})]}),(0,h.jsxs)("div",{className:"spda-status",children:[(0,h.jsx)("span",{children:"sebagai"}),(0,h.jsx)("span",{children:null===S||void 0===S?void 0:S.id_current_position})]}),(0,h.jsxs)("div",{className:"spda-status",children:[(0,h.jsx)("span",{children:"Pada"}),(0,h.jsx)("span",{children:u()(null===S||void 0===S?void 0:S.updated_at).locale("id").format("dddd, DD MMMM YYYY")||""})]})]}),2===(null===S||void 0===S?void 0:S.jenis_doc)&&(0,h.jsxs)(l.A,{color:"info",style:{zIndex:3,cursor:"pointer"},onClick:()=>w(),children:[" ",j?"Loading...":"Lihat surat"," "]}),(0,h.jsx)("br",{}),(0,h.jsxs)("div",{className:"copyright",children:[(0,h.jsx)("span",{children:"DOCUMENT VERIFICATION SYSTEM"}),(0,h.jsxs)("span",{children:["\xa9 ",(new Date).getFullYear()," PT Pembangunan Aceh"]})]})]})})}),(0,h.jsx)("div",{ref:e,style:{display:"none"},children:(0,h.jsx)(d.QRCode,{value:"".concat("https://sys.ptpema.co.id/","verification/").concat(null===S||void 0===S?void 0:S.id_doc,"?type=sign"),size:400,qrStyle:"dots",logoImage:m,logoWidth:100,logoHeight:100,eyeRadius:20,fgColor:"#0F52BA"})})]})}},74301:(e,a,n)=>{n.d(a,{A:()=>t});var i=n(81105);const t=async(e,a)=>{if(!a){const a=Uint8Array.from(atob(e),(e=>e.charCodeAt(0))),n=new Blob([a],{type:"application/pdf"});return URL.createObjectURL(n)}const n=new Uint8Array(atob(e).split("").map((e=>e.charCodeAt(0)))),t=new Uint8Array(atob(a).split("").map((e=>e.charCodeAt(0)))),r=await(async(e,a)=>{const n=await i.PDFDocument.create(),t=await i.PDFDocument.load(e),r=await i.PDFDocument.load(a),o=await n.copyPages(t,t.getPageIndices()),s=await n.copyPages(r,r.getPageIndices());o.forEach((e=>{n.addPage(e)})),s.forEach((e=>{n.addPage(e)}));return await n.save()})(n,t),o=new Blob([r],{type:"application/pdf"});return URL.createObjectURL(o)}},84304:(e,a,n)=>{n.d(a,{A:()=>d});var i=n(54211),t=n(55360),r=n.n(t),o=n(91769);const s=function(e){const a=["Nol","Satu","Dua","Tiga","Empat","Lima","Enam","Tujuh","Delapan","Sembilan","Sepuluh","Sebelas"];if(e<12)return a[e];const n=["","Belas","Puluh","Ratus","Ribu","Juta","Miliar","Triliun"];let i="";const t=e.toString(),r=null===t||void 0===t?void 0:t.length;if(r>12)return"Angka terlalu besar";for(let o=0;o<r;o++){const e=parseInt(t.charAt(o),10),s=r-o-1;if(0===e&&(i+=""),1===s&&1===e&&"0"!==t.charAt(o+1)){i+=" Sebelas";break}i+=" ".concat(a[e]," ").concat(n[s])}return i.trim()},l=n(49784),d=(e,a)=>new Promise(((n,t)=>{i.vfs=l.pdfMake.vfs,i.fonts={Archivo:{normal:"Archivo-Regular.ttf",bold:"Archivo-SemiBold.ttf",italics:"Archivo-Italic.ttf",bolditalics:"Archivo-SemiBoldItalic.ttf"}};const d='<p style="margin-bottom:5px">Banda Aceh, '.concat(new Intl.DateTimeFormat("".concat("id"===(null===e||void 0===e?void 0:e.bhs)?"id-ID":"en-US"),{day:"2-digit",month:"long",year:"numeric"}).format(new Date(null===e||void 0===e?void 0:e.tglSurat)),'</p>  \n      \n        <table style="border-collapse: collapse; width: 100%; border: 0px;" border="1"; padding="0";><colgroup><col style="width: 13%;"><col style="width: 2%;"><col style="width: 85%;"></colgroup>\n        <tbody>\n          <tr style="margin-left:-5">\n            <td style="vertical-align: top; border: 0px; line-height: 1.2; " >').concat("id"===(null===e||void 0===e?void 0:e.bhs)?"Nomor":"Number",'</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;" >:</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">').concat(null===e||void 0===e?void 0:e.nomorSurat,'</td>\n          </tr>\n          <tr style="margin-left:-5">\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">').concat("id"===(null===e||void 0===e?void 0:e.bhs)?"Lampiran":"Attachment",'</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">:</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">').concat(Number(null===e||void 0===e?void 0:e.lampiran)>0?"".concat(null===e||void 0===e?void 0:e.lampiran," (").concat(s(Number(null===e||void 0===e?void 0:e.lampiran)),") ").concat((null===e||void 0===e?void 0:e.jenisLampiran)||" Eks"):"-",'</td>\n          </tr>\n          <tr style="margin-left:-5">\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">').concat("id"===(null===e||void 0===e?void 0:e.bhs)?"Perihal":"Subject",'</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">:</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">').concat(null===e||void 0===e?void 0:e.perihal,'</td>\n          </tr>\n        </tbody>\n      </table>\n\n        <div style="line-height: 1.2; margin-top:3; margin-bottom:-12">').concat("id"===(null===e||void 0===e?void 0:e.bhs)?"Kepada Yth":"Dear",'<br>\n            <strong style="line-height: 0.9!important;">').concat(null===e||void 0===e?void 0:e.kepada,"</strong>\n            ").concat("id"===(null===e||void 0===e?void 0:e.bhs)?"<br>di - <br>\n            <span>          Tempat</span>":"",'\n        </div>\n       <span style="line-height: 1.3; text-align:justify">  ').concat(null===e||void 0===e?void 0:e.isiSurat,"</span>\n  \n      ");if(a.current){const s=a.current.querySelector("canvas");if(s){var c,u,p,m;const a=s.toDataURL(),l={pageOrientation:"portrait",pageSize:"A4",pageMargins:[50,70,50,70],content:[r()(d,{defaultStyles:{p:{margin:[0,3,0,-12]},td:{verticalAlign:"top",marginBottom:-4,heigt:"auto"},ol:{margin:[0,0,0,-15],padding:[0,0,0,0]},ul:{margin:[0,0,0,-15],padding:[0,0,0,0]},li:{marginBottom:2},tr:{margin:[-5,0,0,0]},table:{margin:[0,-3,0,-7],width:"100%"},br:{margin:[0,0,0,0]}},tableAutoSize:!0}),{stack:[{text:"".concat("id"===(null===e||void 0===e?void 0:e.bhs)?"Hormat Kami":"Your sincerelly",","),style:"normal"},{text:"PT PEMBANGUNAN ACEH",style:"boldText"},{image:"".concat("signed"===(null===e||void 0===e?void 0:e.status)?a:o.A.placeholder),width:60},{text:"".concat(null===e||void 0===e||null===(c=e.signer)||void 0===c?void 0:c.first_name),style:"boldText"},{text:"".concat("id"===(null===e||void 0===e?void 0:e.bhs)?null===e||void 0===e||null===(u=e.signer)||void 0===u?void 0:u.position_name:(v=null===e||void 0===e||null===(p=e.signer)||void 0===p?void 0:p.position_name,{"direktur utama":"President Director","direktur pengembangan bisnis":"Director of Business Development","direktur komersial":"Director of Commercial","direktur umum dan keuangan":"Director of General Affairs and Finance","kepala managemen resiko":"Head of Risk Management","kepala satuan pengawas internal":"Head of Internal Supervisory Unit","manajer agro dan jasa lainnya":"Manager of Agro and Other Services","manajer industri dan perdagangan":"Manager of Industry and Trade","manajer keuangan":"Finance Manager","manajer manajemen investasi":"Investment Management Manager","manajer migas, minerba dan ebtke":"Oil, Gas, Mineral, and EBTKE Manager","manajer pemasaran":"Marketing Manager","manajer pembinaan anak usaha/afiliasi":"Manager of Subsidiaries/ Affiliates Development","manajer penelitian dan pengembangan":"Research and Development Manager","manajer sumber daya manusia":"Human Resources Manager","manajer teknikal dan operasi":"Technical and Operations Manager","manajer teknologi informasi":"Information Technology Manager","manajer umum":"General Division Manager","supervisor agro dan jasa lainnya":"Supervisor of Agro and Other Services","supervisor hukum dan legalitas perusahaan":"Supervisor of Legal Affairs and Corporate Legality","supervisor industri dan perdagangan":"Supervisor of Industry and Trade","supervisor keuangan":"Finance Supervisor","supervisor manajemen investasi":"Investment Management Supervisor","supervisor manajemen resiko":"Risk Management Supervisor","supervisor migas, minerba dan ebtke":"Oil, Gas, Mineral, and EBTKE Supervisor","supervisor minerba":"Mineral Supervisor","supervisor pemasaran":"Marketing Supervisor","supervisor pembinaan anak usaha/afiliasi":"Supervisor of Subsidiaries/Affiliates Development","supervisor penelitian dan pengembangan":"Research and Development Supervisor","supervisor scm":"SCM  Supervisor","supervisor sumber daya manusia":"Human Resources Supervisor","supervisor teknikal dan operasi":"Technical and Operations Supervisor","supervisor teknikal dan operasi (agro dan jasa lainnya)":"Technical and Operations Supervisor (Agro and Other Services)","supervisor teknikal dan operasi (migas dan ebtke)":"Technical and Operations Supervisor (Oil, Gas, and EBTKE)","supervisor teknikal operasi (minerba)":"Technical Operations Supervisor (Mineral)","supervisor teknologi informasi":"Information Technology Supervisor","supervisor umum":"General Division Supervisor","sekretaris perusahaan":"Secretary of Company"}[v.toLowerCase()]||"")),style:"normal"}],unbreakable:!0,margin:[0,10]},{text:(null===e||void 0===e||null===(m=e.tembusans)||void 0===m?void 0:m.length)>0?"Tembusan Yth : ":"",style:"normal"},{ol:null===e||void 0===e?void 0:e.tembusans}],background:()=>null!==e&&void 0!==e&&e.draft?{image:o.A.draft,width:300,height:300,opacity:.2,marginTop:250,marginLeft:150}:"",styles:{boldText:{bold:!0}},images:d.images,header:e=>1!==e?{text:""}:{image:o.A.headSurat,width:"595"},footer:(e,a)=>e!==a?{text:""}:{image:o.A.footSurat,width:"595"},defaultStyle:{font:"Archivo",fontSize:10,color:"#000",ol:{margin:[0,0,0,0],padding:[0,0,0,0]}}};i.createPdf(l).getBase64((e=>{e?n(e):t(new Error("Error generating base64 PDF"))}))}}var v}))},89804:(e,a,n)=>{n.d(a,{A:()=>v});var i=n(65043),t=n(65173),r=n.n(t),o=n(98139),s=n.n(o),l=n(96794),d=["className","cssModule","color","innerRef","pill","tag"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c.apply(this,arguments)}function u(e,a){if(null==e)return{};var n,i,t=function(e,a){if(null==e)return{};var n,i,t={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],a.indexOf(n)>=0||(t[n]=e[n]);return t}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var p={children:r().node,className:r().string,color:r().string,cssModule:r().object,innerRef:r().oneOfType([r().object,r().func,r().string]),pill:r().bool,tag:l.Wx};function m(e){var a=e.className,n=e.cssModule,t=e.color,r=void 0===t?"secondary":t,o=e.innerRef,p=e.pill,m=void 0!==p&&p,v=e.tag,g=void 0===v?"span":v,h=u(e,d),b=(0,l.qO)(s()(a,"badge","bg-"+r,!!m&&"rounded-pill"),n);return h.href&&"span"===g&&(g="a"),i.createElement(g,c({},h,{className:b,ref:o}))}m.propTypes=p;const v=m}}]);
//# sourceMappingURL=9319.f4c33975.chunk.js.map