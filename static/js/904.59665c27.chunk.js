"use strict";(self.webpackChunkmaterialpro_main=self.webpackChunkmaterialpro_main||[]).push([[904],{82959:(e,t,a)=>{a.d(t,{x:()=>s,y:()=>n});a(65043);var i=a(23768),l=a(70579);const n=()=>(0,l.jsx)(i.l$,{toastOptions:{className:"",style:{}}}),s=(e,t)=>{((e,t)=>{"success"===e?i.Ay.success(t):"create"===e?(0,i.Ay)(t,{icon:"\ud83e\udd17"}):"start"===e?(0,i.Ay)("Lets get started, cheer up!",{icon:"\ud83d\udcaa"}):"done"===e?(0,i.Ay)("Horeee, task done!",{icon:"\ud83d\udc4f"}):i.Ay.error(t)})(e,t)}},77199:(e,t,a)=>{a.d(t,{A:()=>r});var i=a(55510),l=a(28249),n=a(73216),s=a(35475),o=a(70579);const r=()=>{const e=(0,n.zy)(),t=e.pathname.split("/")[1],a=e.pathname.split("/")[2];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h4",{className:"text-capitalize",children:"".concat(a||t)}),(0,o.jsxs)(i.A,{children:[(0,o.jsx)(l.A,{to:"/",tag:s.N_,className:"text-decoration-none",children:"Home"}),t?(0,o.jsx)(l.A,{active:!0,children:t}):"",a?(0,o.jsx)(l.A,{active:!0,children:a}):""]})]})}},74301:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(81105);const l=async(e,t)=>{if(!t){const t=Uint8Array.from(atob(e),(e=>e.charCodeAt(0))),a=new Blob([t],{type:"application/pdf"});return URL.createObjectURL(a)}const a=new Uint8Array(atob(e).split("").map((e=>e.charCodeAt(0)))),l=new Uint8Array(atob(t).split("").map((e=>e.charCodeAt(0)))),n=await(async(e,t)=>{const a=await i.PDFDocument.create(),l=await i.PDFDocument.load(e),n=await i.PDFDocument.load(t),s=await a.copyPages(l,l.getPageIndices()),o=await a.copyPages(n,n.getPageIndices());s.forEach((e=>{a.addPage(e)})),o.forEach((e=>{a.addPage(e)}));return await a.save()})(a,l),s=new Blob([n],{type:"application/pdf"});return URL.createObjectURL(s)}},84304:(e,t,a)=>{a.d(t,{A:()=>d});var i=a(54211),l=a(55360),n=a.n(l),s=a(91769);const o=function(e){const t=["Nol","Satu","Dua","Tiga","Empat","Lima","Enam","Tujuh","Delapan","Sembilan","Sepuluh","Sebelas"];if(e<12)return t[e];const a=["","Belas","Puluh","Ratus","Ribu","Juta","Miliar","Triliun"];let i="";const l=e.toString(),n=null===l||void 0===l?void 0:l.length;if(n>12)return"Angka terlalu besar";for(let s=0;s<n;s++){const e=parseInt(l.charAt(s),10),o=n-s-1;if(0===e&&(i+=""),1===o&&1===e&&"0"!==l.charAt(s+1)){i+=" Sebelas";break}i+=" ".concat(t[e]," ").concat(a[o])}return i.trim()},r=a(49784),d=(e,t)=>new Promise(((a,l)=>{i.vfs=r.pdfMake.vfs,i.fonts={Archivo:{normal:"Archivo-Regular.ttf",bold:"Archivo-SemiBold.ttf",italics:"Archivo-Italic.ttf",bolditalics:"Archivo-SemiBoldItalic.ttf"}};const d='<p style="margin-bottom:5px">Banda Aceh, '.concat(new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"long",year:"numeric"}).format(new Date(null===e||void 0===e?void 0:e.tglSurat)),'</p>  \n      \n        <table style="border-collapse: collapse; width: 100%; border: 0px;" border="1"; padding="0";><colgroup><col style="width: 13%;"><col style="width: 2%;"><col style="width: 85%;"></colgroup>\n        <tbody>\n          <tr style="margin-left:-5">\n            <td style="vertical-align: top; border: 0px; line-height: 1.2; " >Nomor</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;" >:</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">').concat(null===e||void 0===e?void 0:e.nomorSurat,'</td>\n          </tr>\n          <tr style="margin-left:-5">\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">Lampiran</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">:</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">').concat(Number(null===e||void 0===e?void 0:e.lampiran)>0?"".concat(null===e||void 0===e?void 0:e.lampiran," (").concat(o(Number(null===e||void 0===e?void 0:e.lampiran)),") ").concat((null===e||void 0===e?void 0:e.jenisLampiran)||" Eks"):"-",'</td>\n          </tr>\n          <tr style="margin-left:-5">\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">Perihal</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">:</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">').concat(null===e||void 0===e?void 0:e.perihal,'</td>\n          </tr>\n        </tbody>\n      </table>\n\n        <div style="line-height: 1.2; margin-top:3; margin-bottom:-12">Kepada Yth<br>\n            <strong style="line-height: 0.9!important;">').concat(null===e||void 0===e?void 0:e.kepada,'</strong><br>\n            di - <br>\n            <span>          Tempat</span>\n        </div>\n       <span style="line-height: 1.3; text-align:justify">  ').concat(null===e||void 0===e?void 0:e.isiSurat,"</span>\n  \n      ");if(t.current){const o=t.current.querySelector("canvas");if(o){var c,u,m;const t=o.toDataURL(),r={pageOrientation:"portrait",pageSize:"A4",pageMargins:[50,70,50,70],content:[n()(d,{defaultStyles:{p:{margin:[0,3,0,-12]},td:{verticalAlign:"top",marginBottom:-4,heigt:"auto"},ol:{margin:[0,0,0,-15],padding:[0,0,0,0]},ul:{margin:[0,0,0,-15],padding:[0,0,0,0]},li:{marginBottom:2},tr:{margin:[-5,0,0,0]},table:{margin:[0,-3,0,-7],width:"100%"},br:{margin:[0,0,0,0]}},tableAutoSize:!0}),{stack:[{text:"Hormat Kami, ",style:"normal"},{text:"PT PEMBANGUNAN ACEH",style:"boldText"},{image:"".concat("signed"===(null===e||void 0===e?void 0:e.status)?t:s.A.placeholder),width:60},{text:"".concat(null===e||void 0===e||null===(c=e.signer)||void 0===c?void 0:c.first_name),style:"boldText"},{text:"".concat(null===e||void 0===e||null===(u=e.signer)||void 0===u?void 0:u.position_name),style:"normal"}],unbreakable:!0,margin:[0,10]},{text:(null===e||void 0===e||null===(m=e.tembusans)||void 0===m?void 0:m.length)>0?"Tembusan Yth : ":"",style:"normal"},{ol:null===e||void 0===e?void 0:e.tembusans}],background:()=>null!==e&&void 0!==e&&e.draft?{image:s.A.draft,width:300,height:300,opacity:.2,marginTop:250,marginLeft:150}:"",styles:{boldText:{bold:!0}},images:d.images,header:e=>1!==e?{text:""}:{image:s.A.headSurat,width:"595"},footer:(e,t)=>e!==t?{text:""}:{image:s.A.footSurat,width:"595"},defaultStyle:{font:"Archivo",fontSize:10,color:"#000",ol:{margin:[0,0,0,0],padding:[0,0,0,0]}}};i.createPdf(r).getBase64((e=>{e?a(e):l(new Error("Error generating base64 PDF"))}))}}}))},12955:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Le});var i=a(65043),l=a(81509),n=a(77199),s=a(80045),o=a(49157),r=a(18353),d=a(26259),c=a(55080),u=a(22016),m=a(15710),h=a(86506),p=a(24056),v=a(96460),g=a(55918),x=a.n(g),b=a(93933),j=a(73216),y=a(30342),A=a(93397),f=a(89379),S=a(30815),w=a(37682),k=a(6839),N=a(37970),D=a(98288),C=a(89804),L=a(16544),_=a(45061),T=a(74301),M=a(84304),P=a(62421);const I=e=>new Promise((t=>{let a="";const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{a=i.result,t(a)}}));var F=a(82959),E=a(46913);const B=function(e){if(e<=0||e>3999)return"Angka di luar rentang yang valid (1-3999)";const t=[{value:1e3,symbol:"M"},{value:900,symbol:"CM"},{value:500,symbol:"D"},{value:400,symbol:"CD"},{value:100,symbol:"C"},{value:90,symbol:"XC"},{value:50,symbol:"L"},{value:40,symbol:"XL"},{value:10,symbol:"X"},{value:9,symbol:"IX"},{value:5,symbol:"V"},{value:4,symbol:"IV"},{value:1,symbol:"I"}];let a="";for(let i=0;i<t.length;i++)for(;e>=t[i].value;)a+=t[i].symbol,e-=t[i].value;return a};var z=a(70579);const Y=e=>{let{divisis:t,mydivisi:a,refresh:l,func1:n,detailSurat:s,updateForm:o}=e;const r=(0,A.A)(),c=(0,i.useRef)(),u=JSON.parse(localStorage.getItem("dataSurat")),m=null!==u&&void 0!==u&&u.id?null===u||void 0===u?void 0:u.id:"",h=null!==u&&void 0!==u&&u.tglSurat?null===u||void 0===u?void 0:u.tglSurat:(new Date).toISOString(),p=null!==u&&void 0!==u&&u.nomorSurat?null===u||void 0===u?void 0:u.nomorSurat:". . . /PEMA/".concat(B((new Date).getMonth()+1),"/").concat((new Date).getFullYear()),[v,g]=(0,i.useState)((null===u||void 0===u?void 0:u.ttdBys)||[]),[x,b]=(0,i.useState)((null===u||void 0===u?void 0:u.kepada)||""),[j,y]=(0,i.useState)((null===u||void 0===u?void 0:u.perihal)||""),[Y,R]=(0,i.useState)((null===u||void 0===u?void 0:u.ttdBy)||""),[H,U]=(0,i.useState)((null===u||void 0===u?void 0:u.tembusan)||""),[K,O]=(0,i.useState)((null===u||void 0===u?void 0:u.tembusans)||[]),[J,q]=(0,i.useState)((null===u||void 0===u?void 0:u.lampiran)||"0"),[G,V]=(0,i.useState)((null===u||void 0===u?void 0:u.jenislampiran)||"Eks"),[W,X]=(0,i.useState)((null===s||void 0===s?void 0:s.fileLampiran)||""),[Z,Q]=(0,i.useState)((null===u||void 0===u?void 0:u.divisi)||a),[$,ee]=(0,i.useState)((null===u||void 0===u?void 0:u.berang)||"form1"),[te,ae]=(0,i.useState)((null===u||void 0===u?void 0:u.isiSurat)||"Dengan Hormat"),[ie,le]=(0,i.useState)(""),[ne,se]=(0,i.useState)(!1);(0,i.useEffect)((()=>{localStorage.setItem("dataSurat",JSON.stringify({id:m,kepada:x,perihal:j,ttdBy:Y,tembusans:K,lampiran:J,jenislampiran:G,divisi:Z,berang:$,ttdBys:v,isiSurat:te,signer:null===v||void 0===v?void 0:v.find((e=>e.employe_id===Y)),tglSurat:h,nomorSurat:p,draft:!0}))}),[x,j,Y,K,J,G,Z,$,v,te]);(0,i.useEffect)((()=>{r.get("dapi/adm/signers/".concat(Z)).then((e=>{g(e.data.data),e.data.data.find((e=>e.employe_id===Y))?R(null===u||void 0===u?void 0:u.ttdBy):R("")}))}),[Z]),(0,i.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("dataSurat"));le(""),"form3"===$&&(""!==J&&""===W&&Number(J)>0?((0,F.x)("error","Lampiran harus 0 jika tidak ada File"),ee("form1")):setTimeout((async function(){try{const t=await(0,M.A)(e,c);(0,T.A)(t,W.replace("data:application/pdf;base64,","")).then((e=>{le(e)}))}catch(t){console.log(t)}}),1e3)),"form2"===$&&(""!==Z&&""!==x&&""!==j&&""!==Y||(ee("form1"),(0,F.x)("error","Silakan Lengkapi Data !!!")))}),[$]);const oe=()=>{l(),n(!1),localStorage.removeItem("dataSurat")};return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{ref:c,style:{display:"none"},children:(0,z.jsx)(_.QRCode,{value:"".concat("https://sys.ptpema.co.id/","verification/").concat(null===u||void 0===u?void 0:u.doc_number),size:400,qrStyle:"dots",logoImage:E,logoWidth:100,logoHeight:100,eyeRadius:20,fgColor:"#0F52BA"})}),"form1"===$?(0,z.jsxs)(S.A,{className:"pe-4 ps-4 mt-5",children:[(null===t||void 0===t?void 0:t.length)>0&&(0,z.jsx)(S.A,{className:"mb-3",children:(0,z.jsx)(w.A,{select:!0,style:{width:"100%"},variant:"outlined",value:Z,onChange:e=>Q(e.target.value),label:"Pilih Divisi",children:null===t||void 0===t?void 0:t.map((e=>(0,z.jsx)(N.A,{value:null===e||void 0===e?void 0:e.organization_id,children:null===e||void 0===e?void 0:e.organization_name},null===e||void 0===e?void 0:e.organization_id)))})}),(0,z.jsx)(S.A,{className:"mb-3",children:(0,z.jsx)(w.A,{id:"outlined-basic",style:{width:"100%"},label:"Surat ini Ditujukan Kepada",value:x,onChange:e=>b(e.target.value),variant:"outlined"})}),(0,z.jsx)(S.A,{className:"mb-3",children:(0,z.jsx)(w.A,{id:"outlined-basic",style:{width:"100%"},label:"Perihal Surat",value:j,onChange:e=>y(e.target.value),variant:"outlined"})}),(null===v||void 0===v?void 0:v.length)>0&&(0,z.jsx)(S.A,{className:"mb-3",children:(0,z.jsx)(w.A,{select:!0,style:{width:"100%"},variant:"outlined",value:Y,onChange:e=>R(e.target.value),label:"Ditandatangani Oleh",children:null===v||void 0===v?void 0:v.map((e=>(0,z.jsx)(N.A,{value:null===e||void 0===e?void 0:e.employe_id,children:null===e||void 0===e?void 0:e.first_name},null===e||void 0===e?void 0:e.employe_id)))})}),(0,z.jsx)(S.A,{className:"mb-3",children:(0,z.jsx)(w.A,{type:"number",id:"outlined-basic",style:{width:"100%"},label:"Jumlah Lampiran",value:J,placeholder:"3",inputProps:{min:0},onChange:e=>q(e.target.value),variant:"outlined"})}),J>0?(0,z.jsxs)(S.A,{className:"mb-3",children:[(0,z.jsxs)(D.A,{children:[(0,z.jsx)(w.A,{id:"outlined-basic",style:{width:"80%"},label:"Jenis Lampiran",value:G,placeholder:"Dokumen",onChange:e=>V(e.target.value),variant:"outlined"}),(0,z.jsx)(d.A,{color:"secondary",outline:!0,style:{width:"20%"},onClick:()=>document.getElementById("input-file").click(),children:W?"Ubah Lampiran":"Upload Lampiran"}),""===W&&""!==J?(0,z.jsx)("small",{className:"text-danger",children:"Silakan Upload File Lampiran dalam bentuk PDF dan tentukan jenis lampiran"}):""]}),(0,z.jsx)("input",{type:"file",id:"input-file",style:{display:"none"},accept:"application/pdf",onChange:e=>{I(e.target.files[0]).then((e=>{X(e)})).catch((e=>{console.log(e)}))}})]}):"",(0,z.jsx)(S.A,{className:"mb-3",children:(0,z.jsxs)(D.A,{children:[(0,z.jsx)(d.A,{style:{width:"10%"},onClick:()=>{""!==H&&(O([...K,H]),U(""))},children:"+"}),(0,z.jsx)(w.A,{id:"outlined-basic",style:{width:"90%"},label:"Tembusan",value:H,placeholder:"PJ Gubernur Aceh",onChange:e=>U(e.target.value),variant:"outlined"})]})}),(null===K||void 0===K?void 0:K.length)>0?(0,z.jsxs)(S.A,{sx:{p:2,borderRadius:1,border:"0.5px solid #C4C4C4"},className:"mb-3",children:["Tembusan :",(0,z.jsx)("ul",{children:null===K||void 0===K?void 0:K.map((e=>(0,z.jsxs)("li",{children:[" ",(0,z.jsx)(C.A,{color:"danger",style:{cursor:"pointer"},onClick:()=>{return t=e,void O(K.filter((e=>e!==t)));var t},children:"Hapus"})," ",e]},e)))})]}):"",(0,z.jsx)(S.A,{className:"mb-3 mt-5",style:{display:"flex"},children:(0,z.jsx)(d.A,{style:{marginLeft:"auto"},color:"success",onClick:()=>ee("form2"),children:"Selanjutnya"})})]}):"","form2"===$?(0,z.jsxs)(S.A,{className:"pe-4 ps-4 mt-5",children:[""!==te&&(0,z.jsx)(k.K,{apiKey:"wsaajswvlat7i5hpef2b0yqpalytaz042xu9j0djrz6sbpwr",init:{height:500,plugins:["table","anchor","autolink","charmap","codesample","emoticons","image","link","advlist","lists","media","searchreplace","visualblocks","wordcount","code"],branding:!1,toolbar:"undo redo | bold italic underline strikethrough | tableCustom | table mergetags |superscript subscript | alignleft aligncenter alignright alignjustify | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat | code",setup:e=>{e.ui.registry.addButton("tableCustom",{icon:"fa fa-plus",tooltip:"Borderles Table",onAction:()=>{(e=>{e.insertContent('<table style="border-collapse: collapse; width: 100%; border: 0px;">\n          <tbody>\n          <tr>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 32.1429%;">Nama Acara</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 2.00348%;">:</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 65.8537%;">Presentasi Project Kopi</td>\n          </tr>\n          <tr>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 32.1429%;">Hari / Tanggal</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 2.00348%;">:</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 65.8537%;">Kamis, 16 Januari 1998</td>\n          </tr>\n          <tr>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 32.1429%;">Waktu</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 2.00348%;">:</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 65.8537%;">Jam 10:25 WIB</td>\n          </tr>\n          <tr>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 32.1429%;">Tempat Acara Kegiatan</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 2.00348%;">:</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 65.8537%;">Kantor PT Pembangunan Aceh (PEMA)</td>\n          </tr>\n          </tbody>\n        </table>\n')})(e)}})}},value:te,onEditorChange:e=>ae(""===e?" ":e.replace(/(<br\s*\/?>\s*)+<table/gi,"<table"))}),(0,z.jsx)(S.A,{className:"mb-3 mt-5",style:{display:"flex"},children:(0,z.jsxs)(L.A,{style:{marginLeft:"auto"},children:[(0,z.jsx)(d.A,{color:"warning",onClick:()=>ee("form1"),children:"Sebelumnya"}),(0,z.jsx)(d.A,{color:"success",onClick:()=>ee("form3"),children:"Selanjutnya"})]})})]}):"","form3"===$?(0,z.jsxs)(S.A,{className:"pe-4 ps-4 mt-5",children:[""!==ie?(0,z.jsx)("object",{data:"".concat(ie,"#navpanes=0"),type:"application/pdf",width:"100%",height:"580",children:"Load"}):(0,z.jsx)(P.A,{}),(0,z.jsx)(S.A,{className:"mb-3 mt-5",style:{display:"flex"},children:(0,z.jsxs)(L.A,{style:{marginLeft:"auto"},children:[(0,z.jsx)(d.A,{color:"warning",onClick:()=>ee("form2"),children:"Sebelumnya"}),o?(0,z.jsx)(d.A,{color:"success",onClick:()=>(async()=>{se(!0);const e=(0,f.A)((0,f.A)({},u),{},{fileLampiran:W,type:"main"});await r.post("dapi/adm/update",e).then((e=>{console.log(null===e||void 0===e?void 0:e.data),200===e.status?((0,F.x)("success","Dokumen Berhasil diupdate !"),oe()):(0,F.x)("error","Dokumen Gagal diupdate, Hubungi Tim IT untuk problem selanjutnya !"),se(!1)})).catch((e=>{(0,F.x)("error","".concat(e.message)),se(!1)}))})(),disabled:ne,children:ne?"Loading...":"Update"}):(0,z.jsx)(d.A,{color:"success",onClick:()=>(async()=>{se(!0);const e=(0,f.A)((0,f.A)({},u),{},{fileLampiran:W,type:"main"});await r.post("dapi/adm/insert",e).then((e=>{console.log(null===e||void 0===e?void 0:e.data),200===e.status?((0,F.x)("success","Dokumen Berhasil submit !"),oe()):(0,F.x)("error","Dokumen Gagal submit, Hubungi Tim IT untuk problem selanjutnya !"),se(!1)})).catch((e=>{(0,F.x)("error","".concat(e.message)),se(!1)}))})(),disabled:ne,children:ne?"Loading...":"Submit"})]})})]}):""]})};var R=a(58786),H=a(72679),U=a(23222),K=a(20782),O=a(60446),J=a.n(O),q=(a(67819),a(20917));a(46600);const G=e=>{let{type:t,data:a,func1:l}=e;return J().locale("id"),(0,i.useEffect)((()=>{console.log(a)}),[a]),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("h5",{children:"Log Dokumen"}),(0,z.jsx)("hr",{style:{marginTop:-2}}),(null===a||void 0===a?void 0:a.length)>0?(0,z.jsx)(z.Fragment,{children:(0,z.jsx)("div",{className:"px-4",children:(0,z.jsx)("ul",{className:"timeline ",children:null===a||void 0===a?void 0:a.map(((e,a)=>{var i,n;return(0,z.jsxs)("li",{children:[(0,z.jsx)("h5",{style:{marginBottom:"-1px"},className:"fw-bold",children:"sm"===t?e.nama:e.first_name}),(0,z.jsx)(C.A,{className:"text-dark",color:"light",style:{paddingLeft:"2px",paddingRight:"2px"},children:"sm"===t?e.position:e.position_name}),0!==a&&"sm"===t&&e.dispo?(0,z.jsx)(C.A,{className:"text-light ms-2 px-3",color:"dark",style:{cursor:"pointer"},onClick:()=>l(e),children:"Lembar Disposisi"}):"",(0,z.jsx)("span",{className:"float-end small fw-lighter",children:J()("sm"===t?e.waktu:e.created_at).locale("id").format("dddd, DD MMMM YYYY HH:mm")}),(0,z.jsxs)("p",{className:"mt-2 small",children:[e.activity,(0,z.jsx)("br",{}),(0,z.jsx)("span",{className:"fst-italic",children:(null===e||void 0===e||null===(i=e.cc)||void 0===i?void 0:i.length)>0&&"CC : ".concat(null===e||void 0===e||null===(n=e.cc)||void 0===n?void 0:n.join(", "))})]})]},"sm"===t?e.employe_id:e.id)}))})})}):(0,z.jsx)(P.A,{})]})};var V=a(12327),W=a(22345);const X=e=>{let{data:t}=e;return(0,i.useEffect)((()=>{console.log(t)})),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("h5",{children:"List Approval Dokumen"}),(0,z.jsx)("hr",{style:{marginTop:-2}}),(null===t||void 0===t?void 0:t.length)>0?(0,z.jsx)("div",{className:" p-5",children:null===t||void 0===t?void 0:t.map((e=>{var a,i,l;return(0,z.jsx)("div",{children:e.step%2!==0?(0,z.jsxs)("div",{children:[(0,z.jsxs)(V.A,{children:[(0,z.jsx)(W.A,{lg:5,children:(0,z.jsx)("div",{className:"process-box process-left",children:(0,z.jsxs)(V.A,{children:[(0,z.jsx)(W.A,{lg:5,children:(0,z.jsxs)("div",{className:"process-step",children:[(0,z.jsx)("p",{className:"m-0 p-0",children:"Step"}),(0,z.jsx)("h2",{className:"m-0 p-0",children:e.step.toString().padStart(2,"0")}),(0,z.jsx)(C.A,{color:"secondary",className:"badge-status",style:{width:"100%"},children:e.type})]})}),(0,z.jsxs)(W.A,{lg:7,children:[(0,z.jsx)("b",{children:e.first_name}),(0,z.jsx)("br",{}),(0,z.jsx)("small",{children:(0,z.jsxs)("i",{children:[null===(a=e.position_name)||void 0===a?void 0:a.substring(0,22),e.position_name.length>22?" . . .":""]})}),(0,z.jsx)("br",{}),(0,z.jsxs)("small",{className:"approve"===e.status?"text-success":"rejected"===e.status?"text-danger":"text-muted",children:[e.status?"approve"===e.status?"Disetujui ":"Tidak Disetujui":"Menunggu Persetujuan"," ",(0,z.jsx)("br",{}),e.status?J()(e.updated_at).locale("id").format("dddd, DD MMMM YYYY HH:mm"):" "]})]})]})})}),(0,z.jsx)(W.A,{lg:2}),(0,z.jsx)(W.A,{lg:5,className:"d-none d-sm-none d-md-none d-lg-block",style:{position:"relative"},children:(0,z.jsx)("div",{className:e.step===t.length?"process-point-right process-last":"process-point-right"})})]}),(0,z.jsx)("br",{className:"d-block d-md-block d-lg-none mt-5"}),(0,z.jsx)("br",{className:"d-block d-md-block d-lg-none mt-5"})]}):(0,z.jsxs)("div",{children:[(0,z.jsxs)(V.A,{children:[(0,z.jsx)(W.A,{lg:5,className:"d-none d-sm-none d-md-none d-lg-block",style:{position:"relative"},children:(0,z.jsx)("div",{className:e.step===t.length?"process-point-left process-last":"process-point-left"})}),(0,z.jsx)(W.A,{lg:2}),(0,z.jsx)(W.A,{lg:5,children:(0,z.jsx)("div",{className:"process-box process-right",children:(0,z.jsxs)(V.A,{children:[(0,z.jsx)(W.A,{lg:5,children:(0,z.jsxs)("div",{className:"process-step ",children:[(0,z.jsx)("p",{className:"m-0 p-0",children:"Step"}),(0,z.jsx)("h2",{className:"m-0 p-0",children:e.step.toString().padStart(2,"0")}),(0,z.jsx)(C.A,{color:"secondary",className:"badge-status",style:{width:"100%"},children:e.type})]})}),(0,z.jsxs)(W.A,{lg:7,children:[(0,z.jsx)("b",{children:e.first_name}),(0,z.jsx)("br",{}),(0,z.jsx)("small",{children:(0,z.jsxs)("i",{children:[null===(i=e.position_name)||void 0===i?void 0:i.substring(0,22),(null===(l=e.position_name)||void 0===l?void 0:l.length)>22?" . . .":""]})}),(0,z.jsx)("br",{}),(0,z.jsxs)("small",{className:"approve"===e.status?"text-success":"rejected"===e.status?"text-danger":"text-muted",children:[e.status?"approve"===e.status?"Disetujui ":"Tidak Disetujui":"Menunggu Persetujuan"," ",(0,z.jsx)("br",{}),e.status?J()(e.updated_at).locale("id").format("dddd, DD MMMM YYYY HH:mm"):" "]})]})]})})})]}),(0,z.jsx)("br",{className:"d-block d-md-block d-lg-none mt-5"}),(0,z.jsx)("br",{className:"d-block d-md-block d-lg-none mt-5"})]})},e.step)}))}):(0,z.jsx)(P.A,{})]})};var Z=a(57972),Q=a(74605),$=a(34791),ee=a(11906);const te=e=>{let{data:t,refresh:a,closeModal:l}=e;const[n,s]=i.useState("approve"),[o,r]=i.useState(),[d,c]=i.useState(!1),u=(0,A.A)();return console.log(t),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("h5",{className:"text-capitalize",children:[null===t||void 0===t?void 0:t.current_type," Dokumen"]}),(0,z.jsx)("hr",{style:{marginTop:-2}}),(0,z.jsx)(S.A,{className:"mb-3",sx:{p:1,borderRadius:2,marginTop:2,border:"0.5px solid #1c8ee6",color:"#1c8ee6"},children:(0,z.jsxs)(Z.A,{row:!0,"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:n,onChange:e=>s(e.target.value),className:"d-flex justify-content-between",children:[(0,z.jsx)(Q.A,{value:"approve",control:(0,z.jsx)($.A,{}),label:"paraf"===(null===t||void 0===t?void 0:t.current_type)?"Paraf Dokumen":"Tanda Tangan Dokumen",className:"me-5"},"approve"),(0,z.jsx)(Q.A,{value:"rejected",control:(0,z.jsx)($.A,{}),label:"paraf"===(null===t||void 0===t?void 0:t.current_type)?"Tolak Paraf Dokumen":"Tolak Tanda Tangan Dokumen",className:"me-5"},"rejected")]})}),(0,z.jsx)(w.A,{style:{width:"100%"},id:"outlined-multiline-static",placeholder:"Lorem ipsum dolor sit amet,\r\nlorem ipsum dolo\r\nLorem ipsum,",label:"Catatan Persetujuan",value:o,onChange:e=>r(e.target.value),multiline:!0,rows:4}),(0,z.jsx)(ee.A,{color:"primary",variant:"contained",style:{width:"100%"},className:"mt-4",disabled:d,onClick:()=>{c(!0),"approve"!==n&&""===o?((0,F.x)("error","Catatan harus diisi !"),c(!1)):u.post("dapi/adm/surat/review/".concat(null===t||void 0===t?void 0:t.no_document),{status:n,catatan_persetujuan:o}).then((e=>{200===e.status?((0,F.x)("success","Berhasil ".concat(null===t||void 0===t?void 0:t.current_type," dokumen")),a(),l()):(0,F.x)("error","Gagal ".concat(null===t||void 0===t?void 0:t.current_type," dokumen")),c(!1)})).catch((e=>{(0,F.x)("error","".concat(e.message)),c(!1)}))},children:d?"Loading . . .":"Simpan"})]})};var ae=a(90469),ie=a(91014);const le=(0,a(72738).Ay)(),ne=e=>{let{data:t,refresh:a,closeModal:l}=e;const[n,s]=(0,i.useState)(null),[o,r]=(0,i.useState)([]),[d,c]=(0,i.useState)([]),[u,m]=(0,i.useState)([]),[h,p]=(0,i.useState)([]),[v,g]=(0,i.useState)([]),[x,b]=(0,i.useState)([]),[j,y]=(0,i.useState)(""),[k,D]=(0,i.useState)([]),[C,L]=(0,i.useState)([]),[_,T]=(0,i.useState)(""),[M,P]=(0,i.useState)(!1),I=(0,A.A)();(0,i.useEffect)((()=>{I.get("dapi/adm/dispo/to").then((e=>{var t,a,i,l,n,s,o,d;r(null===(t=e.data.data)||void 0===t||null===(a=t.disposisi)||void 0===a?void 0:a.direksi),c(null===(i=e.data.data)||void 0===i||null===(l=i.disposisi)||void 0===l?void 0:l.manager_eks),m(null===(n=e.data.data)||void 0===n||null===(s=n.disposisi)||void 0===s?void 0:s.divisions),p(null===(o=e.data.data)||void 0===o?void 0:o.cc),b(null===(d=e.data.data)||void 0===d?void 0:d.cc)})),T(null===t||void 0===t?void 0:t.id_surat)}),[t]);(0,i.useEffect)((()=>{console.log(C)}),[C]),(0,i.useEffect)((()=>{g(null===v||void 0===v?void 0:v.filter((e=>(null===e||void 0===e?void 0:e.employe_id)!==(null===n||void 0===n?void 0:n.employe_id)))),b(null===h||void 0===h?void 0:h.filter((e=>(null===e||void 0===e?void 0:e.employe_id)!==(null===n||void 0===n?void 0:n.employe_id))))}),[n]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("h5",{style:{marginBottom:"-2px"},children:["Disposisi Surat ",null===t||void 0===t?void 0:t.nomor]}),(0,z.jsxs)("span",{className:"small fst-italic",children:["Perihal ",null===t||void 0===t?void 0:t.perihal]}),(0,z.jsx)("hr",{}),(0,z.jsx)(S.A,{className:"mb-3",children:(0,z.jsxs)(w.A,{select:!0,style:{width:"100%"},variant:"outlined",value:n||"",onChange:e=>s(e.target.value),label:"Disposisi Kepada",children:[null===n&&(0,z.jsx)(N.A,{value:null,className:"fst-italic small",children:"Silakan Pilih Tujuan Disposisi . . . . "}),(0,z.jsx)(ae.A,{style:{backgroundColor:"#f5f5f5"},children:(0,z.jsx)("strong",{children:"DIREKTUR TERKAIT"})}),null===o||void 0===o?void 0:o.map((e=>(0,z.jsx)(N.A,{className:"ms-2",value:e,children:e.position_name},null===e||void 0===e?void 0:e.employe_id))),(0,z.jsx)(ae.A,{style:{backgroundColor:"#f5f5f5"},children:(0,z.jsx)("strong",{children:"MANAGER EKSEKUTIF"})}),null===d||void 0===d?void 0:d.map((e=>(0,z.jsx)(N.A,{className:"ms-2",value:e,children:e.position_name},null===e||void 0===e?void 0:e.employe_id))),(0,z.jsx)(ae.A,{style:{backgroundColor:"#f5f5f5"},children:(0,z.jsx)("strong",{children:"DIVISI TERKAIT"})}),null===u||void 0===u?void 0:u.map((e=>(0,z.jsx)(N.A,{className:"ms-2",value:e,children:e.position_name},null===e||void 0===e?void 0:e.employe_id)))]})}),(0,z.jsx)(S.A,{className:"mb-3",children:(0,z.jsx)(ie.Ay,{placeholder:"Tickler Disposisi",components:le,isMulti:!0,styles:{control:e=>(0,f.A)((0,f.A)({},e),{},{minHeight:"55px"}),menu:e=>(0,f.A)((0,f.A)({},e),{},{background:"#f0f0f0",borderRadius:4,zIndex:10})},value:k,options:[{value:"Diwakilkan",label:"Diwakilkan"},{value:"Diproses",label:"Diproses / Dilaksanakan"},{value:"Ditindaklanjuti",label:"Ditindaklanjuti"},{value:"Dipelajari",label:"Dipelajari"},{value:"Dihadiri",label:"Dihadiri"},{value:"Dimonitor",label:"Dimonitor"},{value:"Diarsip",label:"Diarsip / Difile"}],onChange:e=>{D(e),L((t=>[...t,...e.map((e=>e.value))]))},isClearable:C.some((e=>!e.isFixed))})}),(0,z.jsx)(S.A,{className:"mb-3",children:(0,z.jsx)(ie.Ay,{placeholder:"Carbon Copy (CC)",components:le,isMulti:!0,styles:{control:e=>(0,f.A)((0,f.A)({},e),{},{minHeight:"55px"}),menu:e=>(0,f.A)((0,f.A)({},e),{},{background:"#f0f0f0",borderRadius:4,zIndex:10})},value:v,options:x,onChange:e=>{g(e)},isClearable:v.some((e=>!e.isFixed))})}),(0,z.jsxs)(S.A,{className:"mb-3",children:[" ",(0,z.jsx)(w.A,{style:{width:"100%"},id:"outlined-multiline-static",placeholder:"Lorem ipsum dolor sit amet,\r\nlorem ipsum dolo\r\nLorem ipsum,",label:"Catatan",value:j,onChange:e=>y(e.target.value),multiline:!0,rows:4})]}),(0,z.jsx)(S.A,{className:"mb-3 mt-4",children:(0,z.jsx)(ee.A,{variant:"contained",color:"primary",style:{width:"100%"},onClick:async()=>{P(!0),await I.post("dapi/adm/suratmasuk/diposisi/".concat(_),{catatan:j,tickler:C,to:n,what:"dispo",cc:v}).then((e=>{P(!1),200===e.status&&(a(),l(),(0,F.x)("success","Disposisi Berhasil !"))})).catch((e=>{console.log(e)}))},disabled:M,children:M?"Loading . . .":"Disposisi"})})]})};var se=a(54211),oe=a(55360),re=a.n(oe),de=a(91769);const ce=a(49784),ue=e=>new Promise((()=>{var t,a,i,l,n,s,o;se.vfs=ce.pdfMake.vfs,se.fonts={Archivo:{normal:"Archivo-Regular.ttf",bold:"Archivo-SemiBold.ttf",italics:"Archivo-Italic.ttf",bolditalics:"Archivo-SemiBoldItalic.ttf"}};const r=null!==e&&void 0!==e&&e.tickler?null===e||void 0===e?void 0:e.tickler.split(","):[];let d='<ul style="list-style-type: square; margin-left:15">';for(let e=0;e<(null===r||void 0===r?void 0:r.length);e++)d+="<li>".concat(r[e],"</li>");d+="</ul>";let c="<br>CC ";for(let p=0;p<(null===e||void 0===e||null===(u=e.cc)||void 0===u?void 0:u.length);p++){var u;c+="<br><span>      ".concat(null===e||void 0===e?void 0:e.cc[p],"</span>")}const m='\n        <table style="border-collapse: collapse; width: 100%;" border="1"><colgroup><col style="width: 50%;"><col style="width: 50%;"></colgroup>\n          <tbody>\n            <tr>\n              <td colspan="2" style="margin-bottom:-4; text-align:center"><h5>LEMBAR DISPOSISI</h5></td>\n            </tr>\n\n\n            <tr>\n            <td colspan="2" style="margin-bottom:-2; margin-top:-3;">\n             <table style="border-collapse: collapse; width: 100%; border: 0px;">\n                <tbody>\n                  <tr>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 15%;">Surat Dari</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 1%;">:</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 84%;">'.concat(null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.pengirim,'</td>\n                  </tr>\n                </tbody>\n                </table>\n             </td>\n            </tr>\n\n            <tr>\n            <td  style="margin-top:-3;margin-bottom:1">\n              <table style="border-collapse: collapse; width: 100%; border: 0px;">\n                <tbody>\n                <tr>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 30%;">Nomor Surat</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 2%;">:</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 72%;">').concat(null===e||void 0===e||null===(a=e.detail)||void 0===a?void 0:a.nomor,'</td>\n                </tr>\n                <tr>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 30%;">Tgl Surat</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 2%;">:</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 72%;">').concat(new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"long",year:"numeric"}).format(new Date(null===e||void 0===e||null===(i=e.detail)||void 0===i?void 0:i.tgl_surat)),'</td>\n                </tr>\n                </tbody>\n                </table>\n            </td>\n            \n            <td  style="margin-top:-3;margin-bottom:1">\n              <table style="border-collapse: collapse; width: 100%; border: 0px;">\n                <tbody>\n                <tr>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 30%;">Diterima</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 2%;">:</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 72%;">').concat(new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"long",year:"numeric"}).format(new Date(null===e||void 0===e||null===(l=e.detail)||void 0===l?void 0:l.created_at)),'</td>\n                </tr>\n                <tr>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 30%;">Via</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 2%;">:</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 72%;">').concat(null===e||void 0===e||null===(n=e.detail)||void 0===n?void 0:n.via,'</td>\n                </tr>\n                </tbody>\n                </table>\n            </td>\n            </tr>\n\n            <tr>\n            <td colspan="2" style="margin-bottom:-2; margin-top:-3;">\n             <table style="border-collapse: collapse; width: 100%; border: 0px;">\n                <tbody>\n                  <tr>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 15%;">Perihal</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 1%;">:</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 84%;">').concat(null===e||void 0===e||null===(s=e.detail)||void 0===s?void 0:s.perihal,'</td>\n                  </tr>\n                </tbody>\n                </table>\n             </td>\n            </tr>\n\n            <tr>\n            <td style="margin:4">\n              Didisposisikan Kepada <br>\n              <span>      <strong>').concat(null===e||void 0===e?void 0:e.to,"</strong></span><br>\n              ").concat((null===e||void 0===e||null===(o=e.cc)||void 0===o?void 0:o.length)>0&&c,'\n\n            </td>\n            \n           <td style="margin:4">\n              Dengan Hormat harap \n               ').concat((null===r||void 0===r?void 0:r.length)>0&&d,'\n            </td>\n            </tr>\n\n\n             <tr>\n            <td colspan="2" style="margin-bottom:-2; margin-top:-3; height:150;border-bottom:0px;">\n             <table style="border-collapse: collapse; width: 100%; border: 0px;">\n                <tbody>\n                  <tr>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 15%;">Catatan</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 1%;">:</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 84%;"></td>\n                  </tr>\n                 \n                </tbody>\n                </table>\n                 <p style="margin-left:20;margin-top:-2;">').concat(null===e||void 0===e?void 0:e.catatan,'</p>\n             </td>\n            </tr>\n            <tr>\n            <td colspan="2" style="margin-bottom:-2; margin-top:-3;border-top:0px;">\n                 <p style="text-align:right; margin-right:3;">').concat(new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"numeric",year:"numeric"}).format(new Date(null===e||void 0===e?void 0:e.waktu)),"<br><br><strong>").concat(null===e||void 0===e?void 0:e.nama,"</strong><br>").concat(null===e||void 0===e?void 0:e.position,'</p>\n    <span style="font-size:8; font-style:italic;"> NB : Lembar disposisi ini merupakan dokumen resmi yang dihasilkan oleh sistem secara otomatis.</span>\n             </td>\n            </tr>\n          </tbody>\n        </table>\n  \n      '),h={pageOrientation:"portrait",pageSize:"A4",pageMargins:[50,100,50,70],content:[re()(m,{defaultStyles:{td:{verticalAlign:"top",marginBottom:0,heigt:"auto"},ol:{margin:[0,0,0,-15],padding:[0,0,0,0]},ul:{margin:[0,0,0,-15],padding:[0,0,0,0]},li:{marginBottom:2},tr:{margin:[-5,0,0,0]},table:{margin:[0,-3,0,-7],width:"100%"},br:{margin:[0,0,0,0]}},tableAutoSize:!0})],background:()=>null!==e&&void 0!==e&&e.draft?{image:de.A.draft,width:300,height:300,opacity:.2,marginTop:250,marginLeft:150}:"",styles:{boldText:{bold:!0}},images:m.images,header:e=>1!==e?{text:""}:{image:de.A.headSurat,width:"595"},footer:(e,t)=>e!==t?{text:""}:{image:de.A.footSurat,width:"595"},defaultStyle:{font:"Archivo",fontSize:10,color:"#000",ol:{margin:[0,0,0,0],padding:[0,0,0,0]}}};se.createPdf(h).open()})),me=e=>{let{listSurat:t,valueNow:a,refresh:l,type:n,update:s,status:o}=e;const r=(0,i.useRef)(),c=(0,A.A)(),u=(0,y.A)(),[m,h]=(0,i.useState)(""),[p,v]=(0,i.useState)(""),[g,x]=(0,i.useState)(""),[b,j]=i.useState(""),[f,S]=i.useState([]),[w,k]=i.useState(),[N,D]=(0,i.useState)(""),[L,P]=(0,i.useState)(),[I,B]=(0,i.useState)(!1),[Y,O]=(0,i.useState)(""),V=()=>B(!I);(0,i.useEffect)((()=>{j(""),S(t),console.log(t)}),[t]),(0,i.useEffect)((()=>{if("masuk"===n){const e=null===t||void 0===t?void 0:t.filter((e=>{var t,a,i;return(null===e||void 0===e||null===(t=e.pengirim)||void 0===t?void 0:t.toLocaleLowerCase().match(null===b||void 0===b?void 0:b.toLocaleLowerCase()))||(null===e||void 0===e||null===(a=e.nomor)||void 0===a?void 0:a.toLocaleLowerCase().match(null===b||void 0===b?void 0:b.toLocaleLowerCase()))||(null===e||void 0===e||null===(i=e.perihal)||void 0===i?void 0:i.toLocaleLowerCase().match(null===b||void 0===b?void 0:b.toLocaleLowerCase()))}));S(e)}else{const e=null===t||void 0===t?void 0:t.filter((e=>{var t,a;return(null===e||void 0===e||null===(t=e.kepada)||void 0===t?void 0:t.toLocaleLowerCase().match(null===b||void 0===b?void 0:b.toLocaleLowerCase()))||(null===e||void 0===e||null===(a=e.nomor_surat)||void 0===a?void 0:a.toLocaleLowerCase().match(null===b||void 0===b?void 0:b.toLocaleLowerCase()))}));S(e)}}),[b]);const W=e=>{h(e),k(null===t||void 0===t?void 0:t.find((t=>t.id===e))),console.log(null===t||void 0===t?void 0:t.find((t=>t.id===e))),c.get("dapi/adm/surat/detail/".concat(e)).then((e=>{!async function(e){try{const t=await(0,M.A)(e,r);(0,T.A)(t,null===e||void 0===e?void 0:e.fileLampiran).then((e=>{window.open(e),console.log(e)}))}catch(t){console.log(t)}}(e.data.data),h("")}))},Z=async e=>{x(e),await c.get("dapi/adm/suratmasuk/detail/".concat(e)).then((e=>{(0,T.A)(e.data.data.file_surat,"").then((e=>{const t=window.open(e);if(!t||t.closed||"undefined"===typeof t.closed){const t=document.createElement("a");t.href=e,t.download="file.txt",document.body.appendChild(t),t.click(),document.body.removeChild(t)}URL.revokeObjectURL(e),x("")}))}))},Q=e=>{P([]),O("sm"),c.get("dapi/adm/suratmasuk/riwayat/".concat(e)).then((e=>{console.log(e.data.data),P(e.data.data)})),V(),D("log")},$=[{name:"Action",width:"".concat("progress"===o?"350px":"230px"),selector:e=>(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"info",tag:"input",type:"button",value:u.auth.user.roles.includes("SuperAdminAdm")?g===e.id?"Loading . . .":"Lihat Surat":g===e.id_surat?"Loading . . .":"Lihat Surat",onClick:()=>Z(u.auth.user.roles.includes("SuperAdminAdm")?e.id:e.id_surat)}),u.auth.user.roles.includes("SuperAdminAdm")||"done"===o?"":(0,z.jsxs)(z.Fragment,{children:[u.auth.user.roles.includes("Presdir")||u.auth.user.roles.includes("Director")||u.auth.user.roles.includes("ManagerEksekutif")?(0,z.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"dark",tag:"input",type:"button",value:"Dispo",onClick:()=>(e=>{const t=f.find((t=>t.id===e));console.log(t),P(t),D("dispo"),V()})(e.id)}):"",(0,z.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"danger",tag:"input",type:"button",onClick:()=>(e=>{(0,q.ZX)({title:"Attention !",message:"Tombol Tindak Lanjut ini untuk menandakan dokumen sudah mulai ditindaklanjuti",buttons:[{label:"Lanjutkan",onClick:async()=>{await c.post("dapi/adm/suratmasuk/diposisi/".concat(e),{what:"tinjut"}).then((()=>{l(),(0,F.x)("success","Surat Tinjut !")}))}},{label:"Batal",onClick:()=>{}}]})})(e.id_surat),value:"Tinjut"})]}),(0,z.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"success",tag:"input",type:"button",value:"Riwayat",onClick:()=>Q(u.auth.user.roles.includes("SuperAdminAdm")?e.id:e.id_surat)}),u.auth.user.roles.includes("SuperAdminAdm")&&(0,z.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"danger",tag:"input",type:"button",disabled:e.diproses>1,value:"Delete",onClick:()=>(e=>{(0,q.ZX)({title:"Are you sure ?",message:"Be careful, what has gone will not come back",buttons:[{label:"Yes",onClick:async()=>{await c.post("dapi/adm/suratmasuk/delete/".concat(e)).then((()=>{l(),(0,F.x)("success","Surat Deleted !")}))}},{label:"No",onClick:()=>{}}]})})(e.id)})]})},{name:"Tindak Lanjut",selector:e=>"dispo"===(null===e||void 0===e?void 0:e.tindak_lanjut)?"Didisposisi":"Tidak Didisposisi",omit:"done"!==o},{name:"Pada",selector:e=>J()(null===e||void 0===e?void 0:e.ditinjut).locale("id").format("dddd, DD/MM/YY HH:mm"),omit:"done"!==o},{name:"Nomor",selector:e=>null===e||void 0===e?void 0:e.nomor},{name:"Perihal",selector:e=>null===e||void 0===e?void 0:e.perihal},{name:"Pengirim",selector:e=>null===e||void 0===e?void 0:e.pengirim},{name:"Tanggal Surat",selector:e=>J()(null===e||void 0===e?void 0:e.tgl_surat).format("YYYY-MM-DD")},{name:"Diterima Via",selector:e=>e.via},{name:"Tanggal Terima",selector:e=>J()(null===e||void 0===e?void 0:e.diterima).format("YYYY-MM-DD HH:mm:ss"),omit:u.auth.user.roles.includes("SuperAdminAdm")},{name:"Masuk Sistem",selector:e=>J()(null===e||void 0===e?void 0:e.created_at).locale("id").format("dddd, DD/MM/YY HH:mm"),omit:!u.auth.user.roles.includes("SuperAdminAdm")},{name:"Diinput oleh",selector:e=>null===e||void 0===e?void 0:e.by_name,omit:!u.auth.user.roles.includes("SuperAdminAdm")}],ee=[{name:"Action",width:"250px",selector:e=>(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"info",tag:"input",type:"button",value:u.auth.user.roles.includes("SuperAdminAdm")?g===e.id?"Loading . . .":"Lihat Surat":g===e.id_surat?"Loading . . .":"Lihat Surat",onClick:()=>(async e=>{x(e.id),await c.post("dapi/adm/suratmasuk/read/".concat(null===e||void 0===e?void 0:e.id)).then((t=>{200===t.status&&(l(),Z(e.id_surat))})).catch((e=>{(0,F.x)("error","".concat(e.message))}))})(e)}),(0,z.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"success",tag:"input",type:"button",value:"Riwayat",onClick:()=>Q(u.auth.user.roles.includes("SuperAdminAdm")?e.id:e.id_surat)})]})},{name:"Nomor Surat",selector:e=>e.nomor},{name:"Pengirim",selector:e=>e.pengirim},{name:"Perihal",selector:e=>e.perihal},{name:"Tanggal Surat",selector:e=>J()(null===e||void 0===e?void 0:e.tgl_surat).format("YYYY-MM-DD")},{name:"dicc oleh",selector:e=>e.position},{name:"cc at",selector:e=>J()(null===e||void 0===e?void 0:e.cc_at).locale("id").format("dddd, DD/MM/YY HH:mm")}],ae=[{name:"Actions",width:"".concat("3"===a||"approved"===n?"270px":"350px"),selector:e=>(0,z.jsxs)(z.Fragment,{children:["1"===a&&(0,z.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"danger",tag:"input",type:"button",value:p===e.id?"Loading . . .":"Update",onClick:()=>(async e=>{v(e),await s(e).then((()=>{v("")}))})(e.id)}),(0,z.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"info",tag:"input",type:"button",value:m===e.id?"Loading . . .":"Lihat Surat",onClick:()=>W(e.id)}),(0,z.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"dark",tag:"input",type:"button",value:"Approval",onClick:()=>(e=>{P([]);const a=null===t||void 0===t?void 0:t.find((t=>t.id===e));c.get("dapi/eSign/approval/".concat(null===a||void 0===a?void 0:a.no_document)).then((e=>{console.log(e.data.data),P(e.data.data)})),V(),D("approval")})(e.id)}),(0,z.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"success",tag:"input",type:"button",value:"Logs",onClick:()=>(e=>{P([]);const a=null===t||void 0===t?void 0:t.find((t=>t.id===e));c.get("dapi/eSign/logs/".concat(null===a||void 0===a?void 0:a.no_document)).then((e=>{console.log(e.data.data),P(e.data.data)})),V(),D("log")})(e.id)}),"2"===a&&"review"===n&&(0,z.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"warning",tag:"input",type:"button",value:e.current_type,onClick:()=>(e=>{const a=null===t||void 0===t?void 0:t.find((t=>t.id===e));console.log(a),V(),P(a),D("review")})(e.id)})]})},{name:"Nomor Surat",selector:e=>e.nomor_surat},{name:"Kepada",selector:e=>e.kepada},{name:"Perihal",selector:e=>e.perihal},{name:"Divisi",selector:e=>e.divisi_name},{name:"Status",selector:e=>"signed"===e.status?(0,z.jsx)(C.A,{color:"success",style:{width:"100px"},children:"Approved"}):"rejected"===e.status?(0,z.jsx)(C.A,{color:"danger",style:{width:"100px"},children:"Rejected"}):(0,z.jsx)(C.A,{color:"warning",style:{width:"100px"},children:"Under Review"}),omit:"1"!==a&&!0},{name:"Dokumen dibuat",selector:e=>J()(e.created_at).format("DD/MM/YYYY HH:mm")},{name:"".concat("3"===a?"Ditandatangani":"Direview"),selector:e=>J()(e.updated_at).format("DD/MM/YYYY HH:mm"),omit:"review"===n&&!0},{name:"".concat("approved"===n?"Jenis Persetujuan":"Persetujuan saat ini"),selector:e=>"".concat("approved"===n?e.type||"-":e.current_type||"-"),omit:"3"===a&&!0},{name:"Ditandatangani oleh",selector:e=>e.reviewer||"-",omit:"3"!==a&&!0},{name:"Jabatan",selector:e=>e.position_reviewer||"-",omit:"3"!==a&&!0}];return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{ref:r,style:{display:"none"},children:(0,z.jsx)(_.QRCode,{value:"".concat("https://sys.ptpema.co.id/","verification/").concat(null===w||void 0===w?void 0:w.no_document,"?type=sign"),size:400,qrStyle:"dots",logoImage:E,logoWidth:100,logoHeight:100,eyeRadius:20,fgColor:"#0F52BA"})}),(0,z.jsx)(R.Ay,{keyField:"approved"===n?"unique_id":"id",columns:"masuk"===n?$:"cc"===n?ee:ae,data:f,pagination:!0,subHeader:!0,conditionalRowStyles:"cc"===n&&[{when:e=>null===e.read_by,style:{backgroundColor:"#d7e9f7"}}],subHeaderComponent:(0,z.jsx)("div",{className:"d-flex justify-content-end w-100",children:(0,z.jsx)(H.A,{type:"text",value:b,placeholder:"search . . . . ",className:"w-25",onChange:e=>j(e.target.value)})})}),(0,z.jsx)(U.A,{isOpen:I,toggle:V,size:"xl",children:(0,z.jsx)(K.A,{children:"log"===N?(0,z.jsx)(G,{type:Y,data:L,func1:e=>{ue(e)}}):"approval"===N?(0,z.jsx)(X,{data:L}):"review"===N?(0,z.jsx)(te,{data:L,refresh:l,closeModal:V}):"dispo"===N?(0,z.jsx)(ne,{data:L,refresh:l,closeModal:V}):"te"})})]})};var he=a(51787),pe=a(80135),ve=a(89302),ge=a(58390),xe=a(4145),be=a(203);a(94727);J().locale("id");const je=e=>{let{refresh:t,func1:a}=e;const l=(0,A.A)(),[n,s]=(0,i.useState)(!1),[o,r]=i.useState(""),[d,c]=i.useState(""),[u,m]=i.useState(""),[h,p]=i.useState(J()()),v=["Email","Surat Fisik","Whatapps","Lainnya"],[g,b]=i.useState(""),[j,y]=i.useState("3"),[f,k]=i.useState(),[D,C]=i.useState(""),{data:L}=(0,be.I)({queryKey:["dirs"],queryFn:()=>l.get("dapi/adm/direkturs").then((e=>e.data.data))}),[_,T]=i.useState({});(0,i.useEffect)((()=>{T({nomorSurat:o,pengirim:d,perihal:u,tglSurat:h,via:g,dir:j,file:f})}),[o,d,u,h,g,j,f]);return(0,z.jsxs)("div",{children:[(0,z.jsx)(S.A,{className:"mb-3",children:(0,z.jsx)(w.A,{id:"outlined-basic",style:{width:"100%"},label:"Nomor Surat Masuk",variant:"outlined",value:o,onChange:e=>r(e.target.value)})}),(0,z.jsx)(S.A,{className:"mb-3",children:(0,z.jsx)(w.A,{id:"outlined-basic",style:{width:"100%"},label:"Pengirim",variant:"outlined",value:d,onChange:e=>c(e.target.value)})}),(0,z.jsx)(S.A,{className:"mb-3",children:(0,z.jsx)(w.A,{id:"outlined-basic",style:{width:"100%"},label:"Perihal",variant:"outlined",value:u,onChange:e=>m(e.target.value)})}),(0,z.jsx)(S.A,{className:"mb-3",children:(0,z.jsx)(ge.$,{dateAdapter:ve.R,adapterLocale:"id",children:(0,z.jsx)(pe.j,{components:["DatePicker"],children:(0,z.jsx)(xe.l,{label:"Tgl Surat",value:h,onChange:p,sx:{width:"100%"}})})})}),(0,z.jsx)(S.A,{className:"mb-3",children:(0,z.jsx)(w.A,{select:!0,style:{width:"100%"},variant:"outlined",value:g,onChange:e=>b(e.target.value),label:"Surat diterima Via",children:null===v||void 0===v?void 0:v.map((e=>(0,z.jsx)(N.A,{value:e,children:e},e)))})}),(0,z.jsxs)(S.A,{className:"mb-3",children:[(0,z.jsx)(w.A,{label:"Upload File",variant:"outlined",value:D,fullWidth:!0,placeholder:"Harus PDF maksimal 12 MB",disabled:!0,InputProps:{startAdornment:(0,z.jsx)(he.A,{position:"start",children:(0,z.jsx)(x(),{icon:"cloud_upload",style:{cursor:"pointer"},onClick:()=>document.getElementById("input-file").click()})})}}),(0,z.jsx)("input",{type:"file",id:"input-file",style:{display:"none"},accept:"application/pdf",onChange:e=>{var t;C(null===(t=e.target.files[0])||void 0===t?void 0:t.name),k(e.target.files[0])}})]}),(null===L||void 0===L?void 0:L.length)>0&&(0,z.jsx)(S.A,{className:"mb-3",children:(0,z.jsx)(w.A,{select:!0,style:{width:"100%"},variant:"outlined",value:j,onChange:e=>y(e.target.value),label:"Ditujukan Kepada",disabled:!0,children:null===L||void 0===L?void 0:L.map((e=>(0,z.jsx)(N.A,{value:null===e||void 0===e?void 0:e.position_id,children:null===e||void 0===e?void 0:e.position_name},null===e||void 0===e?void 0:e.position_id)))})}),(0,z.jsx)(S.A,{className:"mb-3",children:(0,z.jsx)(ee.A,{disabled:n,variant:"contained",size:"large",style:{width:"100%"},onClick:()=>{Object.values(_).every((e=>""!==e&&null!==e&&void 0!==e))?(0,q.ZX)({title:"Are you sure ?",message:"Be careful, what has gone will not come back",buttons:[{label:"Yes",onClick:async()=>{s(!0),await l.post("dapi/adm/suratmasuk",_,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{200===e.status?(t(),a(!1),(0,F.x)("success","Surat Masuk Berhasil diupload !"),s(!1)):((0,F.x)("error","Surat Masuk Gagal diupload, Hubungi Tim IT untuk problem selanjutnya !"),s(!1))})).catch((e=>{(0,F.x)("error","".concat(e.message)),s(!1)}))}},{label:"No",onClick:()=>{}}]}):(0,F.x)("error","Data belum lengkap, silahkan isi data terlebih dahulu")},children:n?"Loading...":"Simpan Surat Masuk"})})]})};var ye=a(98268),Ae=a(64911),fe=a(6849),Se=a(59196),we=a(22019),ke=a(30094);a(80043);const Ne=()=>{var e,t,a,l,n;const s=(0,A.A)(),{data:o,isLoading:r}=(0,be.I)({queryKey:["dataDash2"],queryFn:()=>s.get("/dapi/adm/dashboard").then((e=>e.data.data))});(0,i.useEffect)((()=>{console.log(null===o||void 0===o?void 0:o.dataDash)}),[o]);const d={chart:{fontFamily:"'Rubik', sans-serif"},dataLabels:{enabled:!1},xaxis:{categories:null===o||void 0===o||null===(e=o.chart)||void 0===e?void 0:e.divisi,labels:{show:!1}},plotOptions:{bar:{distributed:!0,horizontal:!1}},grid:{borderColor:"rgba(0,0,0,0.1)"},yaxis:{labels:{style:{cssClass:"grey--text lighten-2--text fill-color"}}},title:{text:"Grafik Surat PEMA ".concat((new Date).getFullYear()," per Divisi"),align:"left",style:{fontSize:"16px",color:"#6c757d"}},tooltip:{theme:"dark"}},c=[{name:"Surat Masuk",data:null===o||void 0===o||null===(t=o.chart)||void 0===t?void 0:t.value}];return(0,z.jsx)(z.Fragment,{children:r?(0,z.jsx)(P.A,{}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(V.A,{children:null===o||void 0===o||null===(a=o.dataDash)||void 0===a?void 0:a.map((e=>{var t;return(0,z.jsx)(W.A,{md:3,className:"mt-3",children:(0,z.jsx)(ke.A,{title:e.title,sub:e.sub,count:null===(t=e.value)||void 0===t?void 0:t.toString(),tipe:e.type,color:e.color})},e.type)}))}),(0,z.jsxs)(V.A,{className:"mt-4",children:[(0,z.jsxs)(W.A,{md:4,children:[(0,z.jsx)("h3",{className:"list-group-title",children:"Surat Keluar Terbaru"}),(0,z.jsxs)(ye.A,{children:[null===o||void 0===o||null===(l=o.latest_surat)||void 0===l?void 0:l.map((e=>(0,z.jsxs)(Ae.A,{className:"list-group-item-hover list-group-item-strip mb-3",children:[(0,z.jsx)("div",{className:"list-group-item-date",children:e.nomor_surat}),(0,z.jsxs)(fe.A,{children:["Kpd : ",e.kepada]}),(0,z.jsx)(Se.A,{children:e.perihal})]},e.id))),0===(null===o||void 0===o||null===(n=o.latest_surat)||void 0===n?void 0:n.length)&&(0,z.jsxs)(Ae.A,{className:" mb-3",children:[(0,z.jsx)("div",{className:"list-group-item-date",children:"\xa0"}),(0,z.jsx)(fe.A,{className:"text-center",children:"Belum ada Data"}),(0,z.jsx)(Se.A,{children:"\xa0"})]})]})]}),(0,z.jsx)(W.A,{md:8,children:(0,z.jsx)(we.A,{options:d,series:c,type:"bar",height:"500"})})]})]})})},De=["fileLampiran"],Ce=()=>{const{auth:e}=(0,y.A)(),t=(0,A.A)(),{hash:a}=(0,j.zy)(),l=JSON.parse(localStorage.getItem("formData")),[n,g]=(0,i.useState)("".concat(""!==a?a.replace(/#/g,"").toString():"99")),[f,S]=(0,i.useState)((null===l||void 0===l?void 0:l.tulisForm)||!1),[w,k]=(0,i.useState)([]),[N,D]=(0,i.useState)(""),[C,L]=(0,i.useState)([]),[_,T]=(0,i.useState)([]),[M,P]=(0,i.useState)({}),[I,F]=(0,i.useState)(!1),[E,B]=(0,i.useState)(0),[R,H]=(0,i.useState)(0),[U,K]=(0,i.useState)(0),[O,J]=(0,i.useState)([]),[q,G]=(0,i.useState)([]),[V,W]=(0,i.useState)([]),[X,Z]=(0,i.useState)(!1);console.log(a.replace(/#/g,"")),(0,i.useEffect)((()=>{g(""!==a?"".concat(a.replace(/#/g,"").toString()):"99")}),[a]);(0,i.useEffect)((()=>{localStorage.setItem("formData",JSON.stringify({tulisForm:f}))}),[f]);const Q=(0,v.E)({queries:[{queryKey:["divisi",0],queryFn:()=>t.get("dapi/adm/divisi").then((e=>e.data.data))}]}),$=()=>{var a;a=n,t.get("dapi/adm/surat/review").then((e=>{B(e.data.data.length)})),t.get("dapi/adm/suratmasuk/to_me").then((e=>{H(e.data.data.length)})),t.get("dapi/adm/suratmasuk/cc").then((e=>{K(e.data.data.filter((e=>null===e.read_by)).length)})),"1"===a?t.get("dapi/adm/surat/all").then((e=>{L(e.data.data)})):"2"===a?(t.get("dapi/adm/surat/review").then((e=>{L(e.data.data),B(e.data.data.length)})),t.get("dapi/adm/surat/approved").then((e=>{T(e.data.data)}))):"3"===a?t.get("dapi/adm/surat/signed").then((e=>{L(e.data.data)})):"4"===a?(t.get("dapi/adm/suratmasuk/".concat(null!==e&&void 0!==e&&e.user.roles.includes("SuperAdminAdm")?"all":"to_me")).then((e=>{J(e.data.data)})),t.get("dapi/adm/suratmasuk/tinjut").then((e=>{G(e.data.data)}))):"5"===a&&t.get("dapi/adm/suratmasuk/cc").then((e=>{W(e.data.data)}))};(0,i.useEffect)((()=>{L([]),$()}),[n]),(0,i.useEffect)((()=>{var e,t,a,i;k(null===(e=Q[0].data)||void 0===e?void 0:e.other_divisis),D(null===(t=Q[0].data)||void 0===t||null===(a=t.my_divisi)||void 0===a||null===(i=a.organization_id)||void 0===i?void 0:i.toString())}),[Q]),(0,i.useEffect)((()=>{console.log(C)}),[C]);return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(u.Ay,{value:n,children:[(0,z.jsx)(o.A,{className:"mb-1",children:(0,z.jsxs)(m.A,{onChange:(e,t)=>{g(t)},"aria-label":"lab API tabs example",vertical:"sm",variant:"scrollable",scrollButtons:"auto",children:[(0,z.jsx)(p.A,{label:(0,z.jsxs)(b.A,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,z.jsx)("strong",{children:"Dashboard"})," \xa0\xa0"]}),value:"99"}),(null===e||void 0===e?void 0:e.user.roles.includes("AdminAdm"))&&(0,z.jsx)(p.A,{label:(0,z.jsxs)(b.A,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,z.jsx)("strong",{children:"TULIS SURAT"})," \xa0\xa0"]}),value:"1"}),null!==e&&void 0!==e&&e.user.roles.includes("Manager")||null!==e&&void 0!==e&&e.user.roles.includes("Director")||null!==e&&void 0!==e&&e.user.roles.includes("Supervisor")?(0,z.jsx)(p.A,{label:(0,z.jsxs)(b.A,{badgeContent:E,anchorOrigin:{vertical:"top",horizontal:"right"},color:"warning",children:[(0,z.jsx)("strong",{children:"REVIEW"})," \xa0\xa0"]}),value:"2"}):"",null!==e&&void 0!==e&&e.user.roles.includes("SuperAdminAdm")||null!==e&&void 0!==e&&e.user.roles.includes("Director")?(0,z.jsx)(p.A,{label:(0,z.jsxs)(b.A,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,z.jsx)("strong",{children:"SURAT KELUAR"})," \xa0\xa0"]}),value:"3"}):"",(0,z.jsx)(p.A,{label:(0,z.jsxs)(b.A,{badgeContent:R,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,z.jsx)("strong",{children:"SURAT MASUK"})," \xa0\xa0"]}),value:"4"}),(0,z.jsx)(p.A,{label:(0,z.jsxs)(b.A,{badgeContent:U,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,z.jsx)("strong",{children:"SURAT MASUK (CC) "})," \xa0\xa0"]}),value:"5"})]})}),(null===e||void 0===e?void 0:e.user.roles.includes("AdminAdm"))&&(0,z.jsxs)(h.A,{value:"1",className:"ps-0 pe-0",children:[(0,z.jsx)(o.A,{children:(0,z.jsx)(r.A,{children:f?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(x(),{icon:"close",className:"mb-3 float-end",style:{cursor:"pointer"},onClick:()=>S(!f)}),(0,z.jsx)(Y,{divisis:w,mydivisi:N,refresh:$,func1:S,detailSurat:M,updateForm:I})]}):(0,z.jsx)(d.A,{color:"primary",size:"lg",style:{width:"100%"},onClick:()=>{S(!f),localStorage.removeItem("dataSurat"),F(!1)},children:"Buat Surat Baru"})})}),!1===f&&(null===C||void 0===C?void 0:C.length)>0&&(0,z.jsx)(o.A,{children:(0,z.jsx)(r.A,{children:(0,z.jsx)(me,{listSurat:C,valueNow:n,update:async e=>{var a;localStorage.removeItem("dataSurat"),k(null===(a=Q[0].data)||void 0===a?void 0:a.other_divisis),await t.get("dapi/adm/surat/detail/".concat(e)).then((e=>{var t,a;console.log(e.data.data),D(null===(t=e.data.data)||void 0===t||null===(a=t.divisi)||void 0===a?void 0:a.toString()),P(e.data.data),F(!0);const i=e.data.data,{fileLampiran:l}=i,n=(0,s.A)(i,De);localStorage.setItem("dataSurat",JSON.stringify(n)),S(!0)})),console.log(I)},refresh:$})})})]}),(0,z.jsxs)(h.A,{value:"2",className:"ps-0 pe-0",children:[(0,z.jsx)(o.A,{children:(0,z.jsx)(r.A,{children:(0,z.jsx)(me,{listSurat:C,valueNow:n,refresh:$,type:"review"})})}),(null===_||void 0===_?void 0:_.length)>0&&(0,z.jsxs)(o.A,{children:[(0,z.jsx)(c.A,{children:(0,z.jsx)("strong",{children:"Dokumen yang telah direview"})}),(0,z.jsx)(r.A,{children:(0,z.jsx)(me,{listSurat:_,valueNow:n,refresh:$,type:"approved"})})]})]}),(0,z.jsx)(h.A,{value:"3",className:"ps-0 pe-0",children:(0,z.jsx)(o.A,{children:(0,z.jsx)(r.A,{children:(0,z.jsx)(me,{listSurat:C,valueNow:n,refresh:$})})})}),(0,z.jsxs)(h.A,{value:"4",className:"ps-0 pe-0",children:[(null===e||void 0===e?void 0:e.user.roles.includes("SuperAdminAdm"))&&(0,z.jsx)(o.A,{children:(0,z.jsx)(r.A,{children:X?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(x(),{icon:"close",className:"mb-3 float-end",style:{cursor:"pointer"},onClick:()=>Z(!X)}),(0,z.jsx)(je,{refresh:$,func1:Z})]}):(0,z.jsx)(d.A,{color:"primary",size:"lg",style:{width:"100%"},onClick:()=>Z(!X),children:"Tambah Surat Masuk"})})}),!1===X&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(o.A,{children:(0,z.jsx)(r.A,{children:(0,z.jsx)(me,{listSurat:O,valueNow:n,refresh:$,type:"masuk",status:"progress"})})}),(null===q||void 0===q?void 0:q.length)>0&&(0,z.jsxs)(o.A,{children:[(0,z.jsx)(c.A,{children:"Surat Masuk Yang Telah ditindaklanjuti"}),(0,z.jsx)(r.A,{children:(0,z.jsx)(me,{listSurat:q,valueNow:n,refresh:$,type:"masuk",status:"done"})})]})]})]}),(0,z.jsx)(h.A,{value:"5",className:"ps-0 pe-0",children:(0,z.jsx)(o.A,{children:(0,z.jsx)(r.A,{children:(0,z.jsx)(me,{listSurat:V,valueNow:n,refresh:$,type:"cc"})})})}),(0,z.jsx)(h.A,{value:"99",className:"ps-0 pe-0",children:(0,z.jsx)(o.A,{children:(0,z.jsx)(r.A,{children:(0,z.jsx)(Ne,{})})})})]})})},Le=()=>{const[e,t]=i.useState(!0);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(l.A,{color:"info",isOpen:e,toggle:()=>t(!1),children:["Baca Dokumentasi Aplikasi ",(0,z.jsx)("a",{href:"https://api.ptpema.co.id/adm/dokumentasi/adm.pdf",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"},children:"disini !!!"})]}),(0,z.jsx)(n.A,{}),(0,z.jsx)(Ce,{})]})}},30094:(e,t,a)=>{a.d(t,{A:()=>d});a(65043);var i=a(49157),l=a(18353),n=a(12327),s=a(22345),o=a(22019),r=a(70579);const d=e=>{let{title:t,sub:a,count:d,tipe:c,color:u}=e;return(0,r.jsx)(i.A,{className:u,children:(0,r.jsxs)(l.A,{children:[(0,r.jsxs)("div",{className:"d-flex",children:[(0,r.jsx)("div",{className:"me-3 align-self-center",children:(0,r.jsx)("h1",{className:"text-dark-white",children:(0,r.jsx)("i",{className:"bi bi-pie-chart"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-dark-white",children:t}),(0,r.jsx)("h6",{className:"text-dark-white",children:a})]})]}),(0,r.jsxs)(n.A,{children:[(0,r.jsx)(s.A,{xs:5,className:"d-flex align-items-center",children:(0,r.jsx)("h1",{className:"text-dark-white text-truncate mb-0",children:d})}),(0,r.jsx)(s.A,{xs:7,className:"align-self-center",children:(0,r.jsx)("div",{className:"d-flex align-items-center",style:{height:"105px"},children:(0,r.jsx)(o.A,{options:{chart:{toolbar:{show:!1},fontFamily:"'Poppins', sans-serif"},dataLabels:{enabled:!1},colors:["rgba(255,255,255,0.5)"],xaxis:{categories:["0","4","8","12","16","20","24","30"],labels:{show:!1},axisBorder:{show:!1},axisTicks:{show:!1}},stroke:{curve:"smooth",width:3,colors:"rgba(255, 255, 255, 0.5)"},yaxis:{show:!1},grid:{show:!1},tooltip:{enabled:!1,theme:"dark"}},series:[{name:"Bandwidth usage",data:[5,0,12,1,8,3,12,15]}],type:c,height:"120"})})})]})]})})}},80043:()=>{},46600:()=>{}}]);
//# sourceMappingURL=904.59665c27.chunk.js.map