"use strict";(self.webpackChunkmaterialpro_main=self.webpackChunkmaterialpro_main||[]).push([[6739],{66739:(e,a,l)=>{l.r(a),l.d(a,{default:()=>K});var t=l(77348),n=l(22016),r=l(15710),o=l(86506),s=l(24056),i=l(93933),u=l(96460),d=l(49157),c=l(18353),p=l(65043),h=l(93397),m=l(89379),x=l(30815),g=l(42788),j=l(11906),v=l(58390),A=l(4145),b=l(89302),y=l(99371),f=l(40028),k=l(70579);const S=e=>{let{employes:a}=e;const[l,t]=(0,p.useState)(""),[n,r]=(0,p.useState)(""),[o,s]=(0,p.useState)({}),[i,u]=(0,p.useState)(null),[d,c]=(0,p.useState)(null),[S,C]=p.useState(null),D=(0,h.A)();return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(x.A,{component:"form",onSubmit:async e=>{e.preventDefault();const a={};if(l||(a.judul="Judul Kontrak tidak boleh kosong"),n||(a.partner="Lengkapi Nama Perusahaan Partner"),i||(a.dari="Lengkapi tgl Kontrak di mulai"),d||(a.sampai="Isi Tgl Berakhir Kontrak"),S||(a.employe="PIC kontrak tidak boleh kosong"),Object.keys(a).length>0)return void s(a);const o={no_contrac:"CNT-".concat(Date.now()),vjudul:l,vpartner:n,start:i?i.format?i.format("YYYY-MM-DD"):new Date(i).toISOString():null,end:d?d.format?d.format("YYYY-MM-DD"):new Date(d).toISOString():null,pic:null===S||void 0===S?void 0:S.employe_id,created_by:(()=>{try{const e=JSON.parse(localStorage.getItem("user")||"null");return(null===e||void 0===e?void 0:e.id)||null}catch(e){return null}})()};try{var p;const e=await D.post("dapi/kontrak/",o);var h;if(null!==e&&void 0!==e&&null!==(p=e.data)&&void 0!==p&&p.success)(0,f.x)("success","Kontrak berhasil disimpan"),t(""),r(""),u(null),c(null),C(null),s({});else(0,f.x)("error","Gagal menyimpan: ".concat((null===e||void 0===e||null===(h=e.data)||void 0===h?void 0:h.message)||JSON.stringify(null===e||void 0===e?void 0:e.data)))}catch(m){(0,f.x)("error","Error: ".concat((null===m||void 0===m?void 0:m.message)||m))}},noValidate:!0,autoComplete:"off",sx:{display:"flex",flexDirection:"column",gap:2,boxShadow:"none",margin:"auto",padding:2},children:[(0,k.jsx)(g.A,{label:"Judul Kontrak",variant:"outlined",type:"text",value:l,onChange:e=>t(e.target.value),error:Boolean(o.judul),helperText:o.judul,fullWidth:!0}),(0,k.jsx)(g.A,{label:"Perusahaan Partner",variant:"outlined",type:"text",value:n,onChange:e=>r(e.target.value),error:Boolean(o.partner),helperText:o.partner,fullWidth:!0}),(0,k.jsxs)(v.$,{dateAdapter:b.R,children:[(0,k.jsx)(A.l,{renderInput:e=>(0,k.jsx)(g.A,(0,m.A)({},e)),label:"Mulai Kontrak",ampm:!1,value:i,onChange:u,slotProps:{textField:{error:Boolean(o.dari),helperText:o.dari,fullWidth:!0}}}),(0,k.jsx)(A.l,{renderInput:e=>(0,k.jsx)(g.A,(0,m.A)({},e)),label:"Berakhir Kontrak",ampm:!1,value:d,onChange:c,slotProps:{textField:{error:Boolean(o.sampai),helperText:o.sampai,fullWidth:!0}}})]}),(0,k.jsx)(y.A,{style:{width:"100%"},disablePortal:!0,id:"combo-box-demo",options:a||[],value:S,onChange:(e,a)=>{if("string"===typeof a){C({label:a})}else if(a&&a.inputValue){const e=a.inputValue;C({label:e})}else C(a)},getOptionLabel:e=>"string"===typeof e?e:e.inputValue?e.inputValue:e.label,renderOption:(e,a)=>(0,k.jsx)("li",(0,m.A)((0,m.A)({},e),{},{children:a.label})),renderInput:e=>(0,k.jsx)(g.A,(0,m.A)((0,m.A)({},e),{},{label:"Nama PIC",error:Boolean(o.employe),helperText:o.employe}))}),(0,k.jsx)(j.A,{type:"submit",variant:"contained",color:"primary",children:"Tambah Dokumen"})]})})};var C=l(58786);const D=()=>(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(C.Ay,{data:[{nama:"sdgsdg",tgl:"05-10-2025"},{nama:"sdgsg",tgl:"05-09-2025"}],columns:[{name:"Nama",selector:e=>e.nama}],pagination:!0,subHeader:!0})}),O=()=>{const[e,a]=p.useState("1"),[l,t]=(0,p.useState)([]),m=(0,h.A)(),x=(0,u.E)({queries:[{queryKey:["assigne",0],queryFn:()=>m.get("api/employe/assignment-list?search=all").then((e=>e.data.data))}]});return(0,p.useEffect)((()=>{t(x[0].data)}),[x]),(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(n.Ay,{value:e,children:[(0,k.jsx)(d.A,{className:"mb-1",children:(0,k.jsxs)(r.A,{onChange:(e,l)=>{a(l)},"aria-label":"lab API tabs example",vertical:"sm",variant:"scrollable",scrollButtons:"auto",children:[(0,k.jsx)(s.A,{label:(0,k.jsxs)(i.A,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,k.jsx)("strong",{children:"DASHBOARD"})," \xa0\xa0"]}),value:"1"}),(0,k.jsx)(s.A,{label:(0,k.jsxs)(i.A,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,k.jsx)("strong",{children:"ADD KONTRAK"})," \xa0\xa0"]}),value:"2"}),(0,k.jsx)(s.A,{label:(0,k.jsxs)(i.A,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,k.jsx)("strong",{children:"LIST KONTRAK"})," \xa0\xa0"]}),value:"3"})]})}),(0,k.jsx)(o.A,{value:"1",className:"ps-0 pe-0",children:"fgasfa"}),(0,k.jsx)(o.A,{value:"2",className:"ps-0 pe-0",children:(0,k.jsx)(d.A,{children:(0,k.jsx)(c.A,{children:(0,k.jsx)(S,{employes:l})})})}),(0,k.jsx)(o.A,{value:"3",className:"ps-0 pe-0",children:(0,k.jsx)(d.A,{children:(0,k.jsx)(c.A,{children:(0,k.jsx)(D,{})})})})]})})},K=()=>(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(t.A,{}),(0,k.jsx)(O,{})]})}}]);
//# sourceMappingURL=6739.8ddf88e1.chunk.js.map