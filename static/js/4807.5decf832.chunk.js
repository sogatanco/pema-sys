"use strict";(self.webpackChunkmaterialpro_main=self.webpackChunkmaterialpro_main||[]).push([[4807],{45916:(e,s,t)=>{t.d(s,{A:()=>o});var l=t(65043),i=t(35475),a=t(55918),n=t.n(a),d=t(70579);const o=e=>{let{menuOptions:s,taskId:t,status:a,action:o,progress:c,duplicateFn:r}=e;const[v,u]=(0,l.useState)(!1),m=()=>{u(!1),o()};return(0,d.jsxs)("div",{className:"action",children:[(0,d.jsx)("button",{type:"button",className:"btn-option ".concat(v&&"active"),onClick:()=>u(!0),children:(0,d.jsx)(n(),{icon:"more_vert"})}),v&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"action-overlay",onClick:()=>u(!1)}),(0,d.jsx)("div",{className:"action-options rounded-3",children:null===s||void 0===s?void 0:s.options.map((e=>(0,d.jsx)("div",{children:"duplicate"===e.to?(0,d.jsxs)("button",{type:"button",className:"text-muted",disabled:!0,onClick:()=>r(t),children:[e.icon,"Duplicate"]}):"button"===e.type?(0,d.jsxs)("button",{type:"button",className:"text-muted",onClick:()=>{return s=e.to,o(t,s),void u(!1);var s},disabled:e.to===a||2===e.to&&0===a||2===e.to&&4===a||0===e.to&&4===a||2===e.to&&100!==c,children:[e.icon,e.label]}):"link"===e.type?(0,d.jsxs)(i.N_,{className:"text-muted",onClick:e.to,children:[e.icon,e.label]}):(0,d.jsx)("div",{className:"action-del",children:(0,d.jsxs)("button",{type:"button",onClick:m,children:[(0,d.jsx)(n(),{icon:"delete_outline"}),"Delete"]})})},e.id)))})]})]})}},82959:(e,s,t)=>{t.d(s,{x:()=>n,y:()=>a});t(65043);var l=t(23768),i=t(70579);const a=()=>(0,i.jsx)(l.l$,{toastOptions:{className:"",style:{}}}),n=(e,s)=>{((e,s)=>{"success"===e?l.Ay.success(s):"create"===e?(0,l.Ay)(s,{icon:"\ud83e\udd17"}):"start"===e?(0,l.Ay)("Lets get started, cheer up!",{icon:"\ud83d\udcaa"}):"done"===e?(0,l.Ay)("Horeee, task done!",{icon:"\ud83d\udc4f"}):l.Ay.error(s)})(e,s)}},30757:(e,s,t)=>{t.d(s,{A:()=>n});var l=t(65043),i=t(98396),a=t(70579);const n=e=>{const{title:s,id:t}=e,[n,d]=(0,l.useState)(!1);return(0,a.jsx)("span",{children:(0,a.jsx)(i.A,{placement:"top",isOpen:n,target:"tooltip-".concat(t),toggle:()=>d(!n),children:s})})}},24807:(e,s,t)=>{t.d(s,{A:()=>w});var l=t(89379),i=t(65043),a=t(23222),n=t(10591),d=t(20782),o=t(97550),c=t(7493),r=t(72679),v=t(26259),u=t(89804),m=t(6221),x=t(55918),h=t.n(x),p=t(91014),j=t(72738),g=t(73216),f=t(35475),_=t(45916),b=t(29820),y=t(93397),k=t(18707),N=t(30342),A=t(30757),S=t(82959),D=t(70579);const w=e=>{var s,t,x,w,C,F,z,T,O,U,E,I,M,L;let{modal:R,setModal:P,toggle:W,task:V,refetch:H,mode:$,name:q}=e;const{projectId:B}=(0,g.g)(),{auth:G}=(0,N.A)(),[J,K]=(0,i.useState)(),[Q,X]=(0,i.useState)(!1),[Y,Z]=(0,i.useState)(""),[ee,se]=(0,i.useState)([]),[te,le]=(0,i.useState)(),[ie,ae]=(0,i.useState)(!1),[ne,de]=(0,i.useState)(!1),[oe,ce]=(0,i.useState)(!1),[re,ve]=(0,i.useState)(),[ue,me]=(0,i.useState)(),[xe,he]=(0,i.useState)(!1),[pe,je]=(0,i.useState)([]),[ge,fe]=(0,i.useState)(),[_e,be]=(0,i.useState)(),[ye,ke]=(0,i.useState)(!1),[Ne,Ae]=(0,i.useState)([]),[Se,De]=(0,i.useState)(!1),we=(0,i.useRef)(),Ce=null===G||void 0===G||null===(s=G.user)||void 0===s?void 0:s.roles,Fe=null===G||void 0===G||null===(t=G.user)||void 0===t?void 0:t.employe_id,ze=(0,y.A)(),Te=(0,j.Ay)();(0,i.useEffect)((()=>{var e;Z({approval_id:null===V||void 0===V?void 0:V.approval_id,task_title:null===V||void 0===V?void 0:V.task_title,task_desc:null===V||void 0===V?void 0:V.task_desc,task_progress:null===V||void 0===V?void 0:V.task_progress,start_date:null===V||void 0===V?void 0:V.start_date,end_date:null===V||void 0===V?void 0:V.end_date}),null!==V&&void 0!==V&&V.pics&&se(V.pics.map((e=>({label:e.first_name,value:e.employe_id})))),Ae(null===V||void 0===V?void 0:V.files),async function(){await ze.get("api/comment/".concat(null===V||void 0===V?void 0:V.task_id)).then((e=>ve(e.data.data)))}(),async function(){await ze.get("api/task/history/".concat(null===V||void 0===V?void 0:V.task_id)).then((e=>{K(e.data.data)}))}(),De(!(null===V||void 0===V||null===(e=V.pics)||void 0===e||!e.find((e=>e.employe_id.toString()===Fe))))}),[V]),(0,i.useEffect)((()=>{Ce.includes("Staff")||async function(){await ze.get("api/employe/assignment-list?search=".concat(q)).then((e=>le(e.data.data))).catch((e=>console.log(e)))}()}),[]),(0,i.useEffect)((()=>{fe(null===J||void 0===J?void 0:J.concat(re))}),[J,re]);const Oe=async e=>{var s;e.preventDefault(),0===(null===pe||void 0===pe?void 0:pe.length)?(0,S.x)("error","Field cannot be empty"):(null===(s=pe[0])||void 0===s?void 0:s.size)>1e7?(0,S.x)("error","Maximum file size is 10mb"):(ce(!0),await ze.post("api/task/".concat(V.task_id,"/upload"),pe,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{var s;null===V||void 0===V||null===(s=V.files)||void 0===s||s.push(e.data.file),(0,S.x)("success","File has been uploaded.")})).catch((()=>{(0,S.x)("error","Upload file failed")})),je([]),ce(!1))},Ue=async e=>{ke(!0),be(e),await ze.delete("api/task/file/delete/".concat(e)).then((()=>{H(),P(!1),(0,S.x)("success","A file has been deleted")})).catch("error","Delete file failed"),be(),ke(!1)},Ee={taskId:null===V||void 0===V?void 0:V.task_id,options:[{id:1,type:"delete",to:"toDelete"}]},Ie="https://api.ptpema.co.id/";return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(a.A,{isOpen:R,toggle:W.bind(null),size:"xl",fade:!1,centered:!0,children:[(0,D.jsx)(n.A,{toggle:W.bind(null)}),(0,D.jsx)(d.A,{children:Q?(0,D.jsx)("div",{className:"d-flex justify-content-center",style:{height:"400px"},children:"Loading.."}):(0,D.jsxs)("div",{className:"popup-body",children:[(0,D.jsx)("div",{className:"left",children:"activities"===$||2===(null===V||void 0===V?void 0:V.status)||3===(null===V||void 0===V?void 0:V.status)||!Se&&(null===V||void 0===V?void 0:V.created_by)!==(null===G||void 0===G||null===(x=G.user)||void 0===x?void 0:x.first_name)?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:"top",children:[(0,D.jsxs)("div",{className:"date",children:[(0,D.jsx)("h6",{children:"Start Date "}),(0,D.jsx)("span",{children:(null===Y||void 0===Y?void 0:Y.start_date)||"-"})]}),(0,D.jsxs)("div",{className:"date",children:[(0,D.jsx)("h6",{children:"Due Date"}),(0,D.jsx)("span",{children:(null===Y||void 0===Y?void 0:Y.end_date)||"-"})]})]}),(0,D.jsxs)("div",{className:"bottom mt-3",children:[(0,D.jsxs)(o.A,{children:[(0,D.jsx)(c.A,{htmlFor:"taskTitle",children:"Task Title"}),(0,D.jsx)(r.A,{type:"text",id:"taskTitle",name:"taskTitle",value:(null===Y||void 0===Y?void 0:Y.task_title)||"",readOnly:!0,disabled:!0})]}),(0,D.jsxs)(o.A,{children:[(0,D.jsx)(c.A,{htmlFor:"taskDesc",children:"Description"}),(0,D.jsx)(r.A,{type:"textarea",id:"taskDesc",name:"taskDesc",value:(null===Y||void 0===Y?void 0:Y.task_desc)||"",readOnly:!0,disabled:!0})]}),(0,D.jsxs)(o.A,{children:[(0,D.jsx)("span",{children:"PICs"}),(0,D.jsx)("br",{}),(0,D.jsx)("div",{className:"d-flex flex-column",children:ee.map(((e,s)=>(0,D.jsxs)("div",{className:"d-flex gap-3",children:[(0,D.jsxs)("span",{children:[s+1,"."]}),(0,D.jsx)("span",{children:e.label})]},e.value)))})]})]}),Ce.includes("Staff")||Ce.includes("Supervisor")?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("form",{onSubmit:Oe,className:"mt-2",children:[(0,D.jsxs)("h6",{children:["Attachment files (",(null===V||void 0===V||null===(w=V.files)||void 0===w?void 0:w.length)||0,")"]}),(0,D.jsxs)("div",{className:"d-flex justify-content-between align-items-center bg-light px-2 rounded-3 mt-2",children:[(0,D.jsxs)("div",{className:"d-flex align-items-center gap-1",children:[(0,D.jsxs)("div",{className:"pt-2",id:"tooltip-3",children:[(0,D.jsx)(c.A,{for:"attach",children:(0,D.jsx)(h(),{icon:"attach_file",className:"btn-icon"})}),(0,D.jsx)("input",{type:"file",id:"attach",name:"attach",hidden:!0,onChange:e=>je(e.target.files)}),(0,D.jsx)(A.A,{title:"Upload file",id:"3"})]}),(0,D.jsx)("span",{style:{color:"#1F88E5",fontSize:"12px"},children:pe[0]?null===(C=pe[0])||void 0===C?void 0:C.name:(0,D.jsx)("span",{style:{color:"#68757C"},children:"Max. 10mb"})})]}),(0,D.jsx)(v.A,{type:"submit",className:"btn",outline:!0,size:"sm",disabled:3===(null===V||void 0===V?void 0:V.status),children:oe?"Uploading...":"Upload"})]})]}),(0,D.jsx)("div",{className:"attach",children:(0,D.jsx)("ul",{children:(null===V||void 0===V||null===(F=V.files)||void 0===F?void 0:F.length)>0&&Ne.map((e=>{var s;return(null===(s=e.employe_id)||void 0===s?void 0:s.toString())===Fe&&(0,D.jsxs)("div",{className:"d-flex gap-1 align-items-center",children:[(0,D.jsx)("li",{children:(0,D.jsx)(f.N_,{className:"file-link",to:"".concat(Ie,"taskfiles/").concat(e.file_name),target:"_blank",children:e.file_name})}),(0,D.jsx)("button",{type:"button",className:"btn d-flex",style:{color:"#EF6767"},disabled:ye,onClick:()=>Ue(e.file_id),children:ye&&_e===e.file_id?"Deleting..":(0,D.jsx)(h(),{icon:"delete_outline",style:{fontSize:"20px"}})})]},e.file_id)}))})})]}):(0,D.jsxs)("div",{className:"attach",children:[(0,D.jsxs)("h6",{children:["Attachment files (",(null===V||void 0===V||null===(z=V.files)||void 0===z?void 0:z.length)||0,")"]}),(0,D.jsx)("ul",{children:(null===V||void 0===V||null===(T=V.files)||void 0===T?void 0:T.length)>0&&Ne.map((e=>(0,D.jsx)("div",{className:"d-flex gap-1 align-items-center",children:(0,D.jsx)("li",{children:(0,D.jsx)(f.N_,{className:"file-link",to:"".concat(Ie,"taskfiles/").concat(e.file_name),target:"_blank",children:e.file_name})})},e.file_id)))})]})]}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),de(!0),0!==ee.length?(Y.pic=ee,Y.project_id=B,pe&&(Y.files=pe),await ze.patch("api/task/".concat(null===V||void 0===V?void 0:V.task_id),Y).then((()=>{(0,S.x)("success","Task has been updated."),P(!1),H()})).catch((()=>(0,S.x)("error","Something went wrong")))):(0,S.x)("error","Field employee cannot be empty"),de(!1)},children:[(0,D.jsxs)("div",{className:"top",children:[(0,D.jsxs)("div",{className:"date",children:[(0,D.jsx)("h6",{children:"Start Date"}),(0,D.jsx)(r.A,{type:"date",name:"start_date",value:(null===Y||void 0===Y?void 0:Y.start_date)||"",onChange:e=>Z((0,l.A)((0,l.A)({},Y),{},{start_date:e.target.value}))})]}),(0,D.jsxs)("div",{className:"date",children:[(0,D.jsx)("h6",{children:"Due Date"}),(0,D.jsx)(r.A,{type:"date",name:"end_date",value:(null===Y||void 0===Y?void 0:Y.end_date)||"",onChange:e=>Z((0,l.A)((0,l.A)({},Y),{},{end_date:e.target.value}))})]})]}),(0,D.jsxs)("div",{className:"bottom mt-3",children:[(0,D.jsx)(r.A,{type:"text",name:"task_title",value:(null===Y||void 0===Y?void 0:Y.task_title)||"",onChange:e=>Z((0,l.A)((0,l.A)({},Y),{},{task_title:e.target.value}))}),(0,D.jsx)(r.A,{type:"textarea",cols:"5",rows:"6",name:"task_desc",value:(null===Y||void 0===Y?void 0:Y.task_desc)||"",onChange:e=>Z((0,l.A)((0,l.A)({},Y),{},{task_desc:e.target.value}))}),(null===V||void 0===V?void 0:V.child)>0||null!==(null===V||void 0===V?void 0:V.sub)?"":null===V||void 0===V||null===(O=V.pics)||void 0===O?void 0:O.map((e=>e.employe_id.toString()===(null===G||void 0===G?void 0:G.user.employe_id)&&(0,D.jsxs)("div",{className:"d-flex gap-2 justify-content-between",children:[(0,D.jsx)("div",{className:"col-sm-10",children:(0,D.jsx)(r.A,{type:"range",defaultValue:V.task_progress,onChange:e=>Z((0,l.A)((0,l.A)({},Y),{},{task_progress:e.target.value}))})}),(0,D.jsxs)("div",{className:"col-sm-1 d-flex justify-content-end",children:[null===Y||void 0===Y?void 0:Y.task_progress,"%"]})]},e.id)))]}),(0,D.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[(0,D.jsx)("div",{className:"d-flex align-items-center gap-3",children:(0,D.jsxs)("button",{type:"button",className:"btn-assigne",onClick:()=>{ae(!0)},children:[(0,D.jsx)("i",{className:"bi-person-plus-fill"}),(0,D.jsx)("span",{children:(null===ee||void 0===ee?void 0:ee.length)||0})]})}),(0,D.jsx)(v.A,{type:"submit",className:"btn",color:"info",disabled:ne||3===(null===V||void 0===V?void 0:V.status),size:"sm",children:ne?"Updating...":"Update"})]})]}),(0,D.jsxs)("form",{onSubmit:Oe,className:"mt-2",children:[(0,D.jsxs)("h6",{children:["Attachment files (",(null===V||void 0===V||null===(U=V.files)||void 0===U?void 0:U.length)||0,")"]}),(0,D.jsxs)("div",{className:"d-flex justify-content-between align-items-center bg-light px-2 rounded-3 mt-2",children:[(0,D.jsxs)("div",{className:"d-flex align-items-center gap-1",children:[(0,D.jsxs)("div",{className:"pt-2",id:"tooltip-3",children:[(0,D.jsx)(c.A,{for:"attach",children:(0,D.jsx)(h(),{icon:"attach_file",className:"btn-icon"})}),(0,D.jsx)("input",{type:"file",id:"attach",name:"attach",hidden:!0,onChange:e=>je(e.target.files)}),(0,D.jsx)(A.A,{title:"Upload file",id:"3"})]}),(0,D.jsx)("span",{style:{color:"#1F88E5",fontSize:"12px"},children:pe[0]?null===(E=pe[0])||void 0===E?void 0:E.name:(0,D.jsx)("span",{style:{color:"#68757C"},children:"Max. 10mb"})})]}),(0,D.jsx)(v.A,{type:"submit",className:"btn",outline:!0,size:"sm",disabled:3===(null===V||void 0===V?void 0:V.status),children:oe?"Uploading...":"Upload"})]})]}),(0,D.jsx)("div",{className:"attach",children:(0,D.jsx)("ul",{children:(null===V||void 0===V||null===(I=V.files)||void 0===I?void 0:I.length)>0&&Ne.map((e=>(0,D.jsxs)("div",{className:"d-flex gap-1 align-items-center",children:[(0,D.jsx)("li",{children:(0,D.jsx)(f.N_,{className:"file-link",to:"".concat(Ie,"taskfiles/").concat(e.file_name),target:"_blank",children:e.file_name})}),Fe===e.employe_id.toString()&&(0,D.jsx)("button",{type:"button",className:"btn d-flex",style:{color:"#EF6767"},disabled:ye,onClick:()=>Ue(e.file_id),children:ye?"Deleting..":(0,D.jsx)(h(),{icon:"delete_outline",style:{fontSize:"20px"}})})]},e.file_id)))})})]})}),(0,D.jsxs)("div",{className:"right",children:[(0,D.jsxs)("div",{className:"top",children:[null===V.task_parent?(0,D.jsxs)("div",{className:"status",children:[(0,D.jsx)("span",{className:"badge bg-light-success text-primary rounded-pill d-inline-block fw-bold",children:"Task"}),0===(null===V||void 0===V?void 0:V.status)?(0,D.jsx)(u.A,{color:"info",children:"To Do"}):1===(null===V||void 0===V?void 0:V.status)?(0,D.jsx)(u.A,{color:"primary",children:"In Progress"}):2===(null===V||void 0===V?void 0:V.status)?(0,D.jsxs)(u.A,{color:"light",className:"text-dark",children:[(0,D.jsx)("i",{className:"bi-clock mr-4",style:{fontSize:"12px"}}),"\xa0 Waiting for approval",(0,D.jsx)("strong",{})]}):3===(null===V||void 0===V?void 0:V.status)?(0,D.jsxs)(u.A,{color:"success",className:"d-flex",children:[" ",(0,D.jsx)("i",{className:"bi-check2-circle mr-4",style:{fontSize:"13px"}}),"\xa0 Approved"]}):(0,D.jsx)(u.A,{color:"danger",children:"Revision"})]}):(0,D.jsx)("div",{className:"status",children:(0,D.jsx)("span",{className:"badge bg-light-success text-primary rounded-pill d-inline-block fw-bold",children:"Subtask"})}),(Se||(null===V||void 0===V?void 0:V.created_by)===(null===G||void 0===G||null===(M=G.user)||void 0===M?void 0:M.first_name))&&(0,D.jsx)(_.A,{menuOptions:Ee,action:async()=>{X(!0),await ze.delete("api/task/".concat(V.task_id)).then((()=>(0,S.x)("success","Task has been deleted"))).catch((()=>(0,S.x)("error","Something went wrong"))),X(!1),P(!1),H()}})]}),(0,D.jsx)("div",{className:"bottom",children:J&&re?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:"history-item",children:[(0,D.jsxs)("div",{className:"comment-name",children:[(0,D.jsxs)("span",{children:[(0,D.jsx)("strong",{children:V&&V.created_by})," create this task"]}),(0,D.jsx)("br",{})]}),(0,D.jsx)("small",{children:V&&(0,k.A)(V.created_at)})]}),null===(Me=ge,L=null===Me||void 0===Me?void 0:Me.sort(((e,s)=>e.created_at.localeCompare(s.created_at))))||void 0===L?void 0:L.map(((e,s)=>null!==e&&void 0!==e&&e.approval_id?(0,D.jsxs)(i.Fragment,{children:[(0,D.jsxs)("div",{className:"history-item",children:[(0,D.jsx)("div",{className:"comment-name",children:0===(null===e||void 0===e?void 0:e.status)&&s<1?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("span",{children:[(0,D.jsx)("strong",{children:null===e||void 0===e?void 0:e.pic_task})," sdsd"]}),(0,D.jsx)("br",{}),(0,D.jsxs)("span",{style:{fontSize:"12px"},children:["Deadline: ",null===e||void 0===e?void 0:e.end_date]})]}):0===(null===e||void 0===e?void 0:e.status)&&s>0?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("span",{children:[(0,D.jsx)("strong",{children:null===e||void 0===e?void 0:e.pic_task})," change task to To Do"]}),(0,D.jsx)("br",{}),(0,D.jsxs)("span",{style:{fontSize:"12px"},children:["Deadline: ",null===e||void 0===e?void 0:e.end_date]})]}):0===(null===e||void 0===e?void 0:e.status)?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("span",{children:[(0,D.jsx)("strong",{children:null===e||void 0===e?void 0:e.pic_task})," was assigned"]}),(0,D.jsx)("br",{}),(0,D.jsxs)("span",{style:{fontSize:"12px"},children:["Deadline: ",null===e||void 0===e?void 0:e.end_date]})]}):1===(null===e||void 0===e?void 0:e.status)?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("span",{children:[(0,D.jsx)("strong",{children:null===e||void 0===e?void 0:e.pic_task})," change task to In Progress"]}),(0,D.jsx)("br",{}),(0,D.jsxs)("span",{style:{fontSize:"12px"},children:["Deadline: ",null===e||void 0===e?void 0:e.end_date]})]}):2===(null===e||void 0===e?void 0:e.status)?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("span",{children:[(0,D.jsx)("strong",{children:null===e||void 0===e?void 0:e.pic_task})," change task to Review"]}),(0,D.jsx)("br",{}),(0,D.jsxs)("span",{style:{fontSize:"12px"},children:["Deadline: ",null===e||void 0===e?void 0:e.end_date]})]}):3===(null===e||void 0===e?void 0:e.status)?(0,D.jsxs)("span",{children:[(0,D.jsxs)("strong",{children:[null===e||void 0===e?void 0:e.status_by," "]})," task approved"]}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("span",{children:[(0,D.jsxs)("strong",{children:[null===e||void 0===e?void 0:e.status_by," "]}),"change task to Revision"]}),(0,D.jsx)("br",{}),(0,D.jsxs)("span",{style:{fontSize:"12px"},children:["Deadline: ",null===e||void 0===e?void 0:e.end_date]})]})}),(0,D.jsx)("small",{children:(0,k.A)(null===e||void 0===e?void 0:e.created_at)})]}),(3===(null===e||void 0===e?void 0:e.status)||4===(null===e||void 0===e?void 0:e.status))&&(0,D.jsx)("div",{className:"comment-item mt-1",children:(0,D.jsx)("div",{className:"comment-user ",children:(0,D.jsxs)("div",{className:"comment-teks ".concat(3===(null===e||void 0===e?void 0:e.status)?"text-success":"text-warning"),children:[(0,D.jsx)("small",{style:{fontWeight:"600"},children:3===(null===e||void 0===e?void 0:e.status)?"Comment":"Notes"}),e.notes]})})})]},null===e||void 0===e?void 0:e.approval_id):(0,D.jsx)("div",{className:"comment-item",children:(0,D.jsxs)("div",{className:"comment-user",children:[(0,D.jsx)("img",{src:b,className:"rounded-circle",alt:"avatar",width:"35",height:"35"}),(0,D.jsxs)("div",{className:"comment-teks",children:[(0,D.jsx)("small",{style:{fontWeight:"600"},children:null===e||void 0===e?void 0:e.first_name}),null===e||void 0===e?void 0:e.comment,(0,D.jsx)("div",{className:"comment-time",children:(0,D.jsx)("small",{children:(0,k.A)(null===e||void 0===e?void 0:e.created_at)})})]},null===e||void 0===e?void 0:e.comment_id)]})},null===e||void 0===e?void 0:e.comment_id)))]}):"Loading..."}),(0,D.jsx)(m.A,{onSubmit:async e=>{e.preventDefault(),he(!0),ue.employe_id=G.user.employe_id,ue.task_id=V.task_id,await ze.post("api/comment",ue).then((e=>fe((s=>[...s,e.data.data])))),he(!1),me(),e.target.reset()},children:(0,D.jsxs)("div",{className:"input-comment",children:[(0,D.jsx)(r.A,{type:"text",name:"comment",ref:we,onChange:e=>me({comment:e.target.value}),autoComplete:"off"}),(0,D.jsx)("div",{className:"",children:(0,D.jsxs)(v.A,{className:"btn",outline:!0,color:"info",disabled:xe,type:"submit",children:[(0,D.jsx)(h(),{icon:"send"}),xe?"Sending":"Send"]})})]})})]})]})})]}),(0,D.jsxs)(a.A,{isOpen:ie,size:"md",fade:!1,centered:!0,children:[(0,D.jsx)(n.A,{toggle:()=>ae(!1),children:"Assigne Employee"}),(0,D.jsx)(d.A,{children:(0,D.jsx)(p.Ay,{closeMenuOnSelect:!0,components:Te,isMulti:!0,defaultValue:ee,options:te,onChange:e=>se(e)})})]})]});var Me}},18707:(e,s,t)=>{t.d(s,{A:()=>l});const l=e=>{if(e){const s=new Date,t=new Date(e),l=t.toDateString()===s.toDateString()?"Today":t.toDateString(),i=t.toLocaleString().split(",")[1];return"".concat(l,", ").concat(i.split(":")[0],":").concat(i.split(":")[1]," ").concat(i.split(" ")[2]||"")}return e}},29820:(e,s,t)=>{e.exports=t.p+"static/media/user1.6ac95ef9bc0c027733ea.jpg"}}]);
//# sourceMappingURL=4807.5decf832.chunk.js.map