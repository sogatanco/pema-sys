"use strict";(self.webpackChunkmaterialpro_main=self.webpackChunkmaterialpro_main||[]).push([[3624],{63624:(e,r,t)=>{t.r(r),t.d(r,{default:()=>w});var n=t(203),a=t(65043),s=t(35475),o=t(49157),l=t(18353),i=t(89804),c=t(3655),d=t(26259),u=t(23222),p=t(10591),f=t(20782),h=t(97877),b=t(87426),m=t(6221),j=t(97550),v=t(7493),y=t(72679),g=t(93397),x=t(40028),O=t(70579);const _="https://api.ptpema.co.id/",w=()=>{const e=(0,g.A)(),[r,t]=(0,a.useState)(!1),[w,A]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!1),[S,P]=(0,a.useState)(!1),[R,T]=(0,a.useState)(void 0),[E,C]=(0,a.useState)(""),[M,I]=(0,a.useState)(""),{data:q,isLoading:B,refetch:z}=(0,n.I)({queryKey:["approval-tender"],queryFn:()=>e.get("dapi/vendor/tender/approval/ba").then((e=>e.data.data))}),L=()=>{k(!N)},W=()=>{P(!S)},D=async()=>{t(!0),await e.post("dapi/vendor/tender/approval-ba/ba/".concat(R),{status_approval:E}).then((()=>{(0,x.x)("success","Tender Berhasil diapprove"),t(!1),k(!1),z()})).catch((()=>{(0,x.x)("error","Something went wrong"),t(!1),k(!1)}))};return B?(0,O.jsx)(o.A,{className:"rounded-3",children:(0,O.jsx)(l.A,{children:(0,O.jsx)("div",{className:"d-flec text-center",children:(0,O.jsx)("span",{children:"Loading.."})})})}):(null===q||void 0===q?void 0:q.length)>0?q.map(((t,n)=>(0,O.jsxs)(a.Fragment,{children:[(0,O.jsx)(o.A,{className:"rounded-3",children:(0,O.jsx)(l.A,{children:(0,O.jsxs)("div",{className:"d-flex flex-column",children:[(0,O.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,O.jsxs)("div",{className:"d-flex flex-column",children:[(0,O.jsxs)("span",{children:["Approval"," ","submit_pemenang"===t.status_approval?"Pemenang":"Peserta Tahap II","Tender"]}),(0,O.jsxs)("div",{className:"d-flex flex-column mt-2",children:[(0,O.jsx)("h4",{className:"fw-bold",children:t.nama_tender}),(0,O.jsx)("small",{style:{textTransform:"capitalize",marginTop:"-10px"},children:t.sistem_kualifikasi})]})]}),(0,O.jsx)("div",{children:(0,O.jsxs)(i.A,{color:"primary",children:["# ",n+1]})})]}),(0,O.jsxs)(c.A,{bordered:!0,className:"mt-3",children:[(0,O.jsx)("thead",{children:(0,O.jsx)("tr",{children:(0,O.jsx)("th",{colSpan:"2",children:"Peserta Tender"})})}),(0,O.jsx)("tbody",{children:t.peserta.map(((e,r)=>(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{width:"40",children:r+1}),(0,O.jsxs)("td",{children:[e.bentuk_usaha," ",e.nama_perusahaan]})]},e.nama_perusahaan)))})]}),"submit_tahap_2"===t.status_approval&&(0,O.jsxs)(c.A,{bordered:!0,className:"mt-3",children:[(0,O.jsx)("thead",{children:(0,O.jsx)("tr",{children:(0,O.jsx)("th",{colSpan:"2",children:"Peserta Tahap II"})})}),(0,O.jsxs)("tbody",{children:[t.lulus_tahap_1.map(((e,r)=>(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{width:"40",children:r+1}),(0,O.jsxs)("td",{children:[e.bentuk_usaha," ",e.nama_perusahaan]})]},e.nama_perusahaan))),(0,O.jsx)("tr",{children:(0,O.jsx)("td",{colSpan:"2",style:{verticalAlign:"middle",textAlign:"center"},children:(0,O.jsx)(s.N_,{to:"".concat(_,"vendor_file/").concat(t.upload_ba_seleksi),target:"blank",children:(0,O.jsx)(d.A,{color:"secondary",outline:!0,size:"sm",children:"Download Berita Acara"})})})})]})]}),"submit_pemenang"===t.status_approval&&(0,O.jsxs)(O.Fragment,{children:["pra kualifikasi"===t.sistem_kualifikasi&&(0,O.jsxs)(c.A,{bordered:!0,className:"mt-3",children:[(0,O.jsx)("thead",{children:(0,O.jsx)("tr",{children:(0,O.jsx)("th",{colSpan:"2",children:"Peserta Tahap II"})})}),(0,O.jsx)("tbody",{children:t.lulus_tahap_1.map(((e,r)=>(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{width:"40",children:r+1}),(0,O.jsxs)("td",{children:[e.bentuk_usaha," ",e.nama_perusahaan]})]})))})]}),(0,O.jsxs)(c.A,{hover:!0,bordered:!0,className:"mt-3",children:[(0,O.jsx)("thead",{children:(0,O.jsx)("tr",{children:(0,O.jsx)("th",{colSpan:"2",children:"Pemenang"})})}),(0,O.jsx)("tbody",{children:(0,O.jsxs)("tr",{children:[(0,O.jsxs)("td",{children:[t.pemenang[0].bentuk_usaha," ",t.pemenang[0].nama_perusahaan]}),(0,O.jsx)("td",{className:"text-center",children:(0,O.jsx)(s.N_,{to:"".concat(_,"vendor_file/").concat(t.upload_ba_pemenang),target:"blank",children:(0,O.jsx)(d.A,{color:"secondary",outline:!0,size:"sm",children:"Download Berita Acara"})})})]})})]})]}),(0,O.jsx)("div",{className:"d-flex justify-content-end",children:(0,O.jsxs)("div",{className:"d-flex gap-3",children:[(0,O.jsx)(d.A,{color:"warning",outline:!0,onClick:()=>{var e;e=t.id_tender,P(!0),T(e),C("submit_pemenang"===t.status_approval?"revisi_pemenang":"revisi_tahap_2")},children:"Revisi"}),(0,O.jsx)(d.A,{color:"success",onClick:()=>{var e;e=t.id_tender,k(!0),T(e),C("submit_pemenang"===t.status_approval?"approved_pemenang":"approved_tahap_2")},children:"Approve"})]})})]})})},t.id_tender),(0,O.jsxs)(u.A,{isOpen:N,toggle:L.bind(null),centered:!0,children:[(0,O.jsx)(p.A,{toggle:L.bind(null),children:"Konfirmasi"}),(0,O.jsx)(f.A,{children:(0,O.jsx)("div",{className:"d-flex justify-content-center",children:(0,O.jsx)("span",{children:" Apakah anda yakin ingin menyetujui Berita Acara ini ?"})})}),(0,O.jsxs)(h.A,{children:[r?(0,O.jsx)(d.A,{type:"button",color:"primary",disabled:!0,children:(0,O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,O.jsx)(b.A,{size:"sm"}),"Menyimpan.."]})}):(0,O.jsx)(d.A,{type:"button",color:"success",onClick:D,children:"Ya"}),(0,O.jsx)(d.A,{color:"secondary",onClick:L.bind(null),children:"Cancel"})]})]}),(0,O.jsxs)(u.A,{isOpen:S,toggle:W.bind(null),centered:!0,children:[(0,O.jsx)(p.A,{toggle:W.bind(null),children:"Revisi"}),(0,O.jsxs)(m.A,{onSubmit:r=>(async r=>{r.preventDefault(),A(!0),await e.post("dapi/vendor/tender/approval-ba/ba/".concat(R),{status_approval:E,catatan:M}).then((()=>{(0,x.x)("success","Revisi bershasil dikirim"),A(!1),z(),P(!1)})).catch((()=>{(0,x.x)("error","Something went wrong"),A(!1),P(!1)}))})(r),children:[(0,O.jsx)(f.A,{children:(0,O.jsxs)(j.A,{children:[(0,O.jsx)(v.A,{htmlFor:"note",children:"Catatan"}),(0,O.jsx)(y.A,{type:"textarea",name:"note",cols:"30",rows:"10",placeholder:"Masukkan catatan disini",onChange:e=>I(e.target.value),required:!0})]})}),(0,O.jsxs)(h.A,{children:[w?(0,O.jsx)(d.A,{type:"button",color:"warning",disabled:!0,children:(0,O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,O.jsx)(b.A,{size:"sm"}),"Mengirim.."]})}):(0,O.jsx)(d.A,{type:"submit",color:"warning",children:"Kirim"}),(0,O.jsx)(d.A,{color:"secondary",onClick:W.bind(null),children:"Cancel"})]})]})]})]},t.id_tender))):(0,O.jsx)(o.A,{className:"rounded-3",children:(0,O.jsx)(l.A,{children:(0,O.jsx)("div",{className:"d-flec text-center",children:(0,O.jsx)("span",{children:"Tidak ada permintaan approval."})})})})}},89804:(e,r,t)=>{t.d(r,{A:()=>h});var n=t(65043),a=t(65173),s=t.n(a),o=t(98139),l=t.n(o),i=t(96794),c=["className","cssModule","color","innerRef","pill","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},d.apply(this,arguments)}function u(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p={children:s().node,className:s().string,color:s().string,cssModule:s().object,innerRef:s().oneOfType([s().object,s().func,s().string]),pill:s().bool,tag:i.Wx};function f(e){var r=e.className,t=e.cssModule,a=e.color,s=void 0===a?"secondary":a,o=e.innerRef,p=e.pill,f=void 0!==p&&p,h=e.tag,b=void 0===h?"span":h,m=u(e,c),j=(0,i.qO)(l()(r,"badge","bg-"+s,!!f&&"rounded-pill"),t);return m.href&&"span"===b&&(b="a"),n.createElement(b,d({},m,{className:j,ref:o}))}f.propTypes=p;const h=f},6221:(e,r,t)=>{t.d(r,{A:()=>v});var n=t(65043),a=t(65173),s=t.n(a),o=t(96794);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}var i=["className","cssModule","tag","innerRef"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},c.apply(this,arguments)}function d(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function u(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,r){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},p(e,r)}function f(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=b(e);if(r){var a=b(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return function(e,r){if(r&&("object"===l(r)||"function"===typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,t)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var m={children:s().node,tag:o.Wx,innerRef:s().oneOfType([s().object,s().func,s().string]),className:s().string,cssModule:s().object},j=function(e){!function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&p(e,r)}(l,e);var r,t,a,s=f(l);function l(e){var r;return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,l),(r=s.call(this,e)).getRef=r.getRef.bind(h(r)),r.submit=r.submit.bind(h(r)),r}return r=l,(t=[{key:"getRef",value:function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e}},{key:"submit",value:function(){this.ref&&this.ref.submit()}},{key:"render",value:function(){var e=this.props,r=e.className,t=e.cssModule,a=e.tag,s=void 0===a?"form":a,l=e.innerRef,u=d(e,i),p=(0,o.qO)(r,t);return n.createElement(s,c({},u,{ref:l,className:p}))}}])&&u(r.prototype,t),a&&u(r,a),Object.defineProperty(r,"prototype",{writable:!1}),l}(n.Component);j.propTypes=m;const v=j},97877:(e,r,t)=>{t.d(r,{A:()=>h});var n=t(65043),a=t(65173),s=t.n(a),o=t(98139),l=t.n(o),i=t(96794),c=["className","cssModule","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},d.apply(this,arguments)}function u(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p={className:s().string,cssModule:s().object,tag:i.Wx};function f(e){var r=e.className,t=e.cssModule,a=e.tag,s=void 0===a?"div":a,o=u(e,c),p=(0,i.qO)(l()(r,"modal-footer"),t);return n.createElement(s,d({},o,{className:p}))}f.propTypes=p;const h=f},10591:(e,r,t)=>{t.d(r,{A:()=>h});var n=t(65043),a=t(65173),s=t.n(a),o=t(98139),l=t.n(o),i=t(96794),c=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","close"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},d.apply(this,arguments)}function u(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p={children:s().node,className:s().string,close:s().object,closeAriaLabel:s().string,cssModule:s().object,tag:i.Wx,toggle:s().func,wrapTag:i.Wx};function f(e){var r,t=e.className,a=e.cssModule,s=e.children,o=e.toggle,p=e.tag,f=void 0===p?"h5":p,h=e.wrapTag,b=void 0===h?"div":h,m=e.closeAriaLabel,j=void 0===m?"Close":m,v=e.close,y=u(e,c),g=(0,i.qO)(l()(t,"modal-header"),a);return!v&&o&&(r=n.createElement("button",{type:"button",onClick:o,className:(0,i.qO)("btn-close",a),"aria-label":j})),n.createElement(b,d({},y,{className:g}),n.createElement(f,{className:(0,i.qO)("modal-title",a)},s),v||r)}f.propTypes=p;const h=f},3655:(e,r,t)=>{t.d(r,{A:()=>h});var n=t(65043),a=t(65173),s=t.n(a),o=t(98139),l=t.n(o),i=t(96794),c=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},d.apply(this,arguments)}function u(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p={bordered:s().bool,borderless:s().bool,className:s().string,cssModule:s().object,dark:s().bool,hover:s().bool,innerRef:s().oneOfType([s().func,s().string,s().object]),responsive:s().oneOfType([s().bool,s().string]),responsiveTag:i.Wx,size:s().string,striped:s().bool,tag:i.Wx};function f(e){var r=e.className,t=e.cssModule,a=e.size,s=e.bordered,o=e.borderless,p=e.striped,f=e.dark,h=e.hover,b=e.responsive,m=e.tag,j=void 0===m?"table":m,v=e.responsiveTag,y=void 0===v?"div":v,g=e.innerRef,x=u(e,c),O=(0,i.qO)(l()(r,"table",!!a&&"table-"+a,!!s&&"table-bordered",!!o&&"table-borderless",!!p&&"table-striped",!!f&&"table-dark",!!h&&"table-hover"),t),_=n.createElement(j,d({},x,{ref:g,className:O}));if(b){var w=(0,i.qO)(!0===b?"table-responsive":"table-responsive-".concat(b),t);return n.createElement(y,{className:w},_)}return _}f.propTypes=p;const h=f},203:(e,r,t)=>{t.d(r,{I:()=>f});var n=t(68664),a=t(10765),s=t(65043),o=t(49939),l=t(28873),i=t(82670),c=t(59781),d=t(1968),u=t(54483),p=t(33729);function f(e,r,t){return function(e,r){const t=(0,c.jE)({context:e.context}),n=(0,d.w)(),a=(0,i.h)(),f=t.defaultQueryOptions(e);f._optimisticResults=n?"isRestoring":"optimistic",f.onError&&(f.onError=o.j.batchCalls(f.onError)),f.onSuccess&&(f.onSuccess=o.j.batchCalls(f.onSuccess)),f.onSettled&&(f.onSettled=o.j.batchCalls(f.onSettled)),(0,p.tu)(f),(0,u.LJ)(f,a),(0,u.wZ)(a);const[h]=s.useState((()=>new r(t,f))),b=h.getOptimisticResult(f);if((0,l.r)(s.useCallback((e=>{const r=n?()=>{}:h.subscribe(o.j.batchCalls(e));return h.updateResult(),r}),[h,n]),(()=>h.getCurrentResult()),(()=>h.getCurrentResult())),s.useEffect((()=>{h.setOptions(f,{listeners:!1})}),[f,h]),(0,p.EU)(f,b,n))throw(0,p.iL)(f,h,a);if((0,u.$1)({result:b,errorResetBoundary:a,useErrorBoundary:f.useErrorBoundary,query:h.getCurrentQuery()}))throw b.error;return f.notifyOnChangeProps?b:h.trackResult(b)}((0,n.vh)(e,r,t),a.$)}}}]);
//# sourceMappingURL=3624.c8554757.chunk.js.map