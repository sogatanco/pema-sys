"use strict";(self.webpackChunkmaterialpro_main=self.webpackChunkmaterialpro_main||[]).push([[904],{82959:(e,a,t)=>{t.d(a,{x:()=>s,y:()=>n});t(65043);var i=t(23768),l=t(70579);const n=()=>(0,l.jsx)(i.l$,{toastOptions:{className:"",style:{}}}),s=(e,a)=>{((e,a)=>{"success"===e?i.Ay.success(a):"create"===e?(0,i.Ay)(a,{icon:"\ud83e\udd17"}):"start"===e?(0,i.Ay)("Lets get started, cheer up!",{icon:"\ud83d\udcaa"}):"done"===e?(0,i.Ay)("Horeee, task done!",{icon:"\ud83d\udc4f"}):i.Ay.error(a)})(e,a)}},77199:(e,a,t)=>{t.d(a,{A:()=>r});var i=t(55510),l=t(28249),n=t(73216),s=t(35475),o=t(70579);const r=()=>{const e=(0,n.zy)(),a=e.pathname.split("/")[1],t=e.pathname.split("/")[2];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h4",{className:"text-capitalize",children:"".concat(t||a)}),(0,o.jsxs)(i.A,{children:[(0,o.jsx)(l.A,{to:"/",tag:s.N_,className:"text-decoration-none",children:"Home"}),a?(0,o.jsx)(l.A,{active:!0,children:a}):"",t?(0,o.jsx)(l.A,{active:!0,children:t}):""]})]})}},74301:(e,a,t)=>{t.d(a,{A:()=>l});var i=t(81105);const l=async(e,a)=>{if(!a){const a=Uint8Array.from(atob(e),(e=>e.charCodeAt(0))),t=new Blob([a],{type:"application/pdf"});return URL.createObjectURL(t)}const t=new Uint8Array(atob(e).split("").map((e=>e.charCodeAt(0)))),l=new Uint8Array(atob(a).split("").map((e=>e.charCodeAt(0)))),n=await(async(e,a)=>{const t=await i.PDFDocument.create(),l=await i.PDFDocument.load(e),n=await i.PDFDocument.load(a),s=await t.copyPages(l,l.getPageIndices()),o=await t.copyPages(n,n.getPageIndices());s.forEach((e=>{t.addPage(e)})),o.forEach((e=>{t.addPage(e)}));return await t.save()})(t,l),s=new Blob([n],{type:"application/pdf"});return URL.createObjectURL(s)}},84304:(e,a,t)=>{t.d(a,{A:()=>d});var i=t(54211),l=t(55360),n=t.n(l),s=t(91769);const o=function(e){const a=["Nol","Satu","Dua","Tiga","Empat","Lima","Enam","Tujuh","Delapan","Sembilan","Sepuluh","Sebelas"];if(e<12)return a[e];const t=["","Belas","Puluh","Ratus","Ribu","Juta","Miliar","Triliun"];let i="";const l=e.toString(),n=null===l||void 0===l?void 0:l.length;if(n>12)return"Angka terlalu besar";for(let s=0;s<n;s++){const e=parseInt(l.charAt(s),10),o=n-s-1;if(0===e&&(i+=""),1===o&&1===e&&"0"!==l.charAt(s+1)){i+=" Sebelas";break}i+=" ".concat(a[e]," ").concat(t[o])}return i.trim()},r=t(49784),d=(e,a)=>new Promise(((t,l)=>{i.vfs=r.pdfMake.vfs,i.fonts={Archivo:{normal:"Archivo-Regular.ttf",bold:"Archivo-SemiBold.ttf",italics:"Archivo-Italic.ttf",bolditalics:"Archivo-SemiBoldItalic.ttf"}};const d='<p style="margin-bottom:5px">Banda Aceh, '.concat(new Intl.DateTimeFormat("".concat("id"===(null===e||void 0===e?void 0:e.bhs)?"id-ID":"en-US"),{day:"2-digit",month:"long",year:"numeric"}).format(new Date(null===e||void 0===e?void 0:e.tglSurat)),'</p>  \n      \n        <table style="border-collapse: collapse; width: 100%; border: 0px;" border="1"; padding="0";><colgroup><col style="width: 13%;"><col style="width: 2%;"><col style="width: 85%;"></colgroup>\n        <tbody>\n          <tr style="margin-left:-5">\n            <td style="vertical-align: top; border: 0px; line-height: 1.2; " >').concat("id"===(null===e||void 0===e?void 0:e.bhs)?"Nomor":"Number",'</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;" >:</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">').concat(null===e||void 0===e?void 0:e.nomorSurat,'</td>\n          </tr>\n          <tr style="margin-left:-5">\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">').concat("id"===(null===e||void 0===e?void 0:e.bhs)?"Lampiran":"Attachment",'</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">:</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">').concat(Number(null===e||void 0===e?void 0:e.lampiran)>0?"".concat(null===e||void 0===e?void 0:e.lampiran," (").concat(o(Number(null===e||void 0===e?void 0:e.lampiran)),") ").concat((null===e||void 0===e?void 0:e.jenisLampiran)||" Eks"):"-",'</td>\n          </tr>\n          <tr style="margin-left:-5">\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">').concat("id"===(null===e||void 0===e?void 0:e.bhs)?"Perihal":"Subject",'</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">:</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">').concat(null===e||void 0===e?void 0:e.perihal,'</td>\n          </tr>\n        </tbody>\n      </table>\n\n        <div style="line-height: 1.2; margin-top:3; margin-bottom:-12">').concat("id"===(null===e||void 0===e?void 0:e.bhs)?"Kepada Yth":"Dear,",'<br>\n            <strong style="line-height: 0.9!important;">').concat(null===e||void 0===e?void 0:e.kepada,"</strong>\n            ").concat("id"===(null===e||void 0===e?void 0:e.bhs)?"<br>di - <br>\n            <span>          Tempat</span>":"",'\n        </div>\n       <span style="line-height: 1.3; text-align:justify">  ').concat(null===e||void 0===e?void 0:e.isiSurat,"</span>\n  \n      ");if(a.current){const o=a.current.querySelector("canvas");if(o){var c,u,m,p;const a=o.toDataURL(),r={pageOrientation:"portrait",pageSize:"A4",pageMargins:[50,70,50,70],content:[n()(d,{defaultStyles:{p:{margin:[0,3,0,-12]},td:{verticalAlign:"top",marginBottom:-4,heigt:"auto"},ol:{margin:[0,0,0,-15],padding:[0,0,0,0]},ul:{margin:[0,0,0,-15],padding:[0,0,0,0]},li:{marginBottom:2},tr:{margin:[-5,0,0,0]},table:{margin:[0,-3,0,-7],width:"100%"},br:{margin:[0,0,0,0]}},tableAutoSize:!0}),{stack:[{text:"".concat("id"===(null===e||void 0===e?void 0:e.bhs)?"Hormat Kami":"Your sincerelly",","),style:"normal"},{text:"PT PEMBANGUNAN ACEH",style:"boldText"},{image:"".concat("signed"===(null===e||void 0===e?void 0:e.status)?a:s.A.placeholder),width:60},{text:"".concat(null===e||void 0===e||null===(c=e.signer)||void 0===c?void 0:c.first_name),style:"boldText"},{text:"".concat("id"===(null===e||void 0===e?void 0:e.bhs)?null===e||void 0===e||null===(u=e.signer)||void 0===u?void 0:u.position_name:(h=null===e||void 0===e||null===(m=e.signer)||void 0===m?void 0:m.position_name,{"direktur utama":"President Director","direktur pengembangan bisnis":"Director of Business Development","direktur komersial":"Director of Commercial","direktur umum dan keuangan":"Director of General Affairs and Finance","kepala managemen resiko":"Head of Risk Management","kepala satuan pengawas internal":"Head of Internal Supervisory Unit","manajer agro dan jasa lainnya":"Manager of Agro and Other Services","manajer industri dan perdagangan":"Manager of Industry and Trade","manajer keuangan":"Finance Manager","manajer manajemen investasi":"Investment Management Manager","manajer migas, minerba dan ebtke":"Oil, Gas, Mineral, and EBTKE Manager","manajer pemasaran":"Marketing Manager","manajer pembinaan anak usaha/afiliasi":"Manager of Subsidiaries/ Affiliates Development","manajer penelitian dan pengembangan":"Research and Development Manager","manajer sumber daya manusia":"Human Resources Manager","manajer teknikal dan operasi":"Technical and Operations Manager","manajer teknologi informasi":"Information Technology Manager","manajer umum":"General Division Manager","supervisor agro dan jasa lainnya":"Supervisor of Agro and Other Services","supervisor hukum dan legalitas perusahaan":"Supervisor of Legal Affairs and Corporate Legality","supervisor industri dan perdagangan":"Supervisor of Industry and Trade","supervisor keuangan":"Finance Supervisor","supervisor manajemen investasi":"Investment Management Supervisor","supervisor manajemen resiko":"Risk Management Supervisor","supervisor migas, minerba dan ebtke":"Oil, Gas, Mineral, and EBTKE Supervisor","supervisor minerba":"Mineral Supervisor","supervisor pemasaran":"Marketing Supervisor","supervisor pembinaan anak usaha/afiliasi":"Supervisor of Subsidiaries/Affiliates Development","supervisor penelitian dan pengembangan":"Research and Development Supervisor","supervisor scm":"SCM  Supervisor","supervisor sumber daya manusia":"Human Resources Supervisor","supervisor teknikal dan operasi":"Technical and Operations Supervisor","supervisor teknikal dan operasi (agro dan jasa lainnya)":"Technical and Operations Supervisor (Agro and Other Services)","supervisor teknikal dan operasi (migas dan ebtke)":"Technical and Operations Supervisor (Oil, Gas, and EBTKE)","supervisor teknikal operasi (minerba)":"Technical Operations Supervisor (Mineral)","supervisor teknologi informasi":"Information Technology Supervisor","supervisor umum":"General Division Supervisor","sekretaris perusahaan":"Secretary of Company"}[h.toLowerCase()]||"")),style:"normal"}],unbreakable:!0,margin:[0,10]},{text:(null===e||void 0===e||null===(p=e.tembusans)||void 0===p?void 0:p.length)>0?"Tembusan Yth : ":"",style:"normal"},{ol:null===e||void 0===e?void 0:e.tembusans}],background:()=>null!==e&&void 0!==e&&e.draft?{image:s.A.draft,width:300,height:300,opacity:.2,marginTop:250,marginLeft:150}:"",styles:{boldText:{bold:!0}},images:d.images,header:e=>1!==e?{text:""}:{image:s.A.headSurat,width:"595"},footer:(e,a)=>e!==a?{text:""}:{image:s.A.footSurat,width:"595"},defaultStyle:{font:"Archivo",fontSize:10,color:"#000",ol:{margin:[0,0,0,0],padding:[0,0,0,0]}}};i.createPdf(r).getBase64((e=>{e?t(e):l(new Error("Error generating base64 PDF"))}))}}var h}))},12955:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Le});var i=t(65043),l=t(81509),n=t(77199),s=t(80045),o=t(49157),r=t(18353),d=t(26259),c=t(55080),u=t(22016),m=t(15710),p=t(86506),h=t(24056),v=t(96460),g=t(55918),x=t.n(g),b=t(93933),j=t(73216),y=t(30342),A=t(93397),f=t(89379),S=t(30815),k=t(37682),w=t(6839),N=t(37970),D=t(98288),C=t(89804),L=t(16544),_=t(45061),M=t(74301),T=t(84304),I=t(62421);const P=e=>new Promise((a=>{let t="";const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{t=i.result,a(t)}}));var F=t(82959),B=t(46913);const E=function(e){if(e<=0||e>3999)return"Angka di luar rentang yang valid (1-3999)";const a=[{value:1e3,symbol:"M"},{value:900,symbol:"CM"},{value:500,symbol:"D"},{value:400,symbol:"CD"},{value:100,symbol:"C"},{value:90,symbol:"XC"},{value:50,symbol:"L"},{value:40,symbol:"XL"},{value:10,symbol:"X"},{value:9,symbol:"IX"},{value:5,symbol:"V"},{value:4,symbol:"IV"},{value:1,symbol:"I"}];let t="";for(let i=0;i<a.length;i++)for(;e>=a[i].value;)t+=a[i].symbol,e-=a[i].value;return t};var R=t(70579);const Y=e=>{let{divisis:a,mydivisi:t,refresh:l,func1:n,detailSurat:s,updateForm:o}=e;const r=(0,A.A)(),c=(0,i.useRef)(),u=JSON.parse(localStorage.getItem("dataSurat")),m=null!==u&&void 0!==u&&u.id?null===u||void 0===u?void 0:u.id:"",p=null!==u&&void 0!==u&&u.tglSurat?null===u||void 0===u?void 0:u.tglSurat:(new Date).toISOString(),h=null!==u&&void 0!==u&&u.nomorSurat?null===u||void 0===u?void 0:u.nomorSurat:". . . /PEMA/".concat(E((new Date).getMonth()+1),"/").concat((new Date).getFullYear()),[v,g]=(0,i.useState)((null===u||void 0===u?void 0:u.ttdBys)||[]),[x,b]=(0,i.useState)((null===u||void 0===u?void 0:u.kepada)||""),[j,y]=(0,i.useState)((null===u||void 0===u?void 0:u.perihal)||""),[Y,z]=(0,i.useState)((null===u||void 0===u?void 0:u.ttdBy)||""),[H,O]=(0,i.useState)((null===u||void 0===u?void 0:u.tembusan)||""),[U,K]=(0,i.useState)((null===u||void 0===u?void 0:u.tembusans)||[]),[G,J]=(0,i.useState)((null===u||void 0===u?void 0:u.lampiran)||"0"),[q,V]=(0,i.useState)((null===u||void 0===u?void 0:u.jenislampiran)||"Eks"),[W,X]=(0,i.useState)((null===s||void 0===s?void 0:s.fileLampiran)||""),[Z,Q]=(0,i.useState)((null===u||void 0===u?void 0:u.divisi)||t),[$,ee]=(0,i.useState)((null===u||void 0===u?void 0:u.berang)||"form1"),[ae,te]=(0,i.useState)((null===u||void 0===u?void 0:u.isiSurat)||"Dengan Hormat"),[ie,le]=(0,i.useState)(""),[ne,se]=(0,i.useState)(!1),[oe,re]=(0,i.useState)((null===u||void 0===u?void 0:u.bhs)||"id");(0,i.useEffect)((()=>{localStorage.setItem("dataSurat",JSON.stringify({id:m,kepada:x,perihal:j,ttdBy:Y,tembusans:U,lampiran:G,jenislampiran:q,divisi:Z,berang:$,ttdBys:v,isiSurat:ae,signer:null===v||void 0===v?void 0:v.find((e=>e.employe_id===Y)),tglSurat:p,nomorSurat:h,draft:!0,bhs:oe}))}),[x,j,Y,U,G,q,Z,$,v,ae,oe]);(0,i.useEffect)((()=>{r.get("dapi/adm/signers/".concat(Z)).then((e=>{g(e.data.data),e.data.data.find((e=>e.employe_id===Y))?z(null===u||void 0===u?void 0:u.ttdBy):z("")}))}),[Z]),(0,i.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("dataSurat"));le(""),"form3"===$&&(""!==G&&""===W&&Number(G)>0?((0,F.x)("error","Lampiran harus 0 jika tidak ada File"),ee("form1")):setTimeout((async function(){try{const a=await(0,T.A)(e,c);(0,M.A)(a,W.replace("data:application/pdf;base64,","")).then((e=>{le(e)}))}catch(a){console.log(a)}}),1e3)),"form2"===$&&(""!==Z&&""!==x&&""!==j&&""!==Y||(ee("form1"),(0,F.x)("error","Silakan Lengkapi Data !!!")))}),[$]);const de=()=>{l(),n(!1),localStorage.removeItem("dataSurat")};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{ref:c,style:{display:"none"},children:(0,R.jsx)(_.QRCode,{value:"".concat("https://sys.ptpema.co.id/","verification/").concat(null===u||void 0===u?void 0:u.doc_number),size:400,qrStyle:"dots",logoImage:B,logoWidth:100,logoHeight:100,eyeRadius:20,fgColor:"#0F52BA"})}),"form1"===$?(0,R.jsxs)(S.A,{className:"pe-4 ps-4 mt-5",children:[(null===a||void 0===a?void 0:a.length)>0&&(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsx)(k.A,{select:!0,style:{width:"100%"},variant:"outlined",value:Z,onChange:e=>Q(e.target.value),label:"Pilih Divisi",children:null===a||void 0===a?void 0:a.map((e=>(0,R.jsx)(N.A,{value:null===e||void 0===e?void 0:e.organization_id,children:null===e||void 0===e?void 0:e.organization_name},null===e||void 0===e?void 0:e.organization_id)))})}),(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsx)(k.A,{id:"outlined-basic",style:{width:"100%"},label:"Surat ini Ditujukan Kepada",value:x,onChange:e=>b(e.target.value),variant:"outlined"})}),(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsx)(k.A,{id:"outlined-basic",style:{width:"100%"},label:"Perihal Surat",value:j,onChange:e=>y(e.target.value),variant:"outlined"})}),(null===v||void 0===v?void 0:v.length)>0&&(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsx)(k.A,{select:!0,style:{width:"100%"},variant:"outlined",value:Y,onChange:e=>z(e.target.value),label:"Ditandatangani Oleh",children:null===v||void 0===v?void 0:v.map((e=>(0,R.jsx)(N.A,{value:null===e||void 0===e?void 0:e.employe_id,children:null===e||void 0===e?void 0:e.first_name},null===e||void 0===e?void 0:e.employe_id)))})}),(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsx)(k.A,{type:"number",id:"outlined-basic",style:{width:"100%"},label:"Jumlah Lampiran",value:G,placeholder:"3",inputProps:{min:0},onChange:e=>J(e.target.value),variant:"outlined"})}),G>0?(0,R.jsxs)(S.A,{className:"mb-3",children:[(0,R.jsxs)(D.A,{children:[(0,R.jsx)(k.A,{id:"outlined-basic",style:{width:"80%"},label:"Jenis Lampiran",value:q,placeholder:"Dokumen",onChange:e=>V(e.target.value),variant:"outlined"}),(0,R.jsx)(d.A,{color:"secondary",outline:!0,style:{width:"20%"},onClick:()=>document.getElementById("input-file").click(),children:W?"Ubah Lampiran":"Upload Lampiran"}),""===W&&""!==G?(0,R.jsx)("small",{className:"text-danger",children:"Silakan Upload File Lampiran dalam bentuk PDF dan tentukan jenis lampiran"}):""]}),(0,R.jsx)("input",{type:"file",id:"input-file",style:{display:"none"},accept:"application/pdf",onChange:e=>{P(e.target.files[0]).then((e=>{X(e)})).catch((e=>{console.log(e)}))}})]}):"",(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsxs)(D.A,{children:[(0,R.jsx)(d.A,{style:{width:"10%"},onClick:()=>{""!==H&&(K([...U,H]),O(""))},children:"+"}),(0,R.jsx)(k.A,{id:"outlined-basic",style:{width:"90%"},label:"Tembusan",value:H,placeholder:"PJ Gubernur Aceh",onChange:e=>O(e.target.value),variant:"outlined"})]})}),(null===U||void 0===U?void 0:U.length)>0?(0,R.jsxs)(S.A,{sx:{p:2,borderRadius:1,border:"0.5px solid #C4C4C4"},className:"mb-3",children:["Tembusan :",(0,R.jsx)("ul",{children:null===U||void 0===U?void 0:U.map((e=>(0,R.jsxs)("li",{children:[" ",(0,R.jsx)(C.A,{color:"danger",style:{cursor:"pointer"},onClick:()=>{return a=e,void K(U.filter((e=>e!==a)));var a},children:"Hapus"})," ",e]},e)))})]}):"",(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsxs)(k.A,{select:!0,style:{width:"100%"},variant:"outlined",value:oe,onChange:e=>re(e.target.value),label:"Bahasa Surat",children:[(0,R.jsx)(N.A,{value:"id",children:"Bahasa Indonesia"},"id"),(0,R.jsx)(N.A,{value:"en",children:"Bahasa Inggris"},"en")]})}),(0,R.jsx)(S.A,{className:"mb-3 mt-5",style:{display:"flex"},children:(0,R.jsx)(d.A,{style:{marginLeft:"auto"},color:"success",onClick:()=>ee("form2"),children:"Selanjutnya"})})]}):"","form2"===$?(0,R.jsxs)(S.A,{className:"pe-4 ps-4 mt-5",children:[""!==ae&&(0,R.jsx)(w.K,{apiKey:"wsaajswvlat7i5hpef2b0yqpalytaz042xu9j0djrz6sbpwr",init:{height:500,plugins:["table","anchor","autolink","charmap","codesample","emoticons","image","link","advlist","lists","media","searchreplace","visualblocks","wordcount","code"],branding:!1,toolbar:"undo redo | bold italic underline strikethrough | tableCustom | table mergetags |superscript subscript | alignleft aligncenter alignright alignjustify | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat | code",setup:e=>{e.ui.registry.addButton("tableCustom",{icon:"fa fa-plus",tooltip:"Borderles Table",onAction:()=>{(e=>{e.insertContent('<table style="border-collapse: collapse; width: 100%; border: 0px;">\n          <tbody>\n          <tr>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 32.1429%;">Nama Acara</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 2.00348%;">:</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 65.8537%;">Presentasi Project Kopi</td>\n          </tr>\n          <tr>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 32.1429%;">Hari / Tanggal</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 2.00348%;">:</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 65.8537%;">Kamis, 16 Januari 1998</td>\n          </tr>\n          <tr>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 32.1429%;">Waktu</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 2.00348%;">:</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 65.8537%;">Jam 10:25 WIB</td>\n          </tr>\n          <tr>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 32.1429%;">Tempat Acara Kegiatan</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 2.00348%;">:</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 65.8537%;">Kantor PT Pembangunan Aceh (PEMA)</td>\n          </tr>\n          </tbody>\n        </table>\n')})(e)}})}},value:ae,onEditorChange:e=>te(""===e?" ":e.replace(/(<br\s*\/?>\s*)+<table/gi,"<table"))}),(0,R.jsx)(S.A,{className:"mb-3 mt-5",style:{display:"flex"},children:(0,R.jsxs)(L.A,{style:{marginLeft:"auto"},children:[(0,R.jsx)(d.A,{color:"warning",onClick:()=>ee("form1"),children:"Sebelumnya"}),(0,R.jsx)(d.A,{color:"success",onClick:()=>ee("form3"),children:"Selanjutnya"})]})})]}):"","form3"===$?(0,R.jsxs)(S.A,{className:"pe-4 ps-4 mt-5",children:[""!==ie?(0,R.jsx)("object",{data:"".concat(ie,"#navpanes=0"),type:"application/pdf",width:"100%",height:"580",children:"Load"}):(0,R.jsx)(I.A,{}),(0,R.jsx)(S.A,{className:"mb-3 mt-5",style:{display:"flex"},children:(0,R.jsxs)(L.A,{style:{marginLeft:"auto"},children:[(0,R.jsx)(d.A,{color:"warning",onClick:()=>ee("form2"),children:"Sebelumnya"}),o?(0,R.jsx)(d.A,{color:"success",onClick:()=>(async()=>{se(!0);const e=(0,f.A)((0,f.A)({},u),{},{fileLampiran:W,type:"main"});await r.post("dapi/adm/update",e).then((e=>{console.log(null===e||void 0===e?void 0:e.data),200===e.status?((0,F.x)("success","Dokumen Berhasil diupdate !"),de()):(0,F.x)("error","Dokumen Gagal diupdate, Hubungi Tim IT untuk problem selanjutnya !"),se(!1)})).catch((e=>{(0,F.x)("error","".concat(e.message)),se(!1)}))})(),disabled:ne,children:ne?"Loading...":"Update"}):(0,R.jsx)(d.A,{color:"success",onClick:()=>(async()=>{se(!0);const e=(0,f.A)((0,f.A)({},u),{},{fileLampiran:W,type:"main"});await r.post("dapi/adm/insert",e).then((e=>{console.log(null===e||void 0===e?void 0:e.data),200===e.status?((0,F.x)("success","Dokumen Berhasil submit !"),de()):(0,F.x)("error","Dokumen Gagal submit, Hubungi Tim IT untuk problem selanjutnya !"),se(!1)})).catch((e=>{(0,F.x)("error","".concat(e.message)),se(!1)}))})(),disabled:ne,children:ne?"Loading...":"Submit"})]})})]}):""]})};var z=t(58786),H=t(72679),O=t(23222),U=t(20782),K=t(60446),G=t.n(K),J=(t(67819),t(20917));t(46600);const q=e=>{let{type:a,data:t,func1:l}=e;return G().locale("id"),(0,i.useEffect)((()=>{console.log(t)}),[t]),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("h5",{children:"Log Dokumen"}),(0,R.jsx)("hr",{style:{marginTop:-2}}),(null===t||void 0===t?void 0:t.length)>0?(0,R.jsx)(R.Fragment,{children:(0,R.jsx)("div",{className:"px-4",children:(0,R.jsx)("ul",{className:"timeline ",children:null===t||void 0===t?void 0:t.map(((e,t)=>{var i,n;return(0,R.jsxs)("li",{children:[(0,R.jsx)("h5",{style:{marginBottom:"-1px"},className:"fw-bold",children:"sm"===a?e.nama:e.first_name}),(0,R.jsx)(C.A,{className:"text-dark",color:"light",style:{paddingLeft:"2px",paddingRight:"2px"},children:"sm"===a?e.position:e.position_name}),0!==t&&"sm"===a&&e.dispo?(0,R.jsx)(C.A,{className:"text-light ms-2 px-3",color:"dark",style:{cursor:"pointer"},onClick:()=>l(e),children:"Lembar Disposisi"}):"",(0,R.jsx)("span",{className:"float-end small fw-lighter",children:G()("sm"===a?e.waktu:e.created_at).locale("id").format("dddd, DD MMMM YYYY HH:mm")}),(0,R.jsxs)("p",{className:"mt-2 small",children:[e.activity,(0,R.jsx)("br",{}),(0,R.jsx)("span",{className:"fst-italic",children:(null===e||void 0===e||null===(i=e.cc)||void 0===i?void 0:i.length)>0&&"CC : ".concat(null===e||void 0===e||null===(n=e.cc)||void 0===n?void 0:n.join(", "))})]})]},"sm"===a?e.employe_id:e.id)}))})})}):(0,R.jsx)(I.A,{})]})};var V=t(12327),W=t(22345);const X=e=>{let{data:a}=e;return(0,i.useEffect)((()=>{console.log(a)})),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("h5",{children:"List Approval Dokumen"}),(0,R.jsx)("hr",{style:{marginTop:-2}}),(null===a||void 0===a?void 0:a.length)>0?(0,R.jsx)("div",{className:" p-5",children:null===a||void 0===a?void 0:a.map((e=>{var t,i,l;return(0,R.jsx)("div",{children:e.step%2!==0?(0,R.jsxs)("div",{children:[(0,R.jsxs)(V.A,{children:[(0,R.jsx)(W.A,{lg:5,children:(0,R.jsx)("div",{className:"process-box process-left",children:(0,R.jsxs)(V.A,{children:[(0,R.jsx)(W.A,{lg:5,children:(0,R.jsxs)("div",{className:"process-step",children:[(0,R.jsx)("p",{className:"m-0 p-0",children:"Step"}),(0,R.jsx)("h2",{className:"m-0 p-0",children:e.step.toString().padStart(2,"0")}),(0,R.jsx)(C.A,{color:"secondary",className:"badge-status",style:{width:"100%"},children:e.type})]})}),(0,R.jsxs)(W.A,{lg:7,children:[(0,R.jsx)("b",{children:e.first_name}),(0,R.jsx)("br",{}),(0,R.jsx)("small",{children:(0,R.jsxs)("i",{children:[null===(t=e.position_name)||void 0===t?void 0:t.substring(0,22),e.position_name.length>22?" . . .":""]})}),(0,R.jsx)("br",{}),(0,R.jsxs)("small",{className:"approve"===e.status?"text-success":"rejected"===e.status?"text-danger":"text-muted",children:[e.status?"approve"===e.status?"Disetujui ":"Tidak Disetujui":"Menunggu Persetujuan"," ",(0,R.jsx)("br",{}),e.status?G()(e.updated_at).locale("id").format("dddd, DD MMMM YYYY HH:mm"):" "]})]})]})})}),(0,R.jsx)(W.A,{lg:2}),(0,R.jsx)(W.A,{lg:5,className:"d-none d-sm-none d-md-none d-lg-block",style:{position:"relative"},children:(0,R.jsx)("div",{className:e.step===a.length?"process-point-right process-last":"process-point-right"})})]}),(0,R.jsx)("br",{className:"d-block d-md-block d-lg-none mt-5"}),(0,R.jsx)("br",{className:"d-block d-md-block d-lg-none mt-5"})]}):(0,R.jsxs)("div",{children:[(0,R.jsxs)(V.A,{children:[(0,R.jsx)(W.A,{lg:5,className:"d-none d-sm-none d-md-none d-lg-block",style:{position:"relative"},children:(0,R.jsx)("div",{className:e.step===a.length?"process-point-left process-last":"process-point-left"})}),(0,R.jsx)(W.A,{lg:2}),(0,R.jsx)(W.A,{lg:5,children:(0,R.jsx)("div",{className:"process-box process-right",children:(0,R.jsxs)(V.A,{children:[(0,R.jsx)(W.A,{lg:5,children:(0,R.jsxs)("div",{className:"process-step ",children:[(0,R.jsx)("p",{className:"m-0 p-0",children:"Step"}),(0,R.jsx)("h2",{className:"m-0 p-0",children:e.step.toString().padStart(2,"0")}),(0,R.jsx)(C.A,{color:"secondary",className:"badge-status",style:{width:"100%"},children:e.type})]})}),(0,R.jsxs)(W.A,{lg:7,children:[(0,R.jsx)("b",{children:e.first_name}),(0,R.jsx)("br",{}),(0,R.jsx)("small",{children:(0,R.jsxs)("i",{children:[null===(i=e.position_name)||void 0===i?void 0:i.substring(0,22),(null===(l=e.position_name)||void 0===l?void 0:l.length)>22?" . . .":""]})}),(0,R.jsx)("br",{}),(0,R.jsxs)("small",{className:"approve"===e.status?"text-success":"rejected"===e.status?"text-danger":"text-muted",children:[e.status?"approve"===e.status?"Disetujui ":"Tidak Disetujui":"Menunggu Persetujuan"," ",(0,R.jsx)("br",{}),e.status?G()(e.updated_at).locale("id").format("dddd, DD MMMM YYYY HH:mm"):" "]})]})]})})})]}),(0,R.jsx)("br",{className:"d-block d-md-block d-lg-none mt-5"}),(0,R.jsx)("br",{className:"d-block d-md-block d-lg-none mt-5"})]})},e.step)}))}):(0,R.jsx)(I.A,{})]})};var Z=t(57972),Q=t(74605),$=t(34791),ee=t(11906);const ae=e=>{let{data:a,refresh:t,closeModal:l}=e;const[n,s]=i.useState("approve"),[o,r]=i.useState(),[d,c]=i.useState(!1),u=(0,A.A)();return console.log(a),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("h5",{className:"text-capitalize",children:[null===a||void 0===a?void 0:a.current_type," Dokumen"]}),(0,R.jsx)("hr",{style:{marginTop:-2}}),(0,R.jsx)(S.A,{className:"mb-3",sx:{p:1,borderRadius:2,marginTop:2,border:"0.5px solid #1c8ee6",color:"#1c8ee6"},children:(0,R.jsxs)(Z.A,{row:!0,"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:n,onChange:e=>s(e.target.value),className:"d-flex justify-content-between",children:[(0,R.jsx)(Q.A,{value:"approve",control:(0,R.jsx)($.A,{}),label:"paraf"===(null===a||void 0===a?void 0:a.current_type)?"Paraf Dokumen":"Tanda Tangan Dokumen",className:"me-5"},"approve"),(0,R.jsx)(Q.A,{value:"rejected",control:(0,R.jsx)($.A,{}),label:"paraf"===(null===a||void 0===a?void 0:a.current_type)?"Tolak Paraf Dokumen":"Tolak Tanda Tangan Dokumen",className:"me-5"},"rejected")]})}),(0,R.jsx)(k.A,{style:{width:"100%"},id:"outlined-multiline-static",placeholder:"Lorem ipsum dolor sit amet,\r\nlorem ipsum dolo\r\nLorem ipsum,",label:"Catatan Persetujuan",value:o,onChange:e=>r(e.target.value),multiline:!0,rows:4}),(0,R.jsx)(ee.A,{color:"primary",variant:"contained",style:{width:"100%"},className:"mt-4",disabled:d,onClick:()=>{c(!0),"approve"!==n&&""===o?((0,F.x)("error","Catatan harus diisi !"),c(!1)):u.post("dapi/adm/surat/review/".concat(null===a||void 0===a?void 0:a.no_document),{status:n,catatan_persetujuan:o}).then((e=>{200===e.status?((0,F.x)("success","Berhasil ".concat(null===a||void 0===a?void 0:a.current_type," dokumen")),t(),l()):(0,F.x)("error","Gagal ".concat(null===a||void 0===a?void 0:a.current_type," dokumen")),c(!1)})).catch((e=>{(0,F.x)("error","".concat(e.message)),c(!1)}))},children:d?"Loading . . .":"Simpan"})]})};var te=t(90469),ie=t(91014);const le=(0,t(72738).Ay)(),ne=e=>{let{data:a,refresh:t,closeModal:l}=e;const[n,s]=(0,i.useState)(null),[o,r]=(0,i.useState)([]),[d,c]=(0,i.useState)([]),[u,m]=(0,i.useState)([]),[p,h]=(0,i.useState)([]),[v,g]=(0,i.useState)([]),[x,b]=(0,i.useState)([]),[j,y]=(0,i.useState)(""),[w,D]=(0,i.useState)([]),[C,L]=(0,i.useState)([]),[_,M]=(0,i.useState)(""),[T,I]=(0,i.useState)(!1),P=(0,A.A)();(0,i.useEffect)((()=>{P.get("dapi/adm/dispo/to").then((e=>{var a,t,i,l,n,s,o,d;r(null===(a=e.data.data)||void 0===a||null===(t=a.disposisi)||void 0===t?void 0:t.direksi),c(null===(i=e.data.data)||void 0===i||null===(l=i.disposisi)||void 0===l?void 0:l.manager_eks),m(null===(n=e.data.data)||void 0===n||null===(s=n.disposisi)||void 0===s?void 0:s.divisions),h(null===(o=e.data.data)||void 0===o?void 0:o.cc),b(null===(d=e.data.data)||void 0===d?void 0:d.cc)})),M(null===a||void 0===a?void 0:a.id_surat)}),[a]);(0,i.useEffect)((()=>{console.log(C)}),[C]),(0,i.useEffect)((()=>{g(null===v||void 0===v?void 0:v.filter((e=>(null===e||void 0===e?void 0:e.employe_id)!==(null===n||void 0===n?void 0:n.employe_id)))),b(null===p||void 0===p?void 0:p.filter((e=>(null===e||void 0===e?void 0:e.employe_id)!==(null===n||void 0===n?void 0:n.employe_id))))}),[n]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("h5",{style:{marginBottom:"-2px"},children:["Disposisi Surat ",null===a||void 0===a?void 0:a.nomor]}),(0,R.jsxs)("span",{className:"small fst-italic",children:["Perihal ",null===a||void 0===a?void 0:a.perihal]}),(0,R.jsx)("hr",{}),(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsxs)(k.A,{select:!0,style:{width:"100%"},variant:"outlined",value:n||"",onChange:e=>s(e.target.value),label:"Disposisi Kepada",children:[null===n&&(0,R.jsx)(N.A,{value:null,className:"fst-italic small",children:"Silakan Pilih Tujuan Disposisi . . . . "}),(0,R.jsx)(te.A,{style:{backgroundColor:"#f5f5f5"},children:(0,R.jsx)("strong",{children:"DIREKTUR TERKAIT"})}),null===o||void 0===o?void 0:o.map((e=>(0,R.jsx)(N.A,{className:"ms-2",value:e,children:e.position_name},null===e||void 0===e?void 0:e.employe_id))),(0,R.jsx)(te.A,{style:{backgroundColor:"#f5f5f5"},children:(0,R.jsx)("strong",{children:"MANAGER EKSEKUTIF"})}),null===d||void 0===d?void 0:d.map((e=>(0,R.jsx)(N.A,{className:"ms-2",value:e,children:e.position_name},null===e||void 0===e?void 0:e.employe_id))),(0,R.jsx)(te.A,{style:{backgroundColor:"#f5f5f5"},children:(0,R.jsx)("strong",{children:"DIVISI TERKAIT"})}),null===u||void 0===u?void 0:u.map((e=>(0,R.jsx)(N.A,{className:"ms-2",value:e,children:e.position_name},null===e||void 0===e?void 0:e.employe_id)))]})}),(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsx)(ie.Ay,{placeholder:"Tickler Disposisi",components:le,isMulti:!0,styles:{control:e=>(0,f.A)((0,f.A)({},e),{},{minHeight:"55px"}),menu:e=>(0,f.A)((0,f.A)({},e),{},{background:"#f0f0f0",borderRadius:4,zIndex:10})},value:w,options:[{value:"Diwakilkan",label:"Diwakilkan"},{value:"Diproses",label:"Diproses / Dilaksanakan"},{value:"Ditindaklanjuti",label:"Ditindaklanjuti"},{value:"Dipelajari",label:"Dipelajari"},{value:"Dihadiri",label:"Dihadiri"},{value:"Dimonitor",label:"Dimonitor"},{value:"Diarsip",label:"Diarsip / Difile"}],onChange:e=>{D(e),L((a=>[...a,...e.map((e=>e.value))]))},isClearable:C.some((e=>!e.isFixed))})}),(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsx)(ie.Ay,{placeholder:"Carbon Copy (CC)",components:le,isMulti:!0,styles:{control:e=>(0,f.A)((0,f.A)({},e),{},{minHeight:"55px"}),menu:e=>(0,f.A)((0,f.A)({},e),{},{background:"#f0f0f0",borderRadius:4,zIndex:10})},value:v,options:x,onChange:e=>{g(e)},isClearable:v.some((e=>!e.isFixed))})}),(0,R.jsxs)(S.A,{className:"mb-3",children:[" ",(0,R.jsx)(k.A,{style:{width:"100%"},id:"outlined-multiline-static",placeholder:"Lorem ipsum dolor sit amet,\r\nlorem ipsum dolo\r\nLorem ipsum,",label:"Catatan",value:j,onChange:e=>y(e.target.value),multiline:!0,rows:4})]}),(0,R.jsx)(S.A,{className:"mb-3 mt-4",children:(0,R.jsx)(ee.A,{variant:"contained",color:"primary",style:{width:"100%"},onClick:async()=>{I(!0),await P.post("dapi/adm/suratmasuk/diposisi/".concat(_),{catatan:j,tickler:C,to:n,what:"dispo",cc:v}).then((e=>{I(!1),200===e.status&&(t(),l(),(0,F.x)("success","Disposisi Berhasil !"))})).catch((e=>{console.log(e)}))},disabled:T,children:T?"Loading . . .":"Disposisi"})})]})};var se=t(54211),oe=t(55360),re=t.n(oe),de=t(91769);const ce=t(49784),ue=e=>new Promise((()=>{var a,t,i,l,n,s,o;se.vfs=ce.pdfMake.vfs,se.fonts={Archivo:{normal:"Archivo-Regular.ttf",bold:"Archivo-SemiBold.ttf",italics:"Archivo-Italic.ttf",bolditalics:"Archivo-SemiBoldItalic.ttf"}};const r=null!==e&&void 0!==e&&e.tickler?null===e||void 0===e?void 0:e.tickler.split(","):[];let d='<ul style="list-style-type: square; margin-left:15">';for(let e=0;e<(null===r||void 0===r?void 0:r.length);e++)d+="<li>".concat(r[e],"</li>");d+="</ul>";let c="<br>CC ";for(let h=0;h<(null===e||void 0===e||null===(u=e.cc)||void 0===u?void 0:u.length);h++){var u;c+="<br><span>      ".concat(null===e||void 0===e?void 0:e.cc[h],"</span>")}const m='\n        <table style="border-collapse: collapse; width: 100%;" border="1"><colgroup><col style="width: 50%;"><col style="width: 50%;"></colgroup>\n          <tbody>\n            <tr>\n              <td colspan="2" style="margin-bottom:-4; text-align:center"><h5>LEMBAR DISPOSISI</h5></td>\n            </tr>\n\n\n            <tr>\n            <td colspan="2" style="margin-bottom:-2; margin-top:-3;">\n             <table style="border-collapse: collapse; width: 100%; border: 0px;">\n                <tbody>\n                  <tr>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 15%;">Surat Dari</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 1%;">:</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 84%;">'.concat(null===e||void 0===e||null===(a=e.detail)||void 0===a?void 0:a.pengirim,'</td>\n                  </tr>\n                </tbody>\n                </table>\n             </td>\n            </tr>\n\n            <tr>\n            <td  style="margin-top:-3;margin-bottom:1">\n              <table style="border-collapse: collapse; width: 100%; border: 0px;">\n                <tbody>\n                <tr>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 30%;">Nomor Surat</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 2%;">:</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 72%;">').concat(null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.nomor,'</td>\n                </tr>\n                <tr>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 30%;">Tgl Surat</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 2%;">:</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 72%;">').concat(new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"long",year:"numeric"}).format(new Date(null===e||void 0===e||null===(i=e.detail)||void 0===i?void 0:i.tgl_surat)),'</td>\n                </tr>\n                </tbody>\n                </table>\n            </td>\n            \n            <td  style="margin-top:-3;margin-bottom:1">\n              <table style="border-collapse: collapse; width: 100%; border: 0px;">\n                <tbody>\n                <tr>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 30%;">Diterima</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 2%;">:</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 72%;">').concat(new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"long",year:"numeric"}).format(new Date(null===e||void 0===e||null===(l=e.detail)||void 0===l?void 0:l.created_at)),'</td>\n                </tr>\n                <tr>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 30%;">Via</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 2%;">:</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 72%;">').concat(null===e||void 0===e||null===(n=e.detail)||void 0===n?void 0:n.via,'</td>\n                </tr>\n                </tbody>\n                </table>\n            </td>\n            </tr>\n\n            <tr>\n            <td colspan="2" style="margin-bottom:-2; margin-top:-3;">\n             <table style="border-collapse: collapse; width: 100%; border: 0px;">\n                <tbody>\n                  <tr>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 15%;">Perihal</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 1%;">:</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 84%;">').concat(null===e||void 0===e||null===(s=e.detail)||void 0===s?void 0:s.perihal,'</td>\n                  </tr>\n                </tbody>\n                </table>\n             </td>\n            </tr>\n\n            <tr>\n            <td style="margin:4">\n              Didisposisikan Kepada <br>\n              <span>      <strong>').concat(null===e||void 0===e?void 0:e.to,"</strong></span><br>\n              ").concat((null===e||void 0===e||null===(o=e.cc)||void 0===o?void 0:o.length)>0&&c,'\n\n            </td>\n            \n           <td style="margin:4">\n              Dengan Hormat harap \n               ').concat((null===r||void 0===r?void 0:r.length)>0&&d,'\n            </td>\n            </tr>\n\n\n             <tr>\n            <td colspan="2" style="margin-bottom:-2; margin-top:-3; height:150;border-bottom:0px;">\n             <table style="border-collapse: collapse; width: 100%; border: 0px;">\n                <tbody>\n                  <tr>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 15%;">Catatan</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 1%;">:</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 84%;"></td>\n                  </tr>\n                 \n                </tbody>\n                </table>\n                 <p style="margin-left:20;margin-top:-2;">').concat(null===e||void 0===e?void 0:e.catatan,'</p>\n             </td>\n            </tr>\n            <tr>\n            <td colspan="2" style="margin-bottom:-2; margin-top:-3;border-top:0px;">\n                 <p style="text-align:right; margin-right:3;">').concat(new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"numeric",year:"numeric"}).format(new Date(null===e||void 0===e?void 0:e.waktu)),"<br><br><strong>").concat(null===e||void 0===e?void 0:e.nama,"</strong><br>").concat(null===e||void 0===e?void 0:e.position,'</p>\n    <span style="font-size:8; font-style:italic;"> NB : Lembar disposisi ini merupakan dokumen resmi yang dihasilkan oleh sistem secara otomatis.</span>\n             </td>\n            </tr>\n          </tbody>\n        </table>\n  \n      '),p={pageOrientation:"portrait",pageSize:"A4",pageMargins:[50,100,50,70],content:[re()(m,{defaultStyles:{td:{verticalAlign:"top",marginBottom:0,heigt:"auto"},ol:{margin:[0,0,0,-15],padding:[0,0,0,0]},ul:{margin:[0,0,0,-15],padding:[0,0,0,0]},li:{marginBottom:2},tr:{margin:[-5,0,0,0]},table:{margin:[0,-3,0,-7],width:"100%"},br:{margin:[0,0,0,0]}},tableAutoSize:!0})],background:()=>null!==e&&void 0!==e&&e.draft?{image:de.A.draft,width:300,height:300,opacity:.2,marginTop:250,marginLeft:150}:"",styles:{boldText:{bold:!0}},images:m.images,header:e=>1!==e?{text:""}:{image:de.A.headSurat,width:"595"},footer:(e,a)=>e!==a?{text:""}:{image:de.A.footSurat,width:"595"},defaultStyle:{font:"Archivo",fontSize:10,color:"#000",ol:{margin:[0,0,0,0],padding:[0,0,0,0]}}};se.createPdf(p).open()})),me=e=>{let{listSurat:a,valueNow:t,refresh:l,type:n,update:s,status:o}=e;const r=(0,i.useRef)(),c=(0,A.A)(),u=(0,y.A)(),[m,p]=(0,i.useState)(""),[h,v]=(0,i.useState)(""),[g,x]=(0,i.useState)(""),[b,j]=i.useState(""),[f,S]=i.useState([]),[k,w]=i.useState(),[N,D]=(0,i.useState)(""),[L,I]=(0,i.useState)(),[P,E]=(0,i.useState)(!1),[Y,K]=(0,i.useState)(""),V=()=>E(!P);(0,i.useEffect)((()=>{j(""),S(a),console.log(a)}),[a]),(0,i.useEffect)((()=>{if("masuk"===n){const e=null===a||void 0===a?void 0:a.filter((e=>{var a,t,i;return(null===e||void 0===e||null===(a=e.pengirim)||void 0===a?void 0:a.toLocaleLowerCase().match(null===b||void 0===b?void 0:b.toLocaleLowerCase()))||(null===e||void 0===e||null===(t=e.nomor)||void 0===t?void 0:t.toLocaleLowerCase().match(null===b||void 0===b?void 0:b.toLocaleLowerCase()))||(null===e||void 0===e||null===(i=e.perihal)||void 0===i?void 0:i.toLocaleLowerCase().match(null===b||void 0===b?void 0:b.toLocaleLowerCase()))}));S(e)}else{const e=null===a||void 0===a?void 0:a.filter((e=>{var a,t;return(null===e||void 0===e||null===(a=e.kepada)||void 0===a?void 0:a.toLocaleLowerCase().match(null===b||void 0===b?void 0:b.toLocaleLowerCase()))||(null===e||void 0===e||null===(t=e.nomor_surat)||void 0===t?void 0:t.toLocaleLowerCase().match(null===b||void 0===b?void 0:b.toLocaleLowerCase()))}));S(e)}}),[b]);const W=e=>{p(e),w(null===a||void 0===a?void 0:a.find((a=>a.id===e))),console.log(null===a||void 0===a?void 0:a.find((a=>a.id===e))),c.get("dapi/adm/surat/detail/".concat(e)).then((e=>{!async function(e){try{const a=await(0,T.A)(e,r);(0,M.A)(a,null===e||void 0===e?void 0:e.fileLampiran).then((e=>{window.open(e),console.log(e)}))}catch(a){console.log(a)}}(e.data.data),p("")}))},Z=async e=>{x(e),await c.get("dapi/adm/suratmasuk/detail/".concat(e)).then((e=>{(0,M.A)(e.data.data.file_surat,"").then((e=>{const a=window.open(e);if(!a||a.closed||"undefined"===typeof a.closed){const a=document.createElement("a");a.href=e,a.download="file.txt",document.body.appendChild(a),a.click(),document.body.removeChild(a)}URL.revokeObjectURL(e),x("")}))}))},Q=e=>{I([]),K("sm"),c.get("dapi/adm/suratmasuk/riwayat/".concat(e)).then((e=>{console.log(e.data.data),I(e.data.data)})),V(),D("log")},$=[{name:"Action",width:"".concat("progress"===o?"350px":"230px"),selector:e=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"info",tag:"input",type:"button",value:u.auth.user.roles.includes("SuperAdminAdm")?g===e.id?"Loading . . .":"Lihat Surat":g===e.id_surat?"Loading . . .":"Lihat Surat",onClick:()=>Z(u.auth.user.roles.includes("SuperAdminAdm")?e.id:e.id_surat)}),u.auth.user.roles.includes("SuperAdminAdm")||"done"===o?"":(0,R.jsxs)(R.Fragment,{children:[u.auth.user.roles.includes("Presdir")||u.auth.user.roles.includes("Director")||u.auth.user.roles.includes("ManagerEksekutif")?(0,R.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"dark",tag:"input",type:"button",value:"Dispo",onClick:()=>(e=>{const a=f.find((a=>a.id===e));console.log(a),I(a),D("dispo"),V()})(e.id)}):"",(0,R.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"danger",tag:"input",type:"button",onClick:()=>(e=>{(0,J.ZX)({title:"Attention !",message:"Tombol Tindak Lanjut ini untuk menandakan dokumen sudah mulai ditindaklanjuti",buttons:[{label:"Lanjutkan",onClick:async()=>{await c.post("dapi/adm/suratmasuk/diposisi/".concat(e),{what:"tinjut"}).then((()=>{l(),(0,F.x)("success","Surat Tinjut !")}))}},{label:"Batal",onClick:()=>{}}]})})(e.id_surat),value:"Tinjut"})]}),(0,R.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"success",tag:"input",type:"button",value:"Riwayat",onClick:()=>Q(u.auth.user.roles.includes("SuperAdminAdm")?e.id:e.id_surat)}),u.auth.user.roles.includes("SuperAdminAdm")&&(0,R.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"danger",tag:"input",type:"button",disabled:e.diproses>1,value:"Delete",onClick:()=>(e=>{(0,J.ZX)({title:"Are you sure ?",message:"Be careful, what has gone will not come back",buttons:[{label:"Yes",onClick:async()=>{await c.post("dapi/adm/suratmasuk/delete/".concat(e)).then((()=>{l(),(0,F.x)("success","Surat Deleted !")}))}},{label:"No",onClick:()=>{}}]})})(e.id)})]})},{name:"Tindak Lanjut",selector:e=>"dispo"===(null===e||void 0===e?void 0:e.tindak_lanjut)?"Didisposisi":"Tidak Didisposisi",omit:"done"!==o},{name:"Pada",selector:e=>G()(null===e||void 0===e?void 0:e.ditinjut).locale("id").format("dddd, DD/MM/YY HH:mm"),omit:"done"!==o},{name:"Nomor",selector:e=>null===e||void 0===e?void 0:e.nomor},{name:"Perihal",selector:e=>null===e||void 0===e?void 0:e.perihal},{name:"Pengirim",selector:e=>null===e||void 0===e?void 0:e.pengirim},{name:"Tanggal Surat",selector:e=>G()(null===e||void 0===e?void 0:e.tgl_surat).format("YYYY-MM-DD")},{name:"Diterima Via",selector:e=>e.via},{name:"Tanggal Terima",selector:e=>G()(null===e||void 0===e?void 0:e.diterima).format("YYYY-MM-DD HH:mm:ss"),omit:u.auth.user.roles.includes("SuperAdminAdm")},{name:"Masuk Sistem",selector:e=>G()(null===e||void 0===e?void 0:e.created_at).locale("id").format("dddd, DD/MM/YY HH:mm"),omit:!u.auth.user.roles.includes("SuperAdminAdm")},{name:"Diinput oleh",selector:e=>null===e||void 0===e?void 0:e.by_name,omit:!u.auth.user.roles.includes("SuperAdminAdm")}],ee=[{name:"Action",width:"250px",selector:e=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"info",tag:"input",type:"button",value:u.auth.user.roles.includes("SuperAdminAdm")?g===e.id?"Loading . . .":"Lihat Surat":g===e.id_surat?"Loading . . .":"Lihat Surat",onClick:()=>(async e=>{x(e.id),await c.post("dapi/adm/suratmasuk/read/".concat(null===e||void 0===e?void 0:e.id)).then((a=>{200===a.status&&(l(),Z(e.id_surat))})).catch((e=>{(0,F.x)("error","".concat(e.message))}))})(e)}),(0,R.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"success",tag:"input",type:"button",value:"Riwayat",onClick:()=>Q(u.auth.user.roles.includes("SuperAdminAdm")?e.id:e.id_surat)})]})},{name:"Nomor Surat",selector:e=>e.nomor},{name:"Pengirim",selector:e=>e.pengirim},{name:"Perihal",selector:e=>e.perihal},{name:"Tanggal Surat",selector:e=>G()(null===e||void 0===e?void 0:e.tgl_surat).format("YYYY-MM-DD")},{name:"dicc oleh",selector:e=>e.position},{name:"cc at",selector:e=>G()(null===e||void 0===e?void 0:e.cc_at).locale("id").format("dddd, DD/MM/YY HH:mm")}],te=[{name:"Actions",width:"".concat("3"===t||"approved"===n?"270px":"350px"),selector:e=>(0,R.jsxs)(R.Fragment,{children:["1"===t&&(0,R.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"danger",tag:"input",type:"button",value:h===e.id?"Loading . . .":"Update",onClick:()=>(async e=>{v(e),await s(e).then((()=>{v("")}))})(e.id)}),(0,R.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"info",tag:"input",type:"button",value:m===e.id?"Loading . . .":"Lihat Surat",onClick:()=>W(e.id)}),(0,R.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"dark",tag:"input",type:"button",value:"Approval",onClick:()=>(e=>{I([]);const t=null===a||void 0===a?void 0:a.find((a=>a.id===e));c.get("dapi/eSign/approval/".concat(null===t||void 0===t?void 0:t.no_document)).then((e=>{console.log(e.data.data),I(e.data.data)})),V(),D("approval")})(e.id)}),(0,R.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"success",tag:"input",type:"button",value:"Logs",onClick:()=>(e=>{I([]);const t=null===a||void 0===a?void 0:a.find((a=>a.id===e));c.get("dapi/eSign/logs/".concat(null===t||void 0===t?void 0:t.no_document)).then((e=>{console.log(e.data.data),I(e.data.data)})),V(),D("log")})(e.id)}),"2"===t&&"review"===n&&(0,R.jsx)(d.A,{className:"me-2",size:"sm",outline:!0,color:"warning",tag:"input",type:"button",value:e.current_type,onClick:()=>(e=>{const t=null===a||void 0===a?void 0:a.find((a=>a.id===e));console.log(t),V(),I(t),D("review")})(e.id)})]})},{name:"Nomor Surat",selector:e=>e.nomor_surat},{name:"Kepada",selector:e=>e.kepada},{name:"Perihal",selector:e=>e.perihal},{name:"Divisi",selector:e=>e.divisi_name},{name:"Status",selector:e=>"signed"===e.status?(0,R.jsx)(C.A,{color:"success",style:{width:"100px"},children:"Approved"}):"rejected"===e.status?(0,R.jsx)(C.A,{color:"danger",style:{width:"100px"},children:"Rejected"}):(0,R.jsx)(C.A,{color:"warning",style:{width:"100px"},children:"Under Review"}),omit:"1"!==t&&!0},{name:"Dokumen dibuat",selector:e=>G()(e.created_at).format("DD/MM/YYYY HH:mm")},{name:"".concat("3"===t?"Ditandatangani":"Direview"),selector:e=>G()(e.updated_at).format("DD/MM/YYYY HH:mm"),omit:"review"===n&&!0},{name:"".concat("approved"===n?"Jenis Persetujuan":"Persetujuan saat ini"),selector:e=>"".concat("approved"===n?e.type||"-":e.current_type||"-"),omit:"3"===t&&!0},{name:"Ditandatangani oleh",selector:e=>e.reviewer||"-",omit:"3"!==t&&!0},{name:"Jabatan",selector:e=>e.position_reviewer||"-",omit:"3"!==t&&!0}];return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{ref:r,style:{display:"none"},children:(0,R.jsx)(_.QRCode,{value:"".concat("https://sys.ptpema.co.id/","verification/").concat(null===k||void 0===k?void 0:k.no_document,"?type=sign"),size:400,qrStyle:"dots",logoImage:B,logoWidth:100,logoHeight:100,eyeRadius:20,fgColor:"#0F52BA"})}),(0,R.jsx)(z.Ay,{keyField:"approved"===n?"unique_id":"id",columns:"masuk"===n?$:"cc"===n?ee:te,data:f,pagination:!0,subHeader:!0,conditionalRowStyles:"cc"===n&&[{when:e=>null===e.read_by,style:{backgroundColor:"#d7e9f7"}}],subHeaderComponent:(0,R.jsx)("div",{className:"d-flex justify-content-end w-100",children:(0,R.jsx)(H.A,{type:"text",value:b,placeholder:"search . . . . ",className:"w-25",onChange:e=>j(e.target.value)})})}),(0,R.jsx)(O.A,{isOpen:P,toggle:V,size:"xl",children:(0,R.jsx)(U.A,{children:"log"===N?(0,R.jsx)(q,{type:Y,data:L,func1:e=>{ue(e)}}):"approval"===N?(0,R.jsx)(X,{data:L}):"review"===N?(0,R.jsx)(ae,{data:L,refresh:l,closeModal:V}):"dispo"===N?(0,R.jsx)(ne,{data:L,refresh:l,closeModal:V}):"te"})})]})};var pe=t(51787),he=t(80135),ve=t(89302),ge=t(58390),xe=t(4145),be=t(203);t(94727);G().locale("id");const je=e=>{let{refresh:a,func1:t}=e;const l=(0,A.A)(),[n,s]=(0,i.useState)(!1),[o,r]=i.useState(""),[d,c]=i.useState(""),[u,m]=i.useState(""),[p,h]=i.useState(G()()),v=["Email","Surat Fisik","Whatapps","Lainnya"],[g,b]=i.useState(""),[j,y]=i.useState("3"),[f,w]=i.useState(),[D,C]=i.useState(""),{data:L}=(0,be.I)({queryKey:["dirs"],queryFn:()=>l.get("dapi/adm/direkturs").then((e=>e.data.data))}),[_,M]=i.useState({});(0,i.useEffect)((()=>{M({nomorSurat:o,pengirim:d,perihal:u,tglSurat:p,via:g,dir:j,file:f})}),[o,d,u,p,g,j,f]);return(0,R.jsxs)("div",{children:[(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsx)(k.A,{id:"outlined-basic",style:{width:"100%"},label:"Nomor Surat Masuk",variant:"outlined",value:o,onChange:e=>r(e.target.value)})}),(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsx)(k.A,{id:"outlined-basic",style:{width:"100%"},label:"Pengirim",variant:"outlined",value:d,onChange:e=>c(e.target.value)})}),(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsx)(k.A,{id:"outlined-basic",style:{width:"100%"},label:"Perihal",variant:"outlined",value:u,onChange:e=>m(e.target.value)})}),(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsx)(ge.$,{dateAdapter:ve.R,adapterLocale:"id",children:(0,R.jsx)(he.j,{components:["DatePicker"],children:(0,R.jsx)(xe.l,{label:"Tgl Surat",value:p,onChange:h,sx:{width:"100%"}})})})}),(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsx)(k.A,{select:!0,style:{width:"100%"},variant:"outlined",value:g,onChange:e=>b(e.target.value),label:"Surat diterima Via",children:null===v||void 0===v?void 0:v.map((e=>(0,R.jsx)(N.A,{value:e,children:e},e)))})}),(0,R.jsxs)(S.A,{className:"mb-3",children:[(0,R.jsx)(k.A,{label:"Upload File",variant:"outlined",value:D,fullWidth:!0,placeholder:"Harus PDF maksimal 12 MB",disabled:!0,InputProps:{startAdornment:(0,R.jsx)(pe.A,{position:"start",children:(0,R.jsx)(x(),{icon:"cloud_upload",style:{cursor:"pointer"},onClick:()=>document.getElementById("input-file").click()})})}}),(0,R.jsx)("input",{type:"file",id:"input-file",style:{display:"none"},accept:"application/pdf",onChange:e=>{var a;C(null===(a=e.target.files[0])||void 0===a?void 0:a.name),w(e.target.files[0])}})]}),(null===L||void 0===L?void 0:L.length)>0&&(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsx)(k.A,{select:!0,style:{width:"100%"},variant:"outlined",value:j,onChange:e=>y(e.target.value),label:"Ditujukan Kepada",disabled:!0,children:null===L||void 0===L?void 0:L.map((e=>(0,R.jsx)(N.A,{value:null===e||void 0===e?void 0:e.position_id,children:null===e||void 0===e?void 0:e.position_name},null===e||void 0===e?void 0:e.position_id)))})}),(0,R.jsx)(S.A,{className:"mb-3",children:(0,R.jsx)(ee.A,{disabled:n,variant:"contained",size:"large",style:{width:"100%"},onClick:()=>{Object.values(_).every((e=>""!==e&&null!==e&&void 0!==e))?(0,J.ZX)({title:"Are you sure ?",message:"Be careful, what has gone will not come back",buttons:[{label:"Yes",onClick:async()=>{s(!0),await l.post("dapi/adm/suratmasuk",_,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{200===e.status?(a(),t(!1),(0,F.x)("success","Surat Masuk Berhasil diupload !"),s(!1)):((0,F.x)("error","Surat Masuk Gagal diupload, Hubungi Tim IT untuk problem selanjutnya !"),s(!1))})).catch((e=>{(0,F.x)("error","".concat(e.message)),s(!1)}))}},{label:"No",onClick:()=>{}}]}):(0,F.x)("error","Data belum lengkap, silahkan isi data terlebih dahulu")},children:n?"Loading...":"Simpan Surat Masuk"})})]})};var ye=t(98268),Ae=t(64911),fe=t(6849),Se=t(59196),ke=t(22019),we=t(30094);t(80043);const Ne=()=>{var e,a,t,l,n;const s=(0,A.A)(),{data:o,isLoading:r}=(0,be.I)({queryKey:["dataDash2"],queryFn:()=>s.get("/dapi/adm/dashboard").then((e=>e.data.data))});(0,i.useEffect)((()=>{console.log(null===o||void 0===o?void 0:o.dataDash)}),[o]);const d={chart:{fontFamily:"'Rubik', sans-serif"},dataLabels:{enabled:!1},xaxis:{categories:null===o||void 0===o||null===(e=o.chart)||void 0===e?void 0:e.divisi,labels:{show:!1}},plotOptions:{bar:{distributed:!0,horizontal:!1}},grid:{borderColor:"rgba(0,0,0,0.1)"},yaxis:{labels:{style:{cssClass:"grey--text lighten-2--text fill-color"}}},title:{text:"Grafik Surat PEMA ".concat((new Date).getFullYear()," per Divisi"),align:"left",style:{fontSize:"16px",color:"#6c757d"}},tooltip:{theme:"dark"}},c=[{name:"Surat Masuk",data:null===o||void 0===o||null===(a=o.chart)||void 0===a?void 0:a.value}];return(0,R.jsx)(R.Fragment,{children:r?(0,R.jsx)(I.A,{}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(V.A,{children:null===o||void 0===o||null===(t=o.dataDash)||void 0===t?void 0:t.map((e=>{var a;return(0,R.jsx)(W.A,{md:3,className:"mt-3",children:(0,R.jsx)(we.A,{title:e.title,sub:e.sub,count:null===(a=e.value)||void 0===a?void 0:a.toString(),tipe:e.type,color:e.color})},e.type)}))}),(0,R.jsxs)(V.A,{className:"mt-4",children:[(0,R.jsxs)(W.A,{md:4,children:[(0,R.jsx)("h3",{className:"list-group-title",children:"Surat Keluar Terbaru"}),(0,R.jsxs)(ye.A,{children:[null===o||void 0===o||null===(l=o.latest_surat)||void 0===l?void 0:l.map((e=>(0,R.jsxs)(Ae.A,{className:"list-group-item-hover list-group-item-strip mb-3",children:[(0,R.jsx)("div",{className:"list-group-item-date",children:e.nomor_surat}),(0,R.jsxs)(fe.A,{children:["Kpd : ",e.kepada]}),(0,R.jsx)(Se.A,{children:e.perihal})]},e.id))),0===(null===o||void 0===o||null===(n=o.latest_surat)||void 0===n?void 0:n.length)&&(0,R.jsxs)(Ae.A,{className:" mb-3",children:[(0,R.jsx)("div",{className:"list-group-item-date",children:"\xa0"}),(0,R.jsx)(fe.A,{className:"text-center",children:"Belum ada Data"}),(0,R.jsx)(Se.A,{children:"\xa0"})]})]})]}),(0,R.jsx)(W.A,{md:8,children:(0,R.jsx)(ke.A,{options:d,series:c,type:"bar",height:"500"})})]})]})})},De=["fileLampiran"],Ce=()=>{const{auth:e}=(0,y.A)(),a=(0,A.A)(),{hash:t}=(0,j.zy)(),l=JSON.parse(localStorage.getItem("formData")),[n,g]=(0,i.useState)("".concat(""!==t?t.replace(/#/g,"").toString():"99")),[f,S]=(0,i.useState)((null===l||void 0===l?void 0:l.tulisForm)||!1),[k,w]=(0,i.useState)([]),[N,D]=(0,i.useState)(""),[C,L]=(0,i.useState)([]),[_,M]=(0,i.useState)([]),[T,I]=(0,i.useState)({}),[P,F]=(0,i.useState)(!1),[B,E]=(0,i.useState)(0),[z,H]=(0,i.useState)(0),[O,U]=(0,i.useState)(0),[K,G]=(0,i.useState)([]),[J,q]=(0,i.useState)([]),[V,W]=(0,i.useState)([]),[X,Z]=(0,i.useState)(!1);console.log(t.replace(/#/g,"")),(0,i.useEffect)((()=>{g(""!==t?"".concat(t.replace(/#/g,"").toString()):"99")}),[t]);(0,i.useEffect)((()=>{localStorage.setItem("formData",JSON.stringify({tulisForm:f}))}),[f]);const Q=(0,v.E)({queries:[{queryKey:["divisi",0],queryFn:()=>a.get("dapi/adm/divisi").then((e=>e.data.data))}]}),$=()=>{var t;t=n,a.get("dapi/adm/surat/review").then((e=>{E(e.data.data.length)})),a.get("dapi/adm/suratmasuk/to_me").then((e=>{H(e.data.data.length)})),a.get("dapi/adm/suratmasuk/cc").then((e=>{U(e.data.data.filter((e=>null===e.read_by)).length)})),"1"===t?a.get("dapi/adm/surat/all").then((e=>{L(e.data.data)})):"2"===t?(a.get("dapi/adm/surat/review").then((e=>{L(e.data.data),E(e.data.data.length)})),a.get("dapi/adm/surat/approved").then((e=>{M(e.data.data)}))):"3"===t?a.get("dapi/adm/surat/signed").then((e=>{L(e.data.data)})):"4"===t?(a.get("dapi/adm/suratmasuk/".concat(null!==e&&void 0!==e&&e.user.roles.includes("SuperAdminAdm")?"all":"to_me")).then((e=>{G(e.data.data)})),a.get("dapi/adm/suratmasuk/tinjut").then((e=>{q(e.data.data)}))):"5"===t&&a.get("dapi/adm/suratmasuk/cc").then((e=>{W(e.data.data)}))};(0,i.useEffect)((()=>{L([]),$()}),[n]),(0,i.useEffect)((()=>{var e,a,t,i;w(null===(e=Q[0].data)||void 0===e?void 0:e.other_divisis),D(null===(a=Q[0].data)||void 0===a||null===(t=a.my_divisi)||void 0===t||null===(i=t.organization_id)||void 0===i?void 0:i.toString())}),[Q]),(0,i.useEffect)((()=>{console.log(C)}),[C]);return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(u.Ay,{value:n,children:[(0,R.jsx)(o.A,{className:"mb-1",children:(0,R.jsxs)(m.A,{onChange:(e,a)=>{g(a)},"aria-label":"lab API tabs example",vertical:"sm",variant:"scrollable",scrollButtons:"auto",children:[(0,R.jsx)(h.A,{label:(0,R.jsxs)(b.A,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,R.jsx)("strong",{children:"Dashboard"})," \xa0\xa0"]}),value:"99"}),(null===e||void 0===e?void 0:e.user.roles.includes("AdminAdm"))&&(0,R.jsx)(h.A,{label:(0,R.jsxs)(b.A,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,R.jsx)("strong",{children:"TULIS SURAT"})," \xa0\xa0"]}),value:"1"}),null!==e&&void 0!==e&&e.user.roles.includes("Manager")||null!==e&&void 0!==e&&e.user.roles.includes("Director")||null!==e&&void 0!==e&&e.user.roles.includes("Supervisor")?(0,R.jsx)(h.A,{label:(0,R.jsxs)(b.A,{badgeContent:B,anchorOrigin:{vertical:"top",horizontal:"right"},color:"warning",children:[(0,R.jsx)("strong",{children:"REVIEW"})," \xa0\xa0"]}),value:"2"}):"",null!==e&&void 0!==e&&e.user.roles.includes("SuperAdminAdm")||null!==e&&void 0!==e&&e.user.roles.includes("Director")?(0,R.jsx)(h.A,{label:(0,R.jsxs)(b.A,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,R.jsx)("strong",{children:"SURAT KELUAR"})," \xa0\xa0"]}),value:"3"}):"",(0,R.jsx)(h.A,{label:(0,R.jsxs)(b.A,{badgeContent:z,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,R.jsx)("strong",{children:"SURAT MASUK"})," \xa0\xa0"]}),value:"4"}),(0,R.jsx)(h.A,{label:(0,R.jsxs)(b.A,{badgeContent:O,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,R.jsx)("strong",{children:"SURAT MASUK (CC) "})," \xa0\xa0"]}),value:"5"})]})}),(null===e||void 0===e?void 0:e.user.roles.includes("AdminAdm"))&&(0,R.jsxs)(p.A,{value:"1",className:"ps-0 pe-0",children:[(0,R.jsx)(o.A,{children:(0,R.jsx)(r.A,{children:f?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(x(),{icon:"close",className:"mb-3 float-end",style:{cursor:"pointer"},onClick:()=>S(!f)}),(0,R.jsx)(Y,{divisis:k,mydivisi:N,refresh:$,func1:S,detailSurat:T,updateForm:P})]}):(0,R.jsx)(d.A,{color:"primary",size:"lg",style:{width:"100%"},onClick:()=>{S(!f),localStorage.removeItem("dataSurat"),F(!1)},children:"Buat Surat Baru"})})}),!1===f&&(null===C||void 0===C?void 0:C.length)>0&&(0,R.jsx)(o.A,{children:(0,R.jsx)(r.A,{children:(0,R.jsx)(me,{listSurat:C,valueNow:n,update:async e=>{var t;localStorage.removeItem("dataSurat"),w(null===(t=Q[0].data)||void 0===t?void 0:t.other_divisis),await a.get("dapi/adm/surat/detail/".concat(e)).then((e=>{var a,t;console.log(e.data.data),D(null===(a=e.data.data)||void 0===a||null===(t=a.divisi)||void 0===t?void 0:t.toString()),I(e.data.data),F(!0);const i=e.data.data,{fileLampiran:l}=i,n=(0,s.A)(i,De);localStorage.setItem("dataSurat",JSON.stringify(n)),S(!0)})),console.log(P)},refresh:$})})})]}),(0,R.jsxs)(p.A,{value:"2",className:"ps-0 pe-0",children:[(0,R.jsx)(o.A,{children:(0,R.jsx)(r.A,{children:(0,R.jsx)(me,{listSurat:C,valueNow:n,refresh:$,type:"review"})})}),(null===_||void 0===_?void 0:_.length)>0&&(0,R.jsxs)(o.A,{children:[(0,R.jsx)(c.A,{children:(0,R.jsx)("strong",{children:"Dokumen yang telah direview"})}),(0,R.jsx)(r.A,{children:(0,R.jsx)(me,{listSurat:_,valueNow:n,refresh:$,type:"approved"})})]})]}),(0,R.jsx)(p.A,{value:"3",className:"ps-0 pe-0",children:(0,R.jsx)(o.A,{children:(0,R.jsx)(r.A,{children:(0,R.jsx)(me,{listSurat:C,valueNow:n,refresh:$})})})}),(0,R.jsxs)(p.A,{value:"4",className:"ps-0 pe-0",children:[(null===e||void 0===e?void 0:e.user.roles.includes("SuperAdminAdm"))&&(0,R.jsx)(o.A,{children:(0,R.jsx)(r.A,{children:X?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(x(),{icon:"close",className:"mb-3 float-end",style:{cursor:"pointer"},onClick:()=>Z(!X)}),(0,R.jsx)(je,{refresh:$,func1:Z})]}):(0,R.jsx)(d.A,{color:"primary",size:"lg",style:{width:"100%"},onClick:()=>Z(!X),children:"Tambah Surat Masuk"})})}),!1===X&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(o.A,{children:(0,R.jsx)(r.A,{children:(0,R.jsx)(me,{listSurat:K,valueNow:n,refresh:$,type:"masuk",status:"progress"})})}),(null===J||void 0===J?void 0:J.length)>0&&(0,R.jsxs)(o.A,{children:[(0,R.jsx)(c.A,{children:"Surat Masuk Yang Telah ditindaklanjuti"}),(0,R.jsx)(r.A,{children:(0,R.jsx)(me,{listSurat:J,valueNow:n,refresh:$,type:"masuk",status:"done"})})]})]})]}),(0,R.jsx)(p.A,{value:"5",className:"ps-0 pe-0",children:(0,R.jsx)(o.A,{children:(0,R.jsx)(r.A,{children:(0,R.jsx)(me,{listSurat:V,valueNow:n,refresh:$,type:"cc"})})})}),(0,R.jsx)(p.A,{value:"99",className:"ps-0 pe-0",children:(0,R.jsx)(o.A,{children:(0,R.jsx)(r.A,{children:(0,R.jsx)(Ne,{})})})})]})})},Le=()=>{const[e,a]=i.useState(!0);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(l.A,{color:"info",isOpen:e,toggle:()=>a(!1),children:["Baca Dokumentasi Aplikasi ",(0,R.jsx)("a",{href:"https://api.ptpema.co.id/adm/dokumentasi/adm.pdf",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"},children:"disini !!!"})]}),(0,R.jsx)(n.A,{}),(0,R.jsx)(Ce,{})]})}},30094:(e,a,t)=>{t.d(a,{A:()=>d});t(65043);var i=t(49157),l=t(18353),n=t(12327),s=t(22345),o=t(22019),r=t(70579);const d=e=>{let{title:a,sub:t,count:d,tipe:c,color:u}=e;return(0,r.jsx)(i.A,{className:u,children:(0,r.jsxs)(l.A,{children:[(0,r.jsxs)("div",{className:"d-flex",children:[(0,r.jsx)("div",{className:"me-3 align-self-center",children:(0,r.jsx)("h1",{className:"text-dark-white",children:(0,r.jsx)("i",{className:"bi bi-pie-chart"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-dark-white",children:a}),(0,r.jsx)("h6",{className:"text-dark-white",children:t})]})]}),(0,r.jsxs)(n.A,{children:[(0,r.jsx)(s.A,{xs:5,className:"d-flex align-items-center",children:(0,r.jsx)("h1",{className:"text-dark-white text-truncate mb-0",children:d})}),(0,r.jsx)(s.A,{xs:7,className:"align-self-center",children:(0,r.jsx)("div",{className:"d-flex align-items-center",style:{height:"105px"},children:(0,r.jsx)(o.A,{options:{chart:{toolbar:{show:!1},fontFamily:"'Poppins', sans-serif"},dataLabels:{enabled:!1},colors:["rgba(255,255,255,0.5)"],xaxis:{categories:["0","4","8","12","16","20","24","30"],labels:{show:!1},axisBorder:{show:!1},axisTicks:{show:!1}},stroke:{curve:"smooth",width:3,colors:"rgba(255, 255, 255, 0.5)"},yaxis:{show:!1},grid:{show:!1},tooltip:{enabled:!1,theme:"dark"}},series:[{name:"Bandwidth usage",data:[5,0,12,1,8,3,12,15]}],type:c,height:"120"})})})]})]})})}},80043:()=>{},46600:()=>{}}]);
//# sourceMappingURL=904.2733ef9a.chunk.js.map