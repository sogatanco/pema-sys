{"version":3,"file":"static/js/9319.8356a86f.chunk.js","mappings":"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","sources":["pages/Verif/Verification.js","pages/adm/Fungsi/FMerge.js","pages/adm/Fungsi/Terbilang.js","pages/adm/Fungsi/Generate.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport { useParams, useSearchParams } from 'react-router-dom';\r\nimport MaterialIcon from '@material/react-material-icon';\r\nimport { Badge } from 'reactstrap';\r\nimport { QRCode } from 'react-qrcode-logo';\r\nimport dayjs from 'dayjs';\r\nimport 'dayjs/locale/id';\r\nimport useAxios from '../../hooks/useAxios';\r\nimport logo from '../../assets/images/qrcode/qr-code-logo.png';\r\nimport FMerge from '../adm/Fungsi/FMerge';\r\nimport GenerateSurat from '../adm/Fungsi/Generate';\r\nimport './Style.scss';\r\n\r\n\r\nconst Verification = () => {\r\n  const qrCodeRef = useRef();\r\n  const baseURL1 = process.env.REACT_APP_FRONTEND;\r\n  const { idDoc } = useParams();\r\n  const [searchParams] = useSearchParams();\r\n\r\n  const vtype = searchParams.get('type');\r\n\r\n  const [error, setError] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState();\r\n  const api = useAxios();\r\n\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      setIsLoading(true);\r\n      await api\r\n        .post(`dapi/verif/${idDoc}`, { type: vtype })\r\n        .then((res) => {\r\n          console.log(res.data.data)\r\n          if (res.data.data.status === 'approve') {\r\n            setIsLoading(false);\r\n            setData(res.data.data);\r\n          } else {\r\n            setError(true);\r\n            setIsLoading(false);\r\n          }\r\n        })\r\n        .catch(() => {\r\n          setError(true);\r\n          setIsLoading(false);\r\n        });\r\n    }\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const viewSurat = () => {\r\n    console.log(data?.detail)\r\n    setLoading(true);\r\n\r\n    async function fetch(deta) {\r\n      try {\r\n        const pdf = await GenerateSurat(deta, qrCodeRef);\r\n\r\n        FMerge(pdf, data?.detail?.fileLampiran).then((res) => {\r\n\r\n          const newWindow = window.open(res);\r\n\r\n          if (!newWindow || newWindow.closed || typeof newWindow.closed === \"undefined\") {\r\n            // Fallback untuk Safari atau jika popup diblokir\r\n            // alert(\"Tidak dapat membuka tab baru. File akan diunduh.\");\r\n            const link = document.createElement(\"a\");\r\n            link.href = res;\r\n            link.download = \"file.txt\"; // Nama file\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n          }\r\n\r\n          // Bersihkan URL Blob setelah selesai\r\n          URL.revokeObjectURL(res);\r\n\r\n\r\n        });\r\n\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n      fetch(data?.detail);\r\n    }, 300)\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  return (\r\n\r\n\r\n    <>\r\n      <div className=\"verified-status\">\r\n\r\n        <div className=\"content-status\">\r\n          {isLoading ? (\r\n            <h5>Loading...</h5>\r\n          ) : error || data === null ? (\r\n            <>\r\n              <img src={logo} alt=\"logo\" />\r\n              {/* <h4>\r\n             {data?.bentuk_usaha} {data?.nama_perusahaan}\r\n           </h4> */}\r\n\r\n              <div className=\"verified\">\r\n                <div className=\"icon-close\">\r\n                  <br />  <br />\r\n                  <MaterialIcon icon=\"close\" />\r\n                </div>\r\n                <br />\r\n\r\n\r\n                <span style={{ marginBottom: '-10px', textTransform: 'uppercase' }}>\r\n                  <strong> Dokumen {data?.jenis_name}</strong>\r\n                </span>\r\n                <span className=\"small mt-0\">ini tidak terdaftar di database kami</span>\r\n              </div>\r\n\r\n              <br />\r\n              <br />\r\n              <br />\r\n              <div className=\"copyright\">\r\n                <span>DOCUMENT VERIFICATION SYSTEM</span>\r\n                <span>© {new Date().getFullYear()} PT Pembangunan Aceh</span>\r\n              </div>\r\n              <br />\r\n            </>\r\n          ) : (\r\n            <>\r\n              <img src={logo} alt=\"logo\" />\r\n              {/* <h4>\r\n             {data?.bentuk_usaha} {data?.nama_perusahaan}\r\n           </h4> */}\r\n              <div className=\"verified\">\r\n                <div className=\"icon-check\">\r\n                  <MaterialIcon icon=\"check\" />\r\n                </div>\r\n                <span style={{ marginBottom: '-10px', textTransform: 'uppercase' }}>\r\n                  <strong> Dokumen {data?.jenis_name}</strong>\r\n                </span>\r\n                <span className=\"small mt-0\">ini benar telah ditandatangani</span>\r\n              </div>\r\n\r\n              <div className=\"spda-status-container\">\r\n                <div className=\"no-spda\">\r\n                  <span>oleh</span>\r\n                  <span>{data?.employe_name}</span>\r\n                </div>\r\n                <div className=\"spda-status\">\r\n                  <span>sebagai</span>\r\n                  <span>{data?.id_current_position}</span>\r\n                </div>\r\n                <div className=\"spda-status\">\r\n                  <span>Pada</span>\r\n                  <span>\r\n                    {dayjs(data?.updated_at).locale('id').format('dddd, DD MMMM YYYY') || ''}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              {\r\n                data?.jenis_doc === 2 && (\r\n                  <Badge color=\"info\" style={{ zIndex: 3, cursor: 'pointer' }} onClick={() => viewSurat()}> {loading ? 'Loading...' : 'Lihat surat'} </Badge>\r\n\r\n                )\r\n              }\r\n\r\n              <br />\r\n              <div className=\"copyright\">\r\n                <span>DOCUMENT VERIFICATION SYSTEM</span>\r\n                <span>© {new Date().getFullYear()} PT Pembangunan Aceh</span>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div ref={qrCodeRef} style={{ display: 'none' }}>\r\n        <QRCode\r\n          value={`${baseURL1}verification/${data?.id_doc}?type=sign`}\r\n          size={400}\r\n          qrStyle=\"dots\"\r\n          logoImage={logo} // Ganti dengan URL logo kamu\r\n          logoWidth={100}\r\n          logoHeight={100}\r\n          eyeRadius={20}\r\n          fgColor=\"#0F52BA\"\r\n        />\r\n      </div></>\r\n  );\r\n};\r\n\r\nexport default Verification;\r\n","import { PDFDocument } from 'pdf-lib';\r\n\r\nconst FMerge = async (base1, base2) => {\r\n  const mergePdf = async (pdf1, pdf2) => {\r\n    const pdfDoc = await PDFDocument.create();\r\n\r\n    const p1 = await PDFDocument.load(pdf1);\r\n    const p2 = await PDFDocument.load(pdf2);\r\n\r\n    const copy1 = await pdfDoc.copyPages(p1, p1.getPageIndices());\r\n    const copy2 = await pdfDoc.copyPages(p2, p2.getPageIndices());\r\n\r\n    copy1.forEach((page) => {\r\n      pdfDoc.addPage(page);\r\n    });\r\n    copy2.forEach((page) => {\r\n      pdfDoc.addPage(page);\r\n    });\r\n    const mergedPdf = await pdfDoc.save();\r\n    return mergedPdf;\r\n  };\r\n\r\n   if (!base2) {\r\n    const pd1 = Uint8Array.from(atob(base1), (c) => c.charCodeAt(0));\r\n    const mergedPdfBlob = new Blob([pd1], { type: 'application/pdf' });\r\n    return URL.createObjectURL(mergedPdfBlob);\r\n  }\r\n\r\n\r\n  const pd1 = new Uint8Array(\r\n    atob(base1)\r\n      .split('')\r\n      .map((c) => c.charCodeAt(0)),\r\n  );\r\n  const pd2 = new Uint8Array(\r\n    atob(base2)\r\n      .split('')\r\n      .map((c) => c.charCodeAt(0)),\r\n  );\r\n\r\n  const mergedPdf = await mergePdf(pd1, pd2);\r\n  const mergedPdfBase64 = new Blob([mergedPdf], { type: 'application/pdf' });\r\n  return URL.createObjectURL(mergedPdfBase64);\r\n};\r\n\r\nexport default FMerge;\r\n","function Terbilang(number) {\r\n    const angka = [\r\n        'Nol', 'Satu', 'Dua', 'Tiga', 'Empat', 'Lima', 'Enam', 'Tujuh', 'Delapan', 'Sembilan',\r\n        'Sepuluh', 'Sebelas'\r\n      ];\r\n    \r\n      if (number < 12) return angka[number];\r\n    \r\n      const divisor = [\r\n        '',\r\n        'Belas',\r\n        'Puluh',\r\n        'Ratus',\r\n        'Ribu',\r\n        'Juta',\r\n        'Miliar',\r\n        'Triliun',\r\n      ];\r\n    \r\n      let result = '';\r\n      const numStr = number.toString();\r\n      const length = numStr?.length;\r\n    \r\n      if (length > 12) {\r\n        return 'Angka terlalu besar';\r\n      }\r\n    \r\n      for (let i = 0; i < length; i++) {\r\n        const num = parseInt(numStr.charAt(i), 10);\r\n        const pos = length - i - 1;\r\n    \r\n        // Jika angka adalah 0, kita langsung lanjutkan tanpa melakukan apa-apa\r\n        if (num === 0) {\r\n            result += ''; // Di sini menggunakan continue karena tidak ada tindakan lain\r\n        }\r\n    \r\n        if (pos === 1 && num === 1 && numStr.charAt(i + 1) !== '0') {\r\n          result += ' Sebelas';\r\n          break;\r\n        } else {\r\n          result += ` ${angka[num]} ${divisor[pos]}`;\r\n        }\r\n      }\r\n    \r\n      return result.trim();\r\n    }\r\n  \r\n  export default Terbilang;","import * as pdfMake from 'pdfmake/build/pdfmake';\r\nimport htmlToPdfmake from 'html-to-pdfmake';\r\nimport image from '../../../assets/image';\r\n// import draft from '../../../assets/images/surat/160133.png';\r\nimport Terbilang from './Terbilang';\r\n// import { height } from '@mui/system';\r\n\r\nconst pdfFonts = require('../../../assets/vfs_fonts');\r\n\r\nconst translateText = (input) => {\r\n  // Contoh data terjemahan dalam JSON\r\n  const translations = {\r\n    \"direktur utama\": \"President Director\",\r\n    \"direktur pengembangan bisnis\": \"Director of Business Development\",\r\n    \"direktur komersial\": \"Director of Commercial\",\r\n    \"direktur umum dan keuangan\": \"Director of General Affairs and Finance\",\r\n    \"kepala managemen resiko\": \"Head of Risk Management\",\r\n    \"kepala satuan pengawas internal\": \"Head of Internal Supervisory Unit\",\r\n    \"manajer agro dan jasa lainnya\": \"Manager of Agro and Other Services\",\r\n    \"manajer industri dan perdagangan\": \"Manager of Industry and Trade\",\r\n    \"manajer keuangan\": \"Finance Manager\",\r\n    \"manajer manajemen investasi\": \"Investment Management Manager\",\r\n    \"manajer migas, minerba dan ebtke\": \"Oil, Gas, Mineral, and EBTKE Manager\",\r\n    \"manajer pemasaran\": \"Marketing Manager\",\r\n    \"manajer pembinaan anak usaha/afiliasi\": \"Manager of Subsidiaries/ Affiliates Development\",\r\n    \"manajer penelitian dan pengembangan\": \"Research and Development Manager\",\r\n    \"manajer sumber daya manusia\": \"Human Resources Manager\",\r\n    \"manajer teknikal dan operasi\": \"Technical and Operations Manager\",\r\n    \"manajer teknologi informasi\": \"Information Technology Manager\",\r\n    \"manajer umum\": \"General Division Manager\",\r\n    \"supervisor agro dan jasa lainnya\": \"Supervisor of Agro and Other Services\",\r\n    \"supervisor hukum dan legalitas perusahaan\": \"Supervisor of Legal Affairs and Corporate Legality\",\r\n    \"supervisor industri dan perdagangan\": \"Supervisor of Industry and Trade\",\r\n    \"supervisor keuangan\": \"Finance Supervisor\",\r\n    \"supervisor manajemen investasi\": \"Investment Management Supervisor\",\r\n    \"supervisor manajemen resiko\": \"Risk Management Supervisor\",\r\n    \"supervisor migas, minerba dan ebtke\": \"Oil, Gas, Mineral, and EBTKE Supervisor\",\r\n    \"supervisor minerba\": \"Mineral Supervisor\",\r\n    \"supervisor pemasaran\": \"Marketing Supervisor\",\r\n    \"supervisor pembinaan anak usaha/afiliasi\": \"Supervisor of Subsidiaries/Affiliates Development\",\r\n    \"supervisor penelitian dan pengembangan\": \"Research and Development Supervisor\",\r\n    \"supervisor scm\": \"SCM  Supervisor\",\r\n    \"supervisor sumber daya manusia\": \"Human Resources Supervisor\",\r\n    \"supervisor teknikal dan operasi\": \"Technical and Operations Supervisor\",\r\n    \"supervisor teknikal dan operasi (agro dan jasa lainnya)\": \"Technical and Operations Supervisor (Agro and Other Services)\",\r\n    \"supervisor teknikal dan operasi (migas dan ebtke)\": \"Technical and Operations Supervisor (Oil, Gas, and EBTKE)\",\r\n    \"supervisor teknikal operasi (minerba)\": \"Technical Operations Supervisor (Mineral)\",\r\n    \"supervisor teknologi informasi\": \"Information Technology Supervisor\",\r\n    \"supervisor umum\": \"General Division Supervisor\",\r\n    \"sekretaris perusahaan\": \"Secretary of Company\",\r\n  };\r\n\r\n  // Mengubah input menjadi huruf kecil untuk pencocokan\r\n  const lowercasedInput = input.toLowerCase();\r\n\r\n  // Mengembalikan hasil terjemahan atau pesan jika tidak ditemukan\r\n  return translations[lowercasedInput] || '';\r\n};\r\n\r\nconst GenerateSurat = (dataSurat, htmlRef) => {\r\n  return new Promise((resolve, reject) => {\r\n    pdfMake.vfs = pdfFonts.pdfMake.vfs;\r\n    pdfMake.fonts = {\r\n      Archivo: {\r\n        normal: 'Archivo-Regular.ttf',\r\n        bold: 'Archivo-SemiBold.ttf',\r\n        italics: 'Archivo-Italic.ttf',\r\n        bolditalics: 'Archivo-SemiBoldItalic.ttf',\r\n      },\r\n    };\r\n    const html = `<p style=\"margin-bottom:5px\">Banda Aceh, ${new Intl.DateTimeFormat(`${dataSurat?.bhs === 'id' ? 'id-ID' : 'en-US'}`, {\r\n      day: '2-digit',\r\n      month: 'long',\r\n      year: 'numeric',\r\n    }).format(new Date(dataSurat?.tglSurat))}</p>  \r\n      \r\n        <table style=\"border-collapse: collapse; width: 100%; border: 0px;\" border=\"1\"; padding=\"0\";><colgroup><col style=\"width: 13%;\"><col style=\"width: 2%;\"><col style=\"width: 85%;\"></colgroup>\r\n        <tbody>\r\n          <tr style=\"margin-left:-5\">\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2; \" >${dataSurat?.bhs === 'id' ? 'Nomor' : 'Number'}</td>\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2;\" >:</td>\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2;\">${dataSurat?.nomorSurat\r\n      }</td>\r\n          </tr>\r\n          <tr style=\"margin-left:-5\">\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2;\">${dataSurat?.bhs === 'id' ? 'Lampiran' : 'Attachment'}</td>\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2;\">:</td>\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2;\">${Number(dataSurat?.lampiran) > 0\r\n        ? `${dataSurat?.lampiran} (${Terbilang(Number(dataSurat?.lampiran))}) ${dataSurat?.jenisLampiran || ' Eks'\r\n        }`\r\n        : `-`\r\n      }</td>\r\n          </tr>\r\n          <tr style=\"margin-left:-5\">\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2;\">${dataSurat?.bhs === 'id' ? 'Perihal' : 'Subject'}</td>\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2;\">:</td>\r\n            <td style=\"vertical-align: top; border: 0px; line-height: 1.2;\">${dataSurat?.perihal\r\n      }</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n        <div style=\"line-height: 1.2; margin-top:3; margin-bottom:-12\">${dataSurat?.bhs === 'id' ? 'Kepada Yth' : 'Dear,'}<br>\r\n            <strong style=\"line-height: 0.9!important;\">${dataSurat?.kepada}</strong>\r\n            ${dataSurat?.bhs === 'id' ? `<br>di - <br>\r\n            <span>          Tempat</span>` : ''}\r\n        </div>\r\n       <span style=\"line-height: 1.3; text-align:justify\">  ${dataSurat?.isiSurat}</span>\r\n  \r\n      `;\r\n\r\n    if (htmlRef.current) {\r\n      const canvas = htmlRef.current.querySelector('canvas');\r\n\r\n      if (canvas) {\r\n        const qrcode = canvas.toDataURL();\r\n\r\n        const pdfContent = htmlToPdfmake(html, {\r\n          defaultStyles: {\r\n            p: { margin: [0, 3, 0, -12] },\r\n\r\n            td: {\r\n              verticalAlign: 'top',\r\n              marginBottom: -4,\r\n              heigt: 'auto',\r\n            },\r\n            ol: {\r\n              margin: [0, 0, 0, -15],\r\n              padding: [0, 0, 0, 0],\r\n            },\r\n            ul: { margin: [0, 0, 0, -15], padding: [0, 0, 0, 0] },\r\n            li: {\r\n              marginBottom: 2,\r\n            },\r\n            tr: {\r\n              margin: [-5, 0, 0, 0],\r\n            },\r\n            table: {\r\n              margin: [0, -3, 0, -7],\r\n              width: '100%',\r\n            },\r\n            br: {\r\n              margin: [0, 0, 0, 0],\r\n            },\r\n          },\r\n          tableAutoSize: true,\r\n        });\r\n\r\n        const docDefinition = {\r\n          pageOrientation: 'portrait',\r\n          pageSize: 'A4',\r\n          pageMargins: [50, 70, 50, 70],\r\n          content: [\r\n            pdfContent,\r\n\r\n            {\r\n              stack: [\r\n                {\r\n                  text: `${dataSurat?.bhs === 'id' ?'Hormat Kami' : 'Your sincerelly'},`,\r\n                  style: 'normal',\r\n                },\r\n                {\r\n                  text: 'PT PEMBANGUNAN ACEH (Perseroda)',\r\n                  style: 'boldText',\r\n                },\r\n                {\r\n                  image: `${dataSurat?.status === 'signed' ? qrcode : image.placeholder}`,\r\n                  width: 60, // Sesuaikan lebar logo sesuai kebutuhan\r\n                },\r\n                {\r\n                  text: `${dataSurat?.signer?.first_name}`,\r\n                  style: 'boldText',\r\n                },\r\n                {\r\n                  text: `${dataSurat?.bhs === 'id' ? dataSurat?.signer?.position_name : translateText(dataSurat?.signer?.position_name)}`,\r\n                  style: 'normal',\r\n                },\r\n              ],\r\n              unbreakable: true, // This ensures the entire stack stays together on the same page\r\n              margin: [0, 10],\r\n            },\r\n            {\r\n              text: dataSurat?.tembusans?.length > 0 ? 'Tembusan Yth : ' : '',\r\n              style: 'normal',\r\n            },\r\n            {\r\n              ol: dataSurat?.tembusans\r\n            }\r\n          ],\r\n\r\n          background: () => {\r\n            return dataSurat?.draft\r\n              ? {\r\n                image: image.draft,\r\n                width: 300,\r\n                height: 300,\r\n                opacity: 0.2,\r\n                marginTop: 250,\r\n                marginLeft: 150,\r\n              }\r\n              : '';\r\n          },\r\n          styles: {\r\n            boldText: {\r\n              bold: true,\r\n            },\r\n          },\r\n          images: html.images,\r\n          header: (page) => {\r\n            if (page !== 1) return { text: '' };\r\n\r\n            return {\r\n              image: image.headSurat,\r\n              width: '595',\r\n            };\r\n          },\r\n          footer: (currentPage, pageCount) => {\r\n            if (currentPage !== pageCount) return { text: '' };\r\n\r\n            return {\r\n              image: image.footSurat,\r\n              width: '595',\r\n            };\r\n          },\r\n          defaultStyle: {\r\n            font: 'Archivo',\r\n            fontSize: 10,\r\n            color: '#000',\r\n            ol: {\r\n              margin: [0, 0, 0, 0],\r\n              padding: [0, 0, 0, 0],\r\n            },\r\n          },\r\n        };\r\n        pdfMake.createPdf(docDefinition).getBase64((base64) => {\r\n          if (base64) {\r\n            resolve(base64); // Mengembalikan base64\r\n          } else {\r\n            reject(new Error('Error generating base64 PDF'));\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    // Create a document definition for pdfmake\r\n  });\r\n};\r\n\r\nexport default GenerateSurat;\r\n"],"names":["Verification","qrCodeRef","useRef","idDoc","useParams","searchParams","useSearchParams","vtype","get","error","setError","useState","isLoading","setIsLoading","loading","setLoading","data","setData","api","useAxios","useEffect","async","post","concat","type","then","res","console","log","status","catch","fetchData","viewSurat","detail","setTimeout","deta","_data$detail","pdf","GenerateSurat","FMerge","fileLampiran","newWindow","window","open","closed","link","document","createElement","href","download","body","appendChild","click","removeChild","URL","revokeObjectURL","e","fetch","_jsxs","_Fragment","children","_jsx","className","src","logo","alt","MaterialIcon","icon","style","marginBottom","textTransform","jenis_name","Date","getFullYear","employe_name","id_current_position","dayjs","updated_at","locale","format","jenis_doc","Badge","color","zIndex","cursor","onClick","ref","display","QRCode","value","process","id_doc","size","qrStyle","logoImage","logoWidth","logoHeight","eyeRadius","fgColor","base1","base2","pd1","Uint8Array","from","atob","c","charCodeAt","mergedPdfBlob","Blob","createObjectURL","split","map","pd2","mergedPdf","pdf1","pdf2","pdfDoc","PDFDocument","create","p1","load","p2","copy1","copyPages","getPageIndices","copy2","forEach","page","addPage","save","mergePdf","mergedPdfBase64","number","angka","divisor","result","numStr","toString","length","i","num","parseInt","charAt","pos","trim","pdfFonts","require","dataSurat","htmlRef","Promise","resolve","reject","pdfMake","vfs","Archivo","normal","bold","italics","bolditalics","html","Intl","DateTimeFormat","bhs","day","month","year","tglSurat","nomorSurat","Number","lampiran","Terbilang","jenisLampiran","perihal","kepada","isiSurat","current","canvas","querySelector","_dataSurat$signer","_dataSurat$signer2","_dataSurat$signer3","_dataSurat$tembusans","qrcode","toDataURL","docDefinition","pageOrientation","pageSize","pageMargins","content","htmlToPdfmake","defaultStyles","p","margin","td","verticalAlign","heigt","ol","padding","ul","li","tr","table","width","br","tableAutoSize","stack","text","image","placeholder","signer","first_name","position_name","input","toLowerCase","unbreakable","tembusans","background","draft","height","opacity","marginTop","marginLeft","styles","boldText","images","header","headSurat","footer","currentPage","pageCount","footSurat","defaultStyle","font","fontSize","getBase64","base64","Error"],"sourceRoot":""}