"use strict";(self.webpackChunkmaterialpro_main=self.webpackChunkmaterialpro_main||[]).push([[1374],{45916:(e,s,t)=>{t.d(s,{A:()=>c});var i=t(65043),l=t(35475),a=t(55918),n=t.n(a),r=t(70579);const c=e=>{let{menuOptions:s,taskId:t,status:a,action:c,progress:o,duplicateFn:d}=e;const[h,u]=(0,i.useState)(!1),p=()=>{u(!1),c()};return(0,r.jsxs)("div",{className:"action",children:[(0,r.jsx)("button",{type:"button",className:"btn-option ".concat(h&&"active"),onClick:()=>u(!0),children:(0,r.jsx)(n(),{icon:"more_vert"})}),h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"action-overlay",onClick:()=>u(!1)}),(0,r.jsx)("div",{className:"action-options rounded-3",children:null===s||void 0===s?void 0:s.options.map((e=>(0,r.jsx)("div",{children:"duplicate"===e.to?(0,r.jsxs)("button",{type:"button",className:"text-muted",disabled:!0,onClick:()=>d(t),children:[e.icon,"Duplicate"]}):"button"===e.type?(0,r.jsxs)("button",{type:"button",className:"text-muted",onClick:()=>{return s=e.to,c(t,s),void u(!1);var s},disabled:e.to===a||2===e.to&&0===a||2===e.to&&4===a||0===e.to&&4===a||2===e.to&&100!==o,children:[e.icon,e.label]}):"link"===e.type?(0,r.jsxs)(l.N_,{className:"text-muted",onClick:e.to,children:[e.icon,e.label]}):(0,r.jsx)("div",{className:"action-del",children:(0,r.jsxs)("button",{type:"button",onClick:p,children:[(0,r.jsx)(n(),{icon:"delete_outline"}),"Delete"]})})},e.id)))})]})]})}},82959:(e,s,t)=>{t.d(s,{x:()=>n,y:()=>a});t(65043);var i=t(23768),l=t(70579);const a=()=>(0,l.jsx)(i.l$,{toastOptions:{className:"",style:{}}}),n=(e,s)=>{((e,s)=>{"success"===e?i.Ay.success(s):"create"===e?(0,i.Ay)(s,{icon:"\ud83e\udd17"}):"start"===e?(0,i.Ay)("Lets get started, cheer up!",{icon:"\ud83d\udcaa"}):"done"===e?(0,i.Ay)("Horeee, task done!",{icon:"\ud83d\udc4f"}):i.Ay.error(s)})(e,s)}},77199:(e,s,t)=>{t.d(s,{A:()=>c});var i=t(55510),l=t(28249),a=t(73216),n=t(35475),r=t(70579);const c=()=>{const e=(0,a.zy)(),s=e.pathname.split("/")[1],t=e.pathname.split("/")[2];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{className:"text-capitalize",children:"".concat(t||s)}),(0,r.jsxs)(i.A,{children:[(0,r.jsx)(l.A,{to:"/",tag:n.N_,className:"text-decoration-none",children:"Home"}),s?(0,r.jsx)(l.A,{active:!0,children:s}):"",t?(0,r.jsx)(l.A,{active:!0,children:t}):""]})]})}},82245:(e,s,t)=>{t.r(s),t.d(s,{default:()=>he});var i=t(65043),l=t(77199),a=t(203),n=t(24056),r=t(22016),c=t(15710),o=t(86506),d=t(93933),h=t(49157),u=t(18353),p=t(41178),m=t(62739),x=t(85873),v=t(81349),j=t(12327),g=t(22345),y=t(96460),A=t(55918),b=t.n(A),f=t(89379),N=t(60446),C=t.n(N),k=t(37682),S=t(32808),w=t(28007),I=t(80135),_=t(89302),T=t(58390),D=t(78652),O=t(26259),F=t(68903),E=t(85865),P=t(13389),q=t(30815),L=t(93397),V=t(82959),M=t(70579);const z=(0,S.Z)(),W=e=>{let{refetch:s}=e;const[t,l]=i.useState([]),[a,n]=i.useState([]),[r,c]=i.useState(null),[o,d]=i.useState(C()()),[h,u]=i.useState(C()()),[p,m]=i.useState(0),[x,v]=i.useState(null),[A,N]=i.useState(0),[S,W]=i.useState(!1),K={activity:"",poin:0,start:C()(),end:C()(),category:"",progress:0},Y=(0,L.A)(),[B,R]=(0,y.E)({queries:[{queryKey:["act"],queryFn:()=>Y.get("dapi/activities").then((e=>e.data.data))},{queryKey:["cat"],queryFn:()=>Y.get("dapi/categories").then((e=>e.data.data))}]});return(0,i.useEffect)((()=>{n(R.data),l(B.data)}),[R.data,B.data]),S?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(0,M.jsx)(b(),{icon:"close",onClick:async e=>{e.preventDefault(),W(!1)}})}),(0,M.jsx)(w.A,{value:r,onChange:(e,s)=>{if("string"===typeof s)c({activity:s}),N(0);else if(s&&s.inputValue)c({activity:s.inputValue}),N(0);else{c(s),N(null===s||void 0===s?void 0:s.poin);const e=R.data.filter((e=>e.id===parseInt(null===s||void 0===s?void 0:s.category,10)));(null===e||void 0===e?void 0:e.length)>0&&v(e[0])}},filterOptions:(e,s)=>{const t=z(e,s),{inputValue:i}=s,l=e.some((e=>i===e.activity));return""===i||l||t.push({inputValue:i,activity:'Add "'.concat(i,'"')}),t},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,id:"free-solo-with-text-demo",options:t||[],getOptionLabel:e=>"string"===typeof e?e:e.inputValue?e.inputValue:e.activity,renderOption:(e,s)=>(0,M.jsx)("li",(0,f.A)((0,f.A)({},e),{},{children:s.activity})),freeSolo:!0,renderInput:e=>(0,M.jsx)(k.A,(0,f.A)((0,f.A)({},e),{},{label:"What are you doing today ?"}))}),(0,M.jsxs)(j.A,{className:"mt-3",children:[(0,M.jsx)(g.A,{children:(0,M.jsx)(T.$,{dateAdapter:_.R,children:(0,M.jsx)(I.v,{children:(0,M.jsx)(D.E,{value:o,onChange:e=>d(e),label:"Mulai"})})})}),(0,M.jsx)(g.A,{children:(0,M.jsx)(T.$,{dateAdapter:_.R,children:(0,M.jsx)(I.v,{children:(0,M.jsx)(D.E,{label:"Selesai",value:h,onChange:e=>u(e)})})})}),(0,M.jsx)(g.A,{children:(0,M.jsx)(w.A,{id:"disabled-options-demo",options:a||[],value:x,onChange:(e,s)=>{"string"===typeof s?v({category_name:s}):s&&s.inputValue?v({category_name:s.inputValue}):v(s)},getOptionLabel:e=>"string"===typeof e?e:e.inputValue?e.inputValue:e.category_name,renderOption:(e,s)=>(0,M.jsx)("li",(0,f.A)((0,f.A)({},e),{},{children:s.category_name})),renderInput:e=>(0,M.jsx)(k.A,(0,f.A)((0,f.A)({},e),{},{label:"Category"}))})})]}),(0,M.jsx)(q.A,{sx:{p:2,borderRadius:2,marginTop:2,border:"0.5px solid #C4C4C4"},children:(0,M.jsxs)(F.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,M.jsx)(F.Ay,{item:!0,children:(0,M.jsx)(E.A,{id:"input-slider",gutterBottom:!0,children:"Progress"})}),(0,M.jsx)(F.Ay,{item:!0,xs:!0,children:(0,M.jsx)(P.Ay,{value:"number"===typeof p?p:0,onChange:(e,s)=>m(s),"aria-labelledby":"input-slider"})}),(0,M.jsx)(F.Ay,{item:!0,children:"".concat(p,"%")})]})}),(0,M.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,M.jsx)(O.A,{variant:"dark",size:"lg",onClick:async e=>{e.preventDefault(),null!==r&&void 0!==r&&r.activity&&null!==x&&void 0!==x&&x.id?(K.activity=null===r||void 0===r?void 0:r.activity,K.start=C()(o),K.end=C()(h),K.category=null===x||void 0===x?void 0:x.id,K.progress=p,K.poin=A,e.preventDefault(),await Y.post("dapi/activit",K).then((()=>{(0,V.x)("success","Data has been submitted !"),c(null),v(null),m(0),d(C()()),u(C()()),s()})).catch((e=>{(0,V.x)("error",e)}))):(0,V.x)("error","Fields Can't Be Empty !!")},children:"SUBMIT"})})]}):(0,M.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,M.jsx)(O.A,{variant:"dark",size:"lg",onClick:async e=>{e.preventDefault(),W(!0)},children:"Add New Activity"})})};var K=t(89804),Y=t(23222),B=t(10591),R=t(20782),H=t(91014),U=t(72738),$=t(20917),Z=t(45916);t(94727);const X=(0,U.Ay)(),G=e=>{let{data:s,isLoading:t,employe:l,refetch:a}=e;const n={options:[{id:1,icon:(0,M.jsx)(b(),{icon:"edit_note"}),type:"button",label:"Delete",to:1}]},[r,c]=(0,i.useState)([]),[o,d]=(0,i.useState)(),[u,p]=(0,i.useState)(),[m,x]=(0,i.useState)(),[v,j]=(0,i.useState)(!1),[g,y]=(0,i.useState)(!1),[A,f]=(0,i.useState)(0),[N,C]=(0,i.useState)(!1),[k,S]=(0,i.useState)(),w=(0,L.A)(),I={id:0,new_member:""},_={id:0,progress:0},T={id:0},D=(e,s)=>{var t;if(j(!v),d(null===(t=e[0])||void 0===t?void 0:t.employe_id),p(s),!v){const s=[];e.map((e=>s.push({label:e.first_name,value:e.employe_id}))),c(s)}},F=(e,s)=>{p(e),y(!g),g||(f(parseInt(s,10)),console.log(e))},E=async(e,s)=>{1===s&&(T.id=e,await(0,$.ZX)({title:"Are you sure ?",message:"Be careful, what has gone will not come back",buttons:[{label:"Yes",onClick:()=>{w.post("dapi/myactivity/delete",T).then((()=>{(0,V.x)("success","Activity Deleted !"),a()}))}},{label:"No",onClick:()=>{}}]}))},q=e=>{C(!N),N||S(e)};return t?"Loading":(0,M.jsxs)(M.Fragment,{children:[null===s||void 0===s?void 0:s.map((e=>{var s,t;return(0,M.jsxs)(h.A,{body:!0,className:"mb-2",children:[(0,M.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,M.jsx)(K.A,{className:"img-pluss",color:"info",style:{height:"max-content"},children:e.category_name}),100===parseInt(e.progress,10)?(0,M.jsx)("small",{children:e.status}):(0,M.jsx)(Z.A,{menuOptions:n,taskId:e.id,status:parseInt(e.status,10),progress:parseInt(e.progress,10),action:E})]}),(0,M.jsxs)("div",{className:"board-body",children:[(0,M.jsx)("div",{className:"task-title fw-bold",children:e.activity}),(0,M.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,M.jsxs)("small",{className:"text-muted",children:["Start : ",e.start]}),(0,M.jsxs)("small",{className:"text-muted",children:["End : ",e.end]})]})]}),(0,M.jsxs)("div",{className:"d-flex justify-content-between",children:["approve"!==e.status?(0,M.jsxs)("div",{className:"member",children:[null===e||void 0===e||null===(s=e.member)||void 0===s?void 0:s.map(((e,s)=>s<2?(0,M.jsx)("img",{src:null!==e&&void 0!==e&&e.img?null===e||void 0===e?void 0:e.img:"https://i.pinimg.com/736x/10/ec/86/10ec8691f73b787677bd0bbeddbd22e0.jpg",className:"rounded-circle",alt:"avatar",width:"35",height:"35"},null===e||void 0===e?void 0:e.employe_id):"")),"approve"!==(null===e||void 0===e?void 0:e.status)?(0,M.jsx)("div",{onClick:()=>D(null===e||void 0===e?void 0:e.member,null===e||void 0===e?void 0:e.id),children:(0,M.jsx)("img",{src:"https://cdn5.vectorstock.com/i/1000x1000/38/64/color-circle-with-plus-icon-vector-13503864.jpg",className:"rounded-circle img-pluss",alt:"avatar",width:"20",height:"20"})}):""]}):(0,M.jsx)("div",{className:"member",onClick:()=>q(e.member),children:null===e||void 0===e||null===(t=e.member)||void 0===t?void 0:t.map(((e,s)=>s<2?(0,M.jsx)("img",{src:null!==e&&void 0!==e&&e.img?null===e||void 0===e?void 0:e.img:"https://i.pinimg.com/736x/10/ec/86/10ec8691f73b787677bd0bbeddbd22e0.jpg",className:"rounded-circle",alt:"avatar",width:"35",height:"35"},null===e||void 0===e?void 0:e.employe_id):""))}),"approve"===e.status?(0,M.jsxs)(K.A,{className:"img-pluss",color:0===parseInt(e.progress,10)?"danger":100===parseInt(e.progress,10)?"success":"warning",style:{height:"max-content"},children:["Progress : ",e.progress,"%"]}):(0,M.jsxs)(K.A,{className:"img-pluss",color:0===parseInt(e.progress,10)?"danger":100===parseInt(e.progress,10)?"success":"warning",style:{height:"max-content"},onClick:()=>F(null===e||void 0===e?void 0:e.id,e.progress),children:["Progress : ",e.progress,"%"]})]})]},e.id)})),(0,M.jsxs)(Y.A,{isOpen:v,toggle:D,children:[(0,M.jsx)(B.A,{toggle:D,children:"Add Another Employee"}),(0,M.jsxs)(R.A,{children:[(0,M.jsx)(H.Ay,{components:X,isMulti:!0,value:r,options:l,onChange:e=>{c(e);const s=e.filter((e=>e.value!==o)),t=["//".concat(o,"//")];s.map((e=>t.push("//".concat(e.value,"//")))),x(t.toLocaleString())},isClearable:r.some((e=>!e.isFixed))}),(0,M.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,M.jsx)(O.A,{onClick:async e=>{console.log(m),console.log(u),I.id=u,I.new_member=m,e.preventDefault(),await w.post("dapi/myactivity/update",I).then((()=>{j(!v),(0,V.x)("success","Task Members has been updated !"),a()}))},children:"Update Data"})})]})]}),(0,M.jsxs)(Y.A,{isOpen:g,toggle:F,children:[(0,M.jsxs)(B.A,{toggle:F,children:["Live Progress (","".concat(A,"%"),")"]}),(0,M.jsxs)(R.A,{children:[(0,M.jsx)(P.Ay,{value:"number"===typeof A?A:0,onChange:(e,s)=>f(s),"aria-labelledby":"input-slider"}),(0,M.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,M.jsx)(O.A,{onClick:async e=>{_.id=u,_.progress=A,console.log(_),e.preventDefault(),await w.post("dapi/myactivity/progress",_).then((()=>{y(!g),(0,V.x)("success","Progress has been updated !"),a()}))},children:"Submit Update"})})]})]}),(0,M.jsx)(Y.A,{isOpen:N,toggle:q,children:(0,M.jsx)(R.A,{children:null===k||void 0===k?void 0:k.map((e=>(0,M.jsx)(K.A,{color:"primary",className:"me-2",children:e.first_name},e.employe_id)))})})]})},J=()=>{const[e,s]=(0,i.useState)(),[t,l]=(0,i.useState)(),[a,n]=(0,i.useState)(),[r,c]=(0,i.useState)(),[o,d]=(0,i.useState)(!1),[A,f]=(0,i.useState)("today"),N=(0,L.A)(),C=(0,y.E)({queries:[{queryKey:["act",0],queryFn:()=>N.get("dapi/myactivity/".concat(A)).then((e=>e.data.data))},{queryKey:["cat",1],queryFn:()=>N.get("api/employe/assignment-list?search=all").then((e=>e.data.data))}]}),k=C[0].isLoading,{refetch:S}=C[0];(0,i.useEffect)((()=>{var e,t,i,a,r,o,d;const h=null===(e=C[0])||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filter((e=>0===parseInt(e.progress,10))),u=null===(i=C[0])||void 0===i||null===(a=i.data)||void 0===a?void 0:a.filter((e=>parseInt(e.progress,10)>0&&parseInt(e.progress,10)<100)),p=null===(r=C[0])||void 0===r||null===(o=r.data)||void 0===o?void 0:o.filter((e=>100===parseInt(e.progress,10)));s(h),l(u),n(p),c(null===(d=C[1])||void 0===d?void 0:d.data)}),[C[0].data]),(0,i.useEffect)((()=>{S()}),[A]);const w=e=>{f(e),(0,V.x)("success","My Activity fitlered by start : ".concat(e))};return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(h.A,{className:"mb-3",children:(0,M.jsx)(u.A,{className:"p-4",children:(0,M.jsx)(W,{refetch:S})})}),(0,M.jsx)("div",{className:"d-flex justify-content-end",children:(0,M.jsxs)(p.A,{isOpen:o,toggle:()=>d((e=>!e)),className:"mb-3",children:[(0,M.jsx)(m.A,{caret:!0,children:(0,M.jsx)(b(),{icon:"filter_alt"})}),(0,M.jsxs)(x.A,{children:[(0,M.jsx)(v.A,{onClick:()=>w("today"),children:"Today"}),(0,M.jsx)(v.A,{onClick:()=>w("yesterday"),children:"Yesterday"}),(0,M.jsx)(v.A,{onClick:()=>w("week"),children:"This Week"}),(0,M.jsx)(v.A,{onClick:()=>w("month"),children:"This Month"}),(0,M.jsx)(v.A,{onClick:()=>w("year"),children:"This Years"}),(0,M.jsx)(v.A,{onClick:()=>w("all"),children:"All The Time"})]})]})}),(0,M.jsxs)(j.A,{children:[(0,M.jsxs)(g.A,{md:"4",children:[(0,M.jsx)(h.A,{className:"mb-3",body:!0,children:(0,M.jsxs)("h3",{className:"mb-0",children:["Todo(",null===e||void 0===e?void 0:e.length,")"]})}),(0,M.jsx)(G,{data:e,isLoadingAct:k,employe:r,refetch:S})]}),(0,M.jsxs)(g.A,{md:"4",children:[(0,M.jsx)(h.A,{className:"mb-3",body:!0,children:(0,M.jsxs)("h3",{className:"mb-0",children:["Progres(",null===t||void 0===t?void 0:t.length,")"]})}),(0,M.jsx)(G,{data:t,isLoadingAct:k,employe:r,refetch:S})]}),(0,M.jsxs)(g.A,{md:"4",children:[(0,M.jsx)(h.A,{className:"mb-3",body:!0,children:(0,M.jsxs)("h3",{className:"mb-0",children:["Done(",null===a||void 0===a?void 0:a.length,")"]})}),(0,M.jsx)(G,{data:a,isLoadingAct:k,employe:r,refetch:S})]})]})]})};var Q=t(30342),ee=t(3655),se=t(16544),te=t(72679),ie=t(97550),le=t(7493);const ae=e=>{let{misal:s,refetch:t}=e;const[l,n]=(0,i.useState)(!1),[r,c]=(0,i.useState)(!1),[o,d]=(0,i.useState)(0),[p,m]=(0,i.useState)(""),[x,v]=(0,i.useState)(!1),[j,g]=(0,i.useState)(),[y,A]=(0,i.useState)(""),[b,f]=(0,i.useState)(0),[N,C]=(0,i.useState)(0),[k,S]=(0,i.useState)(),w={id:0,activity:"",poin:0,category:0,status:"",catatan:""},I=(0,L.A)(),{data:_}=(0,a.I)({queryKey:["cat"],queryFn:()=>I.get("dapi/categories").then((e=>e.data.data))}),T=e=>{n(!l),l||d(e)},D=e=>{v(!x),x||(d(e.id),g(e),A(e.activity),f(parseInt(e.poin,10)),C(parseInt(e.category,10)))},F=e=>{c(!r),r||S(e)};return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(h.A,{children:(0,M.jsx)(u.A,{children:(null===s||void 0===s?void 0:s.length)>0?(0,M.jsxs)(ee.A,{striped:!0,className:"mt-2",responsive:!0,children:[(0,M.jsx)("thead",{children:(0,M.jsxs)("tr",{children:[(0,M.jsx)("th",{children:"Activities"}),(0,M.jsx)("th",{children:"Poin"}),(0,M.jsx)("th",{children:"Done By"}),(0,M.jsx)("th",{children:"Progres"}),(0,M.jsx)("th",{children:"Due Date"}),(0,M.jsx)("th",{children:"Action"})]})}),(0,M.jsx)("tbody",{children:null===s||void 0===s?void 0:s.map((e=>{var s,t;return(0,M.jsxs)("tr",{children:[(0,M.jsx)("th",{scope:"row",children:e.activity}),(0,M.jsx)("th",{scope:"row",children:e.poin}),(0,M.jsx)("th",{scope:"row",children:(0,M.jsxs)("div",{className:"member",onClick:()=>F(e.member),children:[null===e||void 0===e||null===(s=e.member)||void 0===s?void 0:s.map(((e,s)=>s<3?(0,M.jsx)("img",{src:null!==e&&void 0!==e&&e.img?null===e||void 0===e?void 0:e.img:"https://i.pinimg.com/736x/10/ec/86/10ec8691f73b787677bd0bbeddbd22e0.jpg",className:"rounded-circle",alt:"avatar",width:"35",height:"35"},null===e||void 0===e?void 0:e.employe_id):"")),(null===e||void 0===e||null===(t=e.member)||void 0===t?void 0:t.length)>3?(0,M.jsx)("img",{src:"https://cdn5.vectorstock.com/i/1000x1000/38/64/color-circle-with-plus-icon-vector-13503864.jpg",className:"rounded-circle img-pluss",alt:"avatar",width:"20",height:"20"}):""]})}),(0,M.jsx)("th",{scope:"row",children:(0,M.jsxs)(K.A,{color:"success",children:[e.progress," % "]})}),(0,M.jsx)("th",{scope:"row",children:new Date(e.end).toLocaleString()}),(0,M.jsx)("th",{scope:"row",children:(0,M.jsxs)(se.A,{size:"sm",children:[(0,M.jsx)(O.A,{color:"danger",onClick:()=>T(e.id),children:"Reject"}),(0,M.jsx)(O.A,{color:"success",onClick:()=>D(e),children:"Approve"})]})})]},e.id)}))})]}):(0,M.jsx)("p",{className:"text-center mt-2",children:"no data available yet, please come back in a moment"})})}),(0,M.jsxs)(Y.A,{isOpen:l,toggle:T,children:[(0,M.jsx)(B.A,{toggle:T,children:"What the reason ?"}),(0,M.jsxs)(R.A,{children:[(0,M.jsx)(te.A,{id:"exampleText",name:"text",type:"textarea",value:p,onChange:e=>m(e.target.value)}),(0,M.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,M.jsx)(O.A,{onClick:async e=>{w.status="reject",w.catatan=p,w.id=o,""!==p?(e.preventDefault(),await I.post("dapi/mustreview/review",w).then((()=>{(0,V.x)("success","Rejected Succesfully !!"),m(""),n(!l),t()})).catch((e=>{(0,V.x)("error",e),n(!l)}))):(n(!l),(0,V.x)("error","Please Privide your reason !!"))},children:"Submit"})})]})]}),(0,M.jsxs)(Y.A,{isOpen:x,toggle:D,children:[(0,M.jsx)(B.A,{toggle:D,children:"Approve Form"}),(0,M.jsxs)(R.A,{children:[(0,M.jsxs)(ie.A,{children:[(0,M.jsx)(le.A,{for:"activity",children:"Activity"}),(0,M.jsx)(te.A,{id:"activity",name:"activity",onChange:e=>A(e.target.value),value:y,disabled:0!==parseInt(null===j||void 0===j?void 0:j.poin,10)})]}),(0,M.jsxs)(ie.A,{children:[(0,M.jsx)(le.A,{for:"activity",children:"Poin"}),(0,M.jsx)(te.A,{id:"activity",name:"activity",type:"number",onChange:e=>f(e.target.value),value:parseInt(b,10),disabled:0!==parseInt(null===j||void 0===j?void 0:j.poin,10)})]}),(0,M.jsxs)(ie.A,{children:[(0,M.jsx)(le.A,{for:"activity",children:"Category"}),(0,M.jsx)(te.A,{className:"mb-3",type:"select",value:N,disabled:0!==parseInt(null===j||void 0===j?void 0:j.poin,10),onChange:e=>C(e.target.value),children:null===_||void 0===_?void 0:_.map((e=>(0,M.jsx)("option",{value:e.id,children:e.category_name},e.id)))})]}),(0,M.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,M.jsx)(O.A,{onClick:async e=>{w.status="approve",w.id=o,w.poin=b,w.activity=y,w.category=N,0!==b?(e.preventDefault(),await I.post("dapi/mustreview/review",w).then((()=>{(0,V.x)("success","Approved Succesfully !!"),m(""),v(!x),t()})).catch((e=>{(0,V.x)("error",e),v(!x)}))):(v(!x),(0,V.x)("error","The Activity Poin must more than 0 !"))},children:"Approve"})})]})]}),(0,M.jsx)(Y.A,{isOpen:r,toggle:F,children:(0,M.jsx)(R.A,{children:null===k||void 0===k?void 0:k.map((e=>(0,M.jsx)(K.A,{color:"primary",className:"me-2",children:e.first_name},e.employe_id)))})})]})};var ne=t(11238),re=t(99904),ce=t(65253);const oe=e=>{let{tipetab:s}=e;const[t,l]=(0,i.useState)("today"),[n,r]=(0,i.useState)(!1),[c,o]=(0,i.useState)(),[d,y]=(0,i.useState)(!1),[A,f]=(0,i.useState)(0),[N,C]=(0,i.useState)(0),[k,S]=(0,i.useState)(0),w=(0,L.A)(),{auth:I}=(0,Q.A)(),{data:_,refetch:T,isLoading:D}=(0,a.I)({queryKey:["catdfhds"],queryFn:()=>w.get("dapi/".concat(null!==I&&void 0!==I&&I.user.roles.includes("AllDaily")&&"all"===s?"all":"myteam","/activities/").concat(t)).then((e=>e.data.data))}),F=e=>{r(!n),n||o(e)},E=e=>{l(e),(0,V.x)("success","My Activity fitlered by start : ".concat(e))};(0,i.useEffect)((()=>{T()}),[t]),(0,i.useEffect)((()=>{const e=null===_||void 0===_?void 0:_.filter((e=>0===parseInt(e.progress,10))),s=null===_||void 0===_?void 0:_.filter((e=>parseInt(e.progress,10)>0&&parseInt(e.progress,10)<100)),t=null===_||void 0===_?void 0:_.filter((e=>100===parseInt(e.progress,10)));f(null===e||void 0===e?void 0:e.length),C(null===s||void 0===s?void 0:s.length),S(null===t||void 0===t?void 0:t.length)}),[_]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(h.A,{children:(0,M.jsxs)(u.A,{children:[(0,M.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,M.jsx)(re.A,{children:(0,M.jsxs)(j.A,{children:[(0,M.jsx)(g.A,{children:(0,M.jsx)(ce.A,{bg:"danger",icon:"play-circle",title:A,subtitle:"Todo Activity",loading:D})}),(0,M.jsx)(g.A,{children:(0,M.jsx)(ce.A,{bg:"warning",icon:"arrow-repeat",title:N,subtitle:"On Process",loading:D})}),(0,M.jsx)(g.A,{children:(0,M.jsx)(ce.A,{bg:"success",icon:"check-circle",title:k,subtitle:"Done Activity",loading:D})})]})}),(0,M.jsx)("div",{className:"me-2",children:null!==I&&void 0!==I&&I.user.roles.includes("AllDaily")&&"all"===s?(0,M.jsx)(O.A,{color:"warning",onClick:()=>{console.log("te",_);const e=_.map((e=>({activity:e.activity,category:e.category_name,member:e.member.map((e=>e.first_name)).toString(),progress:e.progress,status:e.status,poin:e.poin,start:e.start,end:e.end})));console.log(e);const s=ne.Wp.book_new(),t=ne.Wp.json_to_sheet(e);ne.Wp.book_append_sheet(s,t,"Products"),ne.Wp.sheet_add_aoa(t,[["Activity Name","Category","Members","Progress","Status","Poin","Start","End"]]),ne._h(s,"ReportFor2023.xlsx",{compression:!0})},children:(0,M.jsx)(b(),{icon:"print",size:"lg"})}):""}),(0,M.jsx)("div",{children:(0,M.jsxs)(p.A,{isOpen:d,toggle:()=>y((e=>!e)),className:"mb-3",children:[(0,M.jsx)(m.A,{caret:!0,children:(0,M.jsx)(b(),{icon:"filter_alt"})}),(0,M.jsxs)(x.A,{children:[(0,M.jsx)(v.A,{onClick:()=>E("today"),children:"Today"}),(0,M.jsx)(v.A,{onClick:()=>E("yesterday"),children:"Yesterday"}),(0,M.jsx)(v.A,{onClick:()=>E("week"),children:"This Week"}),(0,M.jsx)(v.A,{onClick:()=>E("month"),children:"This Month"}),(0,M.jsx)(v.A,{onClick:()=>E("year"),children:"This Years"}),(0,M.jsx)(v.A,{onClick:()=>E("all"),children:"All The Time"})]})]})})]}),(null===_||void 0===_?void 0:_.length)>0?(0,M.jsxs)(ee.A,{striped:!0,className:"mt-2",id:"printablediv",responsive:!0,children:[(0,M.jsx)("thead",{children:(0,M.jsxs)("tr",{children:[(0,M.jsx)("th",{children:"Activities"}),(0,M.jsx)("th",{children:"Due Date"}),(0,M.jsx)("th",{children:"Poin"}),(0,M.jsx)("th",{children:"Assignee"}),(0,M.jsx)("th",{children:"Progres"}),(0,M.jsx)("th",{children:"Status"})]})}),(0,M.jsx)("tbody",{children:null===_||void 0===_?void 0:_.map((e=>{var s,t;return(0,M.jsxs)("tr",{children:[(0,M.jsx)("th",{scope:"row",children:e.activity}),(0,M.jsx)("th",{scope:"row",children:e.end}),(0,M.jsx)("th",{scope:"row",children:e.poin}),(0,M.jsx)("th",{scope:"row",children:(0,M.jsxs)("div",{className:"member",onClick:()=>F(e.member),children:[null===e||void 0===e||null===(s=e.member)||void 0===s?void 0:s.map(((e,s)=>s<3?(0,M.jsx)("img",{src:null!==e&&void 0!==e&&e.img?null===e||void 0===e?void 0:e.img:"https://i.pinimg.com/736x/10/ec/86/10ec8691f73b787677bd0bbeddbd22e0.jpg",className:"rounded-circle",alt:"avatar",width:"35",height:"35"},null===e||void 0===e?void 0:e.employe_id):"")),(null===e||void 0===e||null===(t=e.member)||void 0===t?void 0:t.length)>3?(0,M.jsx)("img",{src:"https://cdn5.vectorstock.com/i/1000x1000/38/64/color-circle-with-plus-icon-vector-13503864.jpg",className:"rounded-circle img-pluss",alt:"avatar",width:"20",height:"20"}):""]})}),(0,M.jsx)("th",{scope:"row",children:(0,M.jsxs)(K.A,{color:100===parseInt(null===e||void 0===e?void 0:e.progress,10)?"success":"warning",children:[e.progress," %"]})}),(0,M.jsx)("th",{scope:"row",children:(0,M.jsx)(K.A,{color:"approve"===(null===e||void 0===e?void 0:e.status)?"success":"warning",children:e.status})})]},e.id)}))})]}):(0,M.jsx)("p",{className:"text-center mt-2",children:"no data available yet, please come back in a moment"})]})}),(0,M.jsx)(Y.A,{isOpen:n,toggle:F,children:(0,M.jsx)(R.A,{children:null===c||void 0===c?void 0:c.map((e=>(0,M.jsx)(K.A,{color:"primary",className:"me-2",children:e.first_name},e.employe_id)))})})]})},de=()=>{const[e,s]=i.useState("1"),t=(0,L.A)(),{auth:l}=(0,Q.A)(),{data:u,refetch:p}=(0,a.I)({queryKey:["todos"],queryFn:()=>t.get("dapi/mustreview").then((e=>e.data.data))});return(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)(r.Ay,{value:e,children:[(0,M.jsx)(h.A,{className:"mb-1",children:(0,M.jsxs)(c.A,{onChange:(e,t)=>{s(t)},"aria-label":"lab API tabs example",variant:"scrollable",scrollButtons:"auto",children:[(0,M.jsx)(n.A,{label:(0,M.jsxs)(d.A,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,M.jsx)("strong",{children:"MY ACTIVITY"})," \xa0\xa0"]}),value:"1"}),(0,M.jsx)(n.A,{label:(0,M.jsxs)(d.A,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,M.jsx)("strong",{children:"TEAMS ACTIVITY"})," \xa0\xa0"]}),value:"2"}),(0,M.jsx)(n.A,{label:(0,M.jsxs)(d.A,{badgeContent:null===u||void 0===u?void 0:u.length,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,M.jsx)("strong",{children:"NEED TO REVIEW"})," \xa0\xa0"]}),value:"3"}),null!==l&&void 0!==l&&l.user.roles.includes("AllDaily")?(0,M.jsx)(n.A,{label:(0,M.jsxs)(d.A,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,M.jsx)("strong",{children:"ALL ACTIVITIES"})," \xa0\xa0"]}),value:"4"}):""]})}),(0,M.jsx)(o.A,{value:"1",className:"ps-0 pe-0",children:(0,M.jsx)(J,{})}),(0,M.jsx)(o.A,{value:"2",className:"ps-0 pe-0",children:(0,M.jsx)(oe,{tipetab:"team"})}),(0,M.jsx)(o.A,{value:"3",className:"ps-0 pe-0",children:(0,M.jsx)(ae,{misal:u,refetch:p})}),(0,M.jsx)(o.A,{value:"4",className:"ps-0 pe-0",children:(0,M.jsx)(oe,{tipetab:"all"})})]})})},he=()=>(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(l.A,{}),(0,M.jsx)(de,{})]})},65253:(e,s,t)=>{t.d(s,{A:()=>r});var i=t(49157),l=t(18353),a=t(86985),n=t(70579);const r=e=>{let{bg:s,icon:t,title:r,subtitle:c,loading:o}=e;return(0,n.jsx)(i.A,{className:"rounded-3",children:(0,n.jsx)(l.A,{children:(0,n.jsxs)("div",{className:"d-flex align-items-center",children:[(0,n.jsx)("span",{className:"circle-box md-box text-dark-white bg-".concat(s),children:(0,n.jsx)("i",{className:"fs-2 bi bi-".concat(t)})}),(0,n.jsxs)("div",{className:"ms-3",children:[(0,n.jsx)("h2",{className:"mb-1 fw-normal",children:o?"...":r}),(0,n.jsx)(a.A,{className:"fs-6 text-muted",children:c})]})]})})})}}}]);
//# sourceMappingURL=1374.a6a69e29.chunk.js.map