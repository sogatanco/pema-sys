/*! For license information please see 8872.b678ebbf.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmaterialpro_main=self.webpackChunkmaterialpro_main||[]).push([[8872],{28872:(e,n,t)=>{t.r(n),t.d(n,{default:()=>P});var o=t(65043),r=t(12327),i=t(22345),a=t(49157),l=t(26259),s=t(81815);function c(e,n,t,o){return new(t||(t=Promise))((function(r,i){function a(e){try{s(o.next(e))}catch(n){i(n)}}function l(e){try{s(o.throw(e))}catch(n){i(n)}}function s(e){e.done?r(e.value):new t((function(n){n(e.value)})).then(a,l)}s((o=o.apply(e,n||[])).next())}))}function u(e,n){var t,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(l){i=[6,l],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}function d(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}var v,f,h,m,p,g=s.default.div(v||(v=d(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),x=s.default.div(f||(f=d(["\n  width: 100%;\n  ","\n"],["\n  width: 100%;\n  ","\n"])),(function(e){var n=e.aspectRatio;return"cover"===n?"\n    position: absolute;\n    bottom: 0;\n    top: 0;\n    left: 0;\n    right: 0;":"\n    position: relative;\n    padding-bottom: "+100/n+"%;"})),b=s.default.div(h||(h=d(["\n  padding: 40px;\n"],["\n  padding: 40px;\n"]))),w=s.default.video(m||(m=d(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: 0;\n  transform: rotateY(",");\n"],["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: 0;\n  transform: rotateY(",");\n"])),(function(e){return e.mirrored?"180deg":"0deg"})),y=s.default.canvas(p||(p=d(["\n  display: none;\n"],["\n  display: none;\n"]))),j=o.forwardRef((function(e,n){var t=e.facingMode,r=void 0===t?"user":t,i=e.aspectRatio,a=void 0===i?"cover":i,l=e.numberOfCamerasCallback,s=void 0===l?function(){return null}:l,d=e.videoSourceDeviceId,v=void 0===d?void 0:d,f=e.errorMessages,h=void 0===f?{noCameraAccessible:"No camera device accessible. Please connect your camera or try a different browser.",permissionDenied:"Permission denied. Please refresh and give camera permission.",switchCamera:"It is not possible to switch camera to different one because there is only one video device accessible.",canvas:"Canvas is not supported."}:f,m=e.videoReadyCallback,p=void 0===m?function(){return null}:m,j=(0,o.useRef)(null),A=(0,o.useRef)(null),C=(0,o.useRef)(null),N=(0,o.useRef)(null),k=(0,o.useState)(0),z=k[0],I=k[1],E=(0,o.useState)(null),M=E[0],R=E[1],P=(0,o.useState)(r),D=P[0],O=P[1],B=(0,o.useState)(!1),U=B[0],T=B[1],G=(0,o.useState)(!1),H=G[0],V=G[1],F=(0,o.useState)(!1),L=F[0],W=F[1],_=(0,o.useState)(!1),Y=_[0],q=_[1],X=(0,o.useRef)(!1);(0,o.useEffect)((function(){return X.current=!0,function(){X.current=!1}}),[]),(0,o.useEffect)((function(){s(z)}),[z]);var J=function(e){return void 0===e&&(e=!1),c(void 0,void 0,void 0,(function(){var n,t;return u(this,(function(o){switch(o.label){case 0:if(!(M&&(null===navigator||void 0===navigator?void 0:navigator.mediaDevices)&&X.current))return[3,4];if(n=navigator.mediaDevices.getSupportedConstraints(),t=M.getTracks()[0],!(n&&"torch"in n&&t))return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t.applyConstraints({advanced:[{torch:e}]})];case 2:return o.sent(),[2,!0];case 3:return o.sent(),[2,!1];case 4:return[2,!1]}}))}))};return(0,o.useEffect)((function(){J(Y)}),[Y]),(0,o.useImperativeHandle)(n,(function(){return{takePhoto:function(e){var n,t,o,r,i;if(z<1)throw new Error(h.noCameraAccessible);if(null===A||void 0===A?void 0:A.current){var a=(null===(n=null===j||void 0===j?void 0:j.current)||void 0===n?void 0:n.videoWidth)||1280,l=(null===(t=null===j||void 0===j?void 0:j.current)||void 0===t?void 0:t.videoHeight)||720,s=a/l,c=((null===(o=null===N||void 0===N?void 0:N.current)||void 0===o?void 0:o.offsetWidth)||1280)/((null===(r=null===N||void 0===N?void 0:N.current)||void 0===r?void 0:r.offsetHeight)||1280),u=void 0,d=void 0,v=void 0,f=void 0,m=void 0;if(s>c?(f=l,u=(a-(v=l*c))/2,d=0):(v=a,u=0,d=(l-(f=a/c))/2),A.current.width=v,A.current.height=f,C.current||(C.current=A.current.getContext("2d",{willReadFrequently:!0})),C.current&&(null===j||void 0===j?void 0:j.current)&&C.current.drawImage(j.current,u,d,v,f,0,0,v,f),"imgData"===e)m=null===(i=C.current)||void 0===i?void 0:i.getImageData(0,0,v,f);else m=A.current.toDataURL("image/jpeg");return m}throw new Error(h.canvas)},switchCamera:function(){if(z<1)throw new Error(h.noCameraAccessible);z<2&&console.error("Error: Unable to switch camera. Only one device is accessible.");var e="user"===D?"environment":"user";return O(e),e},getNumberOfCameras:function(){return z},toggleTorch:function(){var e=!Y;return q(e),e},torchSupported:L}})),(0,o.useEffect)((function(){S(M,R,D,v,I,T,V,!!X.current)}),[D,v]),(0,o.useEffect)((function(){return J(!1).then((function(e){return W(e)})),M&&j&&j.current&&(j.current.srcObject=M),function(){M&&M.getTracks().forEach((function(e){e.stop()}))}}),[M]),o.createElement(x,{ref:N,aspectRatio:a},o.createElement(g,null,U?o.createElement(b,null,h.noCameraAccessible):null,H?o.createElement(b,null,h.permissionDenied):null,o.createElement(w,{ref:j,id:"video",muted:!0,autoPlay:!0,playsInline:!0,mirrored:"user"===D,onLoadedData:function(){p()}}),o.createElement(y,{ref:A})))}));j.displayName="Camera";var A=function(e){return c(void 0,void 0,void 0,(function(){var n;return u(this,(function(t){switch(t.label){case 0:return n=[],"environment"!==e?[3,2]:[4,navigator.mediaDevices.enumerateDevices().then((function(e){e.filter((function(e){return"videoinput"==e.kind})).forEach((function(e){var t=e.getCapabilities();t.facingMode&&t.facingMode.indexOf("environment")>=0&&t.deviceId&&n.push(t.deviceId)}))}))];case 1:t.sent(),t.label=2;case 2:return n.length>1?[2,n.pop()]:[2,void 0]}}))}))},S=function(e,n,t,o,r,i,a,l){return c(void 0,void 0,void 0,(function(){var s,d,v,f;return u(this,(function(h){switch(h.label){case 0:return e&&e.getTracks().forEach((function(e){e.stop()})),[4,A(t)];case 1:return s=h.sent(),d={audio:!1,video:{deviceId:s||(o?{exact:o}:void 0),facingMode:t}},(null===(f=null===navigator||void 0===navigator?void 0:navigator.mediaDevices)||void 0===f?void 0:f.getUserMedia)?navigator.mediaDevices.getUserMedia(d).then((function(e){l&&n(C(e,r))})).catch((function(e){N(e,i,a)})):(v=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)?v(d,(function(e){return c(void 0,void 0,void 0,(function(){return u(this,(function(t){return l&&n(C(e,r)),[2]}))}))}),(function(e){N(e,i,a)})):i(!0),[2]}}))}))},C=function(e,n){return navigator.mediaDevices.enumerateDevices().then((function(e){return n(e.filter((function(e){return"videoinput"===e.kind})).length)})),e},N=function(e,n,t){console.error(e),"PermissionDeniedError"===e.name?t(!0):n(!0)},k=t(59662),z=t(70579);const I=(0,k.A)([(0,z.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,z.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"CameraAlt");var E=t(93397),M=t(30342);const R=()=>{var e;const n=(0,E.A)(),t=(0,o.useRef)(null),{auth:s}=(0,M.A)(),[c,u]=(0,o.useState)({lat:null,lng:null}),[d,v]=(0,o.useState)(!1);(0,o.useEffect)((()=>{console.log(c)}),[]);return(0,z.jsxs)("div",{className:"absen-container",children:[(0,z.jsx)("div",{className:"head bg-primary text-white py-5 px-3 w-100",children:(0,z.jsxs)(r.A,{className:"align-items-center",children:[(0,z.jsxs)(i.A,{children:[(0,z.jsxs)("h3",{className:"fs-4",children:["Halo, ",null===s||void 0===s||null===(e=s.user)||void 0===e?void 0:e.first_name]}),(0,z.jsx)("p",{children:"Selamat Pagi"})]}),(0,z.jsx)(i.A,{className:"text-end",children:(0,z.jsx)("img",{src:"https://cdn.idntimes.com/content-images/post/20230515/gambar-profil-wa-keren-41d3732660868cf4a36d801d1301f672.jpg",alt:"Profile",className:"profile-img"})})]})}),(0,z.jsxs)("div",{className:"bawah mt-n5",children:[(0,z.jsxs)(r.A,{className:"text-center",children:[(0,z.jsx)(i.A,{children:(0,z.jsxs)(a.A,{className:"p-2",children:[(0,z.jsx)("div",{className:"menu-item",children:"\ud83d\udd52"}),(0,z.jsx)("span",{className:"text-muted small",children:"Riwayat"})]})}),(0,z.jsx)(i.A,{children:(0,z.jsxs)(a.A,{className:"p-2",children:[(0,z.jsx)("div",{className:"menu-item",children:"\ud83d\udcc4"}),(0,z.jsx)("span",{className:"text-muted small",children:"Pengajuan"})]})}),(0,z.jsx)(i.A,{children:(0,z.jsxs)(a.A,{className:"p-2",children:[(0,z.jsx)("div",{className:"menu-item",children:"\ud83d\udcc6"}),(0,z.jsx)("span",{className:"text-muted small",children:"Cuti"})]})})]}),(0,z.jsxs)(a.A,{className:"p-3 mt-3",children:[(0,z.jsx)("span",{className:"small mb-4",children:"Selasa, 11 Maret 2025"}),(0,z.jsxs)(r.A,{className:"d-flex align-items-center mb-3",children:[(0,z.jsx)(i.A,{children:(0,z.jsxs)("span",{className:"small",children:[(0,z.jsx)("strong",{children:"08:00 WIB"}),(0,z.jsx)("br",{}),"Actual Clock In"]})}),(0,z.jsx)(i.A,{children:(0,z.jsx)(l.A,{color:"warning",className:"w-100",outline:!0,onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{u({lat:e.coords.latitude,lng:e.coords.longitude}),console.log(e.coords.latitude,e.coords.longitude)}),(e=>{console.log(e)})):console.log("Geolocation tidak didukung oleh browser ini."),v(!0),console.log("Absen Masuk")},children:"Masuk \u279c"})})]}),(0,z.jsxs)(r.A,{className:"d-flex align-items-center mb-3",children:[(0,z.jsx)(i.A,{children:(0,z.jsxs)("span",{className:"small",children:[(0,z.jsx)("strong",{children:"17:00 WIB"}),(0,z.jsx)("br",{}),"Actual Clock Out"]})}),(0,z.jsx)(i.A,{children:(0,z.jsx)(l.A,{color:"info",className:"w-100",outline:!0,children:"Pulang \u279c"})})]})]})]}),d&&(0,z.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"#000",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,z.jsxs)("div",{style:{position:"relative",width:"100vw",height:"100vh"},children:[(0,z.jsx)(j,{ref:t,facingMode:"user",videoConstraints:{width:1080,height:1920,facingMode:"user"},style:{width:"100%",height:"100%",objectFit:"cover",zIndex:1}}),(0,z.jsx)("button",{type:"button",onClick:async()=>{const e=t.current.takePhoto();v(!1),await n.post("dapi/hr/clock_in",{poto:e}).then((e=>{console.log(e)}))},style:{position:"absolute",bottom:"80px",left:"50%",transform:"translateX(-50%)",width:"70px",height:"70px",borderRadius:"50%",backgroundColor:"#fff",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",border:"none",zIndex:2,cursor:"pointer"},children:(0,z.jsx)(I,{style:{fontSize:32,color:"#000"}})})]})})]})},P=()=>(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(R,{})})},59662:(e,n,t)=>{t.d(n,{A:()=>w});var o=t(89379),r=t(65043),i=t(80045),a=t(58387),l=t(65049),s=t(6803),c=t(34535),u=t(52094),d=t(96665),v=t(14987),f=t(60239);function h(e){return(0,f.Ay)("MuiSvgIcon",e)}(0,v.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var m=t(70579);const p=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,c.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,"inherit"!==t.color&&n["color".concat((0,s.A)(t.color))],n["fontSize".concat((0,s.A)(t.fontSize))]]}})((0,u.A)((e=>{var n,t,o,r,i,a,l,s,c,u,d,v,f,h,m;let{theme:p}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(n=p.transitions)||void 0===n||null===(t=n.create)||void 0===t?void 0:t.call(n,"fill",{duration:null===(o=(null!==(r=p.vars)&&void 0!==r?r:p).transitions)||void 0===o||null===(o=o.duration)||void 0===o?void 0:o.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(i=p.typography)||void 0===i||null===(a=i.pxToRem)||void 0===a?void 0:a.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(l=p.typography)||void 0===l||null===(s=l.pxToRem)||void 0===s?void 0:s.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(c=p.typography)||void 0===c||null===(u=c.pxToRem)||void 0===u?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((null!==(d=p.vars)&&void 0!==d?d:p).palette).filter((e=>{let[,n]=e;return n&&n.main})).map((e=>{var n,t;let[o]=e;return{props:{color:o},style:{color:null===(n=(null!==(t=p.vars)&&void 0!==t?t:p).palette)||void 0===n||null===(n=n[o])||void 0===n?void 0:n.main}}})),{props:{color:"action"},style:{color:null===(v=(null!==(f=p.vars)&&void 0!==f?f:p).palette)||void 0===v||null===(v=v.action)||void 0===v?void 0:v.active}},{props:{color:"disabled"},style:{color:null===(h=(null!==(m=p.vars)&&void 0!==m?m:p).palette)||void 0===h||null===(h=h.action)||void 0===h?void 0:h.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}}))),x=r.forwardRef((function(e,n){const t=(0,d.b)({props:e,name:"MuiSvgIcon"}),{children:c,className:u,color:v="inherit",component:f="svg",fontSize:x="medium",htmlColor:b,inheritViewBox:w=!1,titleAccess:y,viewBox:j="0 0 24 24"}=t,A=(0,i.A)(t,p),S=r.isValidElement(c)&&"svg"===c.type,C=(0,o.A)((0,o.A)({},t),{},{color:v,component:f,fontSize:x,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:j,hasSvgAsChild:S}),N={};w||(N.viewBox=j);const k=(e=>{const{color:n,fontSize:t,classes:o}=e,r={root:["root","inherit"!==n&&"color".concat((0,s.A)(n)),"fontSize".concat((0,s.A)(t))]};return(0,l.A)(r,h,o)})(C);return(0,m.jsxs)(g,(0,o.A)((0,o.A)((0,o.A)((0,o.A)({as:f,className:(0,a.A)(k.root,u),focusable:"false",color:b,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:n},N),A),S&&c.props),{},{ownerState:C,children:[S?c.props.children:c,y?(0,m.jsx)("title",{children:y}):null]}))}));x.muiName="SvgIcon";const b=x;function w(e,n){function t(t,r){return(0,m.jsx)(b,(0,o.A)((0,o.A)({"data-testid":"".concat(n,"Icon"),ref:r},t),{},{children:e}))}return t.muiName=b.muiName,r.memo(r.forwardRef(t))}},80045:(e,n,t)=>{t.d(n,{A:()=>r});var o=t(98587);function r(e,n){if(null==e)return{};var t,r,i=(0,o.A)(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}}}]);
//# sourceMappingURL=8872.b678ebbf.chunk.js.map