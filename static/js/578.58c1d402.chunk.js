"use strict";(self.webpackChunkmaterialpro_main=self.webpackChunkmaterialpro_main||[]).push([[578],{79463:(e,s,t)=>{t.d(s,{Z:()=>c});var i=t(72791),l=t(11087),a=t(30690),n=t.n(a),r=t(80184);const c=e=>{let{menuOptions:s,taskId:t,status:a,action:c,progress:o,duplicateFn:d}=e;const[h,u]=(0,i.useState)(!1),m=()=>{u(!1),c()};return(0,r.jsxs)("div",{className:"action",children:[(0,r.jsx)("button",{type:"button",className:`btn-option ${h&&"active"}`,onClick:()=>u(!0),children:(0,r.jsx)(n(),{icon:"more_vert"})}),h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"action-overlay",onClick:()=>u(!1)}),(0,r.jsx)("div",{className:"action-options rounded-3",children:null===s||void 0===s?void 0:s.options.map((e=>(0,r.jsx)("div",{children:"duplicate"===e.to?(0,r.jsxs)("button",{type:"button",className:"text-muted",disabled:!0,onClick:()=>d(t),children:[e.icon,"Duplicate"]}):"button"===e.type?(0,r.jsxs)("button",{type:"button",className:"text-muted",onClick:()=>{return s=e.to,c(t,s),void u(!1);var s},disabled:e.to===a||2===e.to&&0===a||2===e.to&&4===a||0===e.to&&4===a||2===e.to&&100!==o,children:[e.icon,e.label]}):"link"===e.type?(0,r.jsxs)(l.rU,{className:"text-muted",onClick:e.to,children:[e.icon,e.label]}):(0,r.jsx)("div",{className:"action-del",children:(0,r.jsxs)("button",{type:"button",onClick:m,children:[(0,r.jsx)(n(),{icon:"delete_outline"}),"Delete"]})})},e.id)))})]})]})}},31043:(e,s,t)=>{t.d(s,{F:()=>a,Z:()=>n});t(72791);var i=t(65218),l=t(80184);const a=()=>(0,l.jsx)(i.x7,{toastOptions:{className:"",style:{}}}),n=(e,s)=>{((e,s)=>{"success"===e?i.ZP.success(s):"create"===e?(0,i.ZP)(s,{icon:"\ud83e\udd17"}):"start"===e?(0,i.ZP)("Lets get started, cheer up!",{icon:"\ud83d\udcaa"}):"done"===e?(0,i.ZP)("Horeee, task done!",{icon:"\ud83d\udc4f"}):i.ZP.error(s)})(e,s)}},64876:(e,s,t)=>{t.d(s,{Z:()=>c});var i=t(39782),l=t(61443),a=t(57689),n=t(11087),r=t(80184);const c=()=>{const e=(0,a.TH)(),s=e.pathname.split("/")[1],t=e.pathname.split("/")[2];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{className:"text-capitalize",children:t?`${t}`:`${s}`}),(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(l.Z,{to:"/",tag:n.rU,className:"text-decoration-none",children:"Home"}),s?(0,r.jsx)(l.Z,{active:!0,children:s}):"",t?(0,r.jsx)(l.Z,{active:!0,children:t}):""]})]})}},54986:(e,s,t)=>{t.r(s),t.d(s,{default:()=>de});var i=t(72791),l=t(64876),a=t(76807),n=t(43896),r=t(83449),c=t(47283),o=t(82851),d=t(29472),h=t(43464),u=t(49037),m=t(92218),p=t(81296),x=t(74463),v=t(54275),j=t(63009),g=t(39773),y=t(10829),Z=t(30690),b=t.n(Z),f=t(97892),N=t.n(f),C=t(91904),k=t(80915),S=t(73766),w=t(4560),_=t(24750),I=t(71652),A=t(58774),P=t(19127),T=t(61889),D=t(20890),O=t(11677),F=t(64554),q=t(48089),E=t(31043),L=t(80184);const $=(0,k.D)(),V=e=>{let{refetch:s}=e;const[t,l]=i.useState([]),[a,n]=i.useState([]),[r,c]=i.useState(null),[o,d]=i.useState(N()()),[h,u]=i.useState(N()()),[m,p]=i.useState(0),[x,v]=i.useState(null),[Z,f]=i.useState(0),[k,V]=i.useState(!1),M={activity:"",poin:0,start:N()(),end:N()(),category:"",progress:0},z=(0,q.Z)(),[K,Y]=(0,y.h)({queries:[{queryKey:["act"],queryFn:()=>z.get("dapi/activities").then((e=>e.data.data))},{queryKey:["cat"],queryFn:()=>z.get("dapi/categories").then((e=>e.data.data))}]});return(0,i.useEffect)((()=>{n(Y.data),l(K.data)}),[Y.data,K.data]),k?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(0,L.jsx)(b(),{icon:"close",onClick:async e=>{e.preventDefault(),V(!1)}})}),(0,L.jsx)(S.Z,{value:r,onChange:(e,s)=>{if("string"===typeof s)c({activity:s}),f(0);else if(s&&s.inputValue)c({activity:s.inputValue}),f(0);else{c(s),f(null===s||void 0===s?void 0:s.poin);const e=Y.data.filter((e=>e.id===parseInt(null===s||void 0===s?void 0:s.category,10)));(null===e||void 0===e?void 0:e.length)>0&&v(e[0])}},filterOptions:(e,s)=>{const t=$(e,s),{inputValue:i}=s,l=e.some((e=>i===e.activity));return""===i||l||t.push({inputValue:i,activity:`Add "${i}"`}),t},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,id:"free-solo-with-text-demo",options:t||[],getOptionLabel:e=>"string"===typeof e?e:e.inputValue?e.inputValue:e.activity,renderOption:(e,s)=>(0,L.jsx)("li",{...e,children:s.activity}),freeSolo:!0,renderInput:e=>(0,L.jsx)(C.Z,{...e,label:"What are you doing today ?"})}),(0,L.jsxs)(j.Z,{className:"mt-3",children:[(0,L.jsx)(g.Z,{children:(0,L.jsx)(I._,{dateAdapter:_.y,children:(0,L.jsx)(w.h,{children:(0,L.jsx)(A.W,{value:o,onChange:e=>d(e),label:"Mulai"})})})}),(0,L.jsx)(g.Z,{children:(0,L.jsx)(I._,{dateAdapter:_.y,children:(0,L.jsx)(w.h,{children:(0,L.jsx)(A.W,{label:"Selesai",value:h,onChange:e=>u(e)})})})}),(0,L.jsx)(g.Z,{children:(0,L.jsx)(S.Z,{id:"disabled-options-demo",options:a||[],value:x,onChange:(e,s)=>{"string"===typeof s?v({category_name:s}):s&&s.inputValue?v({category_name:s.inputValue}):v(s)},getOptionLabel:e=>"string"===typeof e?e:e.inputValue?e.inputValue:e.category_name,renderOption:(e,s)=>(0,L.jsx)("li",{...e,children:s.category_name}),renderInput:e=>(0,L.jsx)(C.Z,{...e,label:"Category"})})})]}),(0,L.jsx)(F.Z,{sx:{p:2,borderRadius:2,marginTop:2,border:"0.5px solid #C4C4C4"},children:(0,L.jsxs)(T.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,L.jsx)(T.ZP,{item:!0,children:(0,L.jsx)(D.Z,{id:"input-slider",gutterBottom:!0,children:"Progress"})}),(0,L.jsx)(T.ZP,{item:!0,xs:!0,children:(0,L.jsx)(O.ZP,{value:"number"===typeof m?m:0,onChange:(e,s)=>p(s),"aria-labelledby":"input-slider"})}),(0,L.jsx)(T.ZP,{item:!0,children:`${m}%`})]})}),(0,L.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,L.jsx)(P.Z,{variant:"dark",size:"lg",onClick:async e=>{e.preventDefault(),null!==r&&void 0!==r&&r.activity&&null!==x&&void 0!==x&&x.id?(M.activity=null===r||void 0===r?void 0:r.activity,M.start=N()(o),M.end=N()(h),M.category=null===x||void 0===x?void 0:x.id,M.progress=m,M.poin=Z,e.preventDefault(),await z.post("dapi/activit",M).then((()=>{(0,E.Z)("success","Data has been submitted !"),c(null),v(null),p(0),d(N()()),u(N()()),s()})).catch((e=>{(0,E.Z)("error",e)}))):(0,E.Z)("error","Fields Can't Be Empty !!")},children:"SUBMIT"})})]}):(0,L.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,L.jsx)(P.Z,{variant:"dark",size:"lg",onClick:async e=>{e.preventDefault(),V(!0)},children:"Add New Activity"})})};var M=t(16354),z=t(46724),K=t(55211),Y=t(94938),B=t(55472),W=t(90235),R=t(30337),U=t(79463);t(58988);const H=(0,W.ZP)(),G=e=>{let{data:s,isLoading:t,employe:l,refetch:a}=e;const n={options:[{id:1,icon:(0,L.jsx)(b(),{icon:"edit_note"}),type:"button",label:"Delete",to:1}]},[r,c]=(0,i.useState)([]),[o,d]=(0,i.useState)(),[u,m]=(0,i.useState)(),[p,x]=(0,i.useState)(),[v,j]=(0,i.useState)(!1),[g,y]=(0,i.useState)(!1),[Z,f]=(0,i.useState)(0),[N,C]=(0,i.useState)(!1),[k,S]=(0,i.useState)(),w=(0,q.Z)(),_={id:0,new_member:""},I={id:0,progress:0},A={id:0},T=(e,s)=>{var t;if(j(!v),d(null===(t=e[0])||void 0===t?void 0:t.employe_id),m(s),!v){const s=[];e.map((e=>s.push({label:e.first_name,value:e.employe_id}))),c(s)}},D=(e,s)=>{m(e),y(!g),g||(f(parseInt(s,10)),console.log(e))},F=async(e,s)=>{1===s&&(A.id=e,await(0,R._1)({title:"Are you sure ?",message:"Be careful, what has gone will not come back",buttons:[{label:"Yes",onClick:()=>{w.post("dapi/myactivity/delete",A).then((()=>{(0,E.Z)("success","Activity Deleted !"),a()}))}},{label:"No",onClick:()=>{}}]}))},$=e=>{C(!N),N||S(e)};return t?"Loading":(0,L.jsxs)(L.Fragment,{children:[null===s||void 0===s?void 0:s.map((e=>{var s,t;return(0,L.jsxs)(h.Z,{body:!0,className:"mb-2",children:[(0,L.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,L.jsx)(M.Z,{className:"img-pluss",color:"info",style:{height:"max-content"},children:e.category_name}),100===parseInt(e.progress,10)?(0,L.jsx)("small",{children:e.status}):(0,L.jsx)(U.Z,{menuOptions:n,taskId:e.id,status:parseInt(e.status,10),progress:parseInt(e.progress,10),action:F})]}),(0,L.jsxs)("div",{className:"board-body",children:[(0,L.jsx)("div",{className:"task-title fw-bold",children:e.activity}),(0,L.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,L.jsxs)("small",{className:"text-muted",children:["Start : ",e.start]}),(0,L.jsxs)("small",{className:"text-muted",children:["End : ",e.end]})]})]}),(0,L.jsxs)("div",{className:"d-flex justify-content-between",children:["approve"!==e.status?(0,L.jsxs)("div",{className:"member",children:[null===e||void 0===e||null===(s=e.member)||void 0===s?void 0:s.map(((e,s)=>s<2?(0,L.jsx)("img",{src:null!==e&&void 0!==e&&e.img?null===e||void 0===e?void 0:e.img:"https://i.pinimg.com/736x/10/ec/86/10ec8691f73b787677bd0bbeddbd22e0.jpg",className:"rounded-circle",alt:"avatar",width:"35",height:"35"},null===e||void 0===e?void 0:e.employe_id):"")),"approve"!==(null===e||void 0===e?void 0:e.status)?(0,L.jsx)("div",{onClick:()=>T(null===e||void 0===e?void 0:e.member,null===e||void 0===e?void 0:e.id),children:(0,L.jsx)("img",{src:"https://cdn5.vectorstock.com/i/1000x1000/38/64/color-circle-with-plus-icon-vector-13503864.jpg",className:"rounded-circle img-pluss",alt:"avatar",width:"20",height:"20"})}):""]}):(0,L.jsx)("div",{className:"member",onClick:()=>$(e.member),children:null===e||void 0===e||null===(t=e.member)||void 0===t?void 0:t.map(((e,s)=>s<2?(0,L.jsx)("img",{src:null!==e&&void 0!==e&&e.img?null===e||void 0===e?void 0:e.img:"https://i.pinimg.com/736x/10/ec/86/10ec8691f73b787677bd0bbeddbd22e0.jpg",className:"rounded-circle",alt:"avatar",width:"35",height:"35"},null===e||void 0===e?void 0:e.employe_id):""))}),"approve"===e.status?(0,L.jsxs)(M.Z,{className:"img-pluss",color:0===parseInt(e.progress,10)?"danger":100===parseInt(e.progress,10)?"success":"warning",style:{height:"max-content"},children:["Progress : ",e.progress,"%"]}):(0,L.jsxs)(M.Z,{className:"img-pluss",color:0===parseInt(e.progress,10)?"danger":100===parseInt(e.progress,10)?"success":"warning",style:{height:"max-content"},onClick:()=>D(null===e||void 0===e?void 0:e.id,e.progress),children:["Progress : ",e.progress,"%"]})]})]},e.id)})),(0,L.jsxs)(z.Z,{isOpen:v,toggle:T,children:[(0,L.jsx)(K.Z,{toggle:T,children:"Add Another Employee"}),(0,L.jsxs)(Y.Z,{children:[(0,L.jsx)(B.ZP,{components:H,isMulti:!0,value:r,options:l,onChange:e=>{c(e);const s=e.filter((e=>e.value!==o)),t=[`//${o}//`];s.map((e=>t.push(`//${e.value}//`))),x(t.toLocaleString())},isClearable:r.some((e=>!e.isFixed))}),(0,L.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,L.jsx)(P.Z,{onClick:async e=>{console.log(p),console.log(u),_.id=u,_.new_member=p,e.preventDefault(),await w.post("dapi/myactivity/update",_).then((()=>{j(!v),(0,E.Z)("success","Task Members has been updated !"),a()}))},children:"Update Data"})})]})]}),(0,L.jsxs)(z.Z,{isOpen:g,toggle:D,children:[(0,L.jsxs)(K.Z,{toggle:D,children:["Live Progress (",`${Z}%`,")"]}),(0,L.jsxs)(Y.Z,{children:[(0,L.jsx)(O.ZP,{value:"number"===typeof Z?Z:0,onChange:(e,s)=>f(s),"aria-labelledby":"input-slider"}),(0,L.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,L.jsx)(P.Z,{onClick:async e=>{I.id=u,I.progress=Z,console.log(I),e.preventDefault(),await w.post("dapi/myactivity/progress",I).then((()=>{y(!g),(0,E.Z)("success","Progress has been updated !"),a()}))},children:"Submit Update"})})]})]}),(0,L.jsx)(z.Z,{isOpen:N,toggle:$,children:(0,L.jsx)(Y.Z,{children:null===k||void 0===k?void 0:k.map((e=>(0,L.jsx)(M.Z,{color:"primary",className:"me-2",children:e.first_name},e.employe_id)))})})]})},J=()=>{const[e,s]=(0,i.useState)(),[t,l]=(0,i.useState)(),[a,n]=(0,i.useState)(),[r,c]=(0,i.useState)(),[o,d]=(0,i.useState)(!1),[Z,f]=(0,i.useState)("today"),N=(0,q.Z)(),C=(0,y.h)({queries:[{queryKey:["act",0],queryFn:()=>N.get(`dapi/myactivity/${Z}`).then((e=>e.data.data))},{queryKey:["cat",1],queryFn:()=>N.get("api/employe/assignment-list?search=all").then((e=>e.data.data))}]}),k=C[0].isLoading,{refetch:S}=C[0];(0,i.useEffect)((()=>{var e,t,i,a,r,o,d;const h=null===(e=C[0])||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filter((e=>0===parseInt(e.progress,10))),u=null===(i=C[0])||void 0===i||null===(a=i.data)||void 0===a?void 0:a.filter((e=>parseInt(e.progress,10)>0&&parseInt(e.progress,10)<100)),m=null===(r=C[0])||void 0===r||null===(o=r.data)||void 0===o?void 0:o.filter((e=>100===parseInt(e.progress,10)));s(h),l(u),n(m),c(null===(d=C[1])||void 0===d?void 0:d.data)}),[C[0].data]),(0,i.useEffect)((()=>{S()}),[Z]);const w=e=>{f(e),(0,E.Z)("success",`My Activity fitlered by start : ${e}`)};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(h.Z,{className:"mb-3",children:(0,L.jsx)(u.Z,{className:"p-4",children:(0,L.jsx)(V,{refetch:S})})}),(0,L.jsx)("div",{className:"d-flex justify-content-end",children:(0,L.jsxs)(m.Z,{isOpen:o,toggle:()=>d((e=>!e)),className:"mb-3",children:[(0,L.jsx)(p.Z,{caret:!0,children:(0,L.jsx)(b(),{icon:"filter_alt"})}),(0,L.jsxs)(x.Z,{children:[(0,L.jsx)(v.Z,{onClick:()=>w("today"),children:"Today"}),(0,L.jsx)(v.Z,{onClick:()=>w("yesterday"),children:"Yesterday"}),(0,L.jsx)(v.Z,{onClick:()=>w("week"),children:"This Week"}),(0,L.jsx)(v.Z,{onClick:()=>w("month"),children:"This Month"}),(0,L.jsx)(v.Z,{onClick:()=>w("year"),children:"This Years"}),(0,L.jsx)(v.Z,{onClick:()=>w("all"),children:"All The Time"})]})]})}),(0,L.jsxs)(j.Z,{children:[(0,L.jsxs)(g.Z,{md:"4",children:[(0,L.jsx)(h.Z,{className:"mb-3",body:!0,children:(0,L.jsxs)("h3",{className:"mb-0",children:["Todo(",null===e||void 0===e?void 0:e.length,")"]})}),(0,L.jsx)(G,{data:e,isLoadingAct:k,employe:r,refetch:S})]}),(0,L.jsxs)(g.Z,{md:"4",children:[(0,L.jsx)(h.Z,{className:"mb-3",body:!0,children:(0,L.jsxs)("h3",{className:"mb-0",children:["Progres(",null===t||void 0===t?void 0:t.length,")"]})}),(0,L.jsx)(G,{data:t,isLoadingAct:k,employe:r,refetch:S})]}),(0,L.jsxs)(g.Z,{md:"4",children:[(0,L.jsx)(h.Z,{className:"mb-3",body:!0,children:(0,L.jsxs)("h3",{className:"mb-0",children:["Done(",null===a||void 0===a?void 0:a.length,")"]})}),(0,L.jsx)(G,{data:a,isLoadingAct:k,employe:r,refetch:S})]})]})]})};var Q=t(17834),X=t(28755),ee=t(71513),se=t(8118),te=t(76167),ie=t(42976);const le=e=>{let{misal:s,refetch:t}=e;const[l,n]=(0,i.useState)(!1),[r,c]=(0,i.useState)(!1),[o,d]=(0,i.useState)(0),[m,p]=(0,i.useState)(""),[x,v]=(0,i.useState)(!1),[j,g]=(0,i.useState)(),[y,Z]=(0,i.useState)(""),[b,f]=(0,i.useState)(0),[N,C]=(0,i.useState)(0),[k,S]=(0,i.useState)(),w={id:0,activity:"",poin:0,category:0,status:"",catatan:""},_=(0,q.Z)(),{data:I}=(0,a.a)({queryKey:["cat"],queryFn:()=>_.get("dapi/categories").then((e=>e.data.data))}),A=e=>{n(!l),l||d(e)},T=e=>{v(!x),x||(d(e.id),g(e),Z(e.activity),f(parseInt(e.poin,10)),C(parseInt(e.category,10)))},D=e=>{c(!r),r||S(e)};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(h.Z,{children:(0,L.jsx)(u.Z,{children:(null===s||void 0===s?void 0:s.length)>0?(0,L.jsxs)(X.Z,{striped:!0,className:"mt-2",responsive:!0,children:[(0,L.jsx)("thead",{children:(0,L.jsxs)("tr",{children:[(0,L.jsx)("th",{children:"Activities"}),(0,L.jsx)("th",{children:"Poin"}),(0,L.jsx)("th",{children:"Done By"}),(0,L.jsx)("th",{children:"Progres"}),(0,L.jsx)("th",{children:"Due Date"}),(0,L.jsx)("th",{children:"Action"})]})}),(0,L.jsx)("tbody",{children:null===s||void 0===s?void 0:s.map((e=>{var s,t;return(0,L.jsxs)("tr",{children:[(0,L.jsx)("th",{scope:"row",children:e.activity}),(0,L.jsx)("th",{scope:"row",children:e.poin}),(0,L.jsx)("th",{scope:"row",children:(0,L.jsxs)("div",{className:"member",onClick:()=>D(e.member),children:[null===e||void 0===e||null===(s=e.member)||void 0===s?void 0:s.map(((e,s)=>s<3?(0,L.jsx)("img",{src:null!==e&&void 0!==e&&e.img?null===e||void 0===e?void 0:e.img:"https://i.pinimg.com/736x/10/ec/86/10ec8691f73b787677bd0bbeddbd22e0.jpg",className:"rounded-circle",alt:"avatar",width:"35",height:"35"},null===e||void 0===e?void 0:e.employe_id):"")),(null===e||void 0===e||null===(t=e.member)||void 0===t?void 0:t.length)>3?(0,L.jsx)("img",{src:"https://cdn5.vectorstock.com/i/1000x1000/38/64/color-circle-with-plus-icon-vector-13503864.jpg",className:"rounded-circle img-pluss",alt:"avatar",width:"20",height:"20"}):""]})}),(0,L.jsx)("th",{scope:"row",children:(0,L.jsxs)(M.Z,{color:"success",children:[e.progress," % "]})}),(0,L.jsx)("th",{scope:"row",children:new Date(e.end).toLocaleString()}),(0,L.jsx)("th",{scope:"row",children:(0,L.jsxs)(ee.Z,{size:"sm",children:[(0,L.jsx)(P.Z,{color:"danger",onClick:()=>A(e.id),children:"Reject"}),(0,L.jsx)(P.Z,{color:"success",onClick:()=>T(e),children:"Approve"})]})})]},e.id)}))})]}):(0,L.jsx)("p",{className:"text-center mt-2",children:"no data available yet, please come back in a moment"})})}),(0,L.jsxs)(z.Z,{isOpen:l,toggle:A,children:[(0,L.jsx)(K.Z,{toggle:A,children:"What the reason ?"}),(0,L.jsxs)(Y.Z,{children:[(0,L.jsx)(se.Z,{id:"exampleText",name:"text",type:"textarea",value:m,onChange:e=>p(e.target.value)}),(0,L.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,L.jsx)(P.Z,{onClick:async e=>{w.status="reject",w.catatan=m,w.id=o,""!==m?(e.preventDefault(),await _.post("dapi/mustreview/review",w).then((()=>{(0,E.Z)("success","Rejected Succesfully !!"),p(""),n(!l),t()})).catch((e=>{(0,E.Z)("error",e),n(!l)}))):(n(!l),(0,E.Z)("error","Please Privide your reason !!"))},children:"Submit"})})]})]}),(0,L.jsxs)(z.Z,{isOpen:x,toggle:T,children:[(0,L.jsx)(K.Z,{toggle:T,children:"Approve Form"}),(0,L.jsxs)(Y.Z,{children:[(0,L.jsxs)(te.Z,{children:[(0,L.jsx)(ie.Z,{for:"activity",children:"Activity"}),(0,L.jsx)(se.Z,{id:"activity",name:"activity",onChange:e=>Z(e.target.value),value:y,disabled:0!==parseInt(null===j||void 0===j?void 0:j.poin,10)})]}),(0,L.jsxs)(te.Z,{children:[(0,L.jsx)(ie.Z,{for:"activity",children:"Poin"}),(0,L.jsx)(se.Z,{id:"activity",name:"activity",type:"number",onChange:e=>f(e.target.value),value:parseInt(b,10),disabled:0!==parseInt(null===j||void 0===j?void 0:j.poin,10)})]}),(0,L.jsxs)(te.Z,{children:[(0,L.jsx)(ie.Z,{for:"activity",children:"Category"}),(0,L.jsx)(se.Z,{className:"mb-3",type:"select",value:N,disabled:0!==parseInt(null===j||void 0===j?void 0:j.poin,10),onChange:e=>C(e.target.value),children:null===I||void 0===I?void 0:I.map((e=>(0,L.jsx)("option",{value:e.id,children:e.category_name},e.id)))})]}),(0,L.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,L.jsx)(P.Z,{onClick:async e=>{w.status="approve",w.id=o,w.poin=b,w.activity=y,w.category=N,0!==b?(e.preventDefault(),await _.post("dapi/mustreview/review",w).then((()=>{(0,E.Z)("success","Approved Succesfully !!"),p(""),v(!x),t()})).catch((e=>{(0,E.Z)("error",e),v(!x)}))):(v(!x),(0,E.Z)("error","The Activity Poin must more than 0 !"))},children:"Approve"})})]})]}),(0,L.jsx)(z.Z,{isOpen:r,toggle:D,children:(0,L.jsx)(Y.Z,{children:null===k||void 0===k?void 0:k.map((e=>(0,L.jsx)(M.Z,{color:"primary",className:"me-2",children:e.first_name},e.employe_id)))})})]})};var ae=t(34045),ne=t(57823),re=t(19623);const ce=e=>{let{tipetab:s}=e;const[t,l]=(0,i.useState)("today"),[n,r]=(0,i.useState)(!1),[c,o]=(0,i.useState)(),[d,y]=(0,i.useState)(!1),[Z,f]=(0,i.useState)(0),[N,C]=(0,i.useState)(0),[k,S]=(0,i.useState)(0),w=(0,q.Z)(),{auth:_}=(0,Q.Z)(),{data:I,refetch:A,isLoading:T}=(0,a.a)({queryKey:["catdfhds"],queryFn:()=>w.get(`dapi/${null!==_&&void 0!==_&&_.user.roles.includes("AllDaily")&&"all"===s?"all":"myteam"}/activities/${t}`).then((e=>e.data.data))}),D=e=>{r(!n),n||o(e)},O=e=>{l(e),(0,E.Z)("success",`My Activity fitlered by start : ${e}`)};(0,i.useEffect)((()=>{A()}),[t]),(0,i.useEffect)((()=>{const e=null===I||void 0===I?void 0:I.filter((e=>0===parseInt(e.progress,10))),s=null===I||void 0===I?void 0:I.filter((e=>parseInt(e.progress,10)>0&&parseInt(e.progress,10)<100)),t=null===I||void 0===I?void 0:I.filter((e=>100===parseInt(e.progress,10)));f(null===e||void 0===e?void 0:e.length),C(null===s||void 0===s?void 0:s.length),S(null===t||void 0===t?void 0:t.length)}),[I]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(h.Z,{children:(0,L.jsxs)(u.Z,{children:[(0,L.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,L.jsx)(ne.Z,{children:(0,L.jsxs)(j.Z,{children:[(0,L.jsx)(g.Z,{children:(0,L.jsx)(re.Z,{bg:"danger",icon:"play-circle",title:Z,subtitle:"Todo Activity",loading:T})}),(0,L.jsx)(g.Z,{children:(0,L.jsx)(re.Z,{bg:"warning",icon:"arrow-repeat",title:N,subtitle:"On Process",loading:T})}),(0,L.jsx)(g.Z,{children:(0,L.jsx)(re.Z,{bg:"success",icon:"check-circle",title:k,subtitle:"Done Activity",loading:T})})]})}),(0,L.jsx)("div",{className:"me-2",children:null!==_&&void 0!==_&&_.user.roles.includes("AllDaily")&&"all"===s?(0,L.jsx)(P.Z,{color:"warning",onClick:()=>{console.log("te",I);const e=I.map((e=>({activity:e.activity,category:e.category_name,member:e.member.map((e=>e.first_name)).toString(),progress:e.progress,status:e.status,poin:e.poin,start:e.start,end:e.end})));console.log(e);const s=ae.P6.book_new(),t=ae.P6.json_to_sheet(e);ae.P6.book_append_sheet(s,t,"Products"),ae.P6.sheet_add_aoa(t,[["Activity Name","Category","Members","Progress","Status","Poin","Start","End"]]),ae.NC(s,"ReportFor2023.xlsx",{compression:!0})},children:(0,L.jsx)(b(),{icon:"print",size:"lg"})}):""}),(0,L.jsx)("div",{children:(0,L.jsxs)(m.Z,{isOpen:d,toggle:()=>y((e=>!e)),className:"mb-3",children:[(0,L.jsx)(p.Z,{caret:!0,children:(0,L.jsx)(b(),{icon:"filter_alt"})}),(0,L.jsxs)(x.Z,{children:[(0,L.jsx)(v.Z,{onClick:()=>O("today"),children:"Today"}),(0,L.jsx)(v.Z,{onClick:()=>O("yesterday"),children:"Yesterday"}),(0,L.jsx)(v.Z,{onClick:()=>O("week"),children:"This Week"}),(0,L.jsx)(v.Z,{onClick:()=>O("month"),children:"This Month"}),(0,L.jsx)(v.Z,{onClick:()=>O("year"),children:"This Years"}),(0,L.jsx)(v.Z,{onClick:()=>O("all"),children:"All The Time"})]})]})})]}),(null===I||void 0===I?void 0:I.length)>0?(0,L.jsxs)(X.Z,{striped:!0,className:"mt-2",id:"printablediv",responsive:!0,children:[(0,L.jsx)("thead",{children:(0,L.jsxs)("tr",{children:[(0,L.jsx)("th",{children:"Activities"}),(0,L.jsx)("th",{children:"Due Date"}),(0,L.jsx)("th",{children:"Poin"}),(0,L.jsx)("th",{children:"Assignee"}),(0,L.jsx)("th",{children:"Progres"}),(0,L.jsx)("th",{children:"Status"})]})}),(0,L.jsx)("tbody",{children:null===I||void 0===I?void 0:I.map((e=>{var s,t;return(0,L.jsxs)("tr",{children:[(0,L.jsx)("th",{scope:"row",children:e.activity}),(0,L.jsx)("th",{scope:"row",children:e.end}),(0,L.jsx)("th",{scope:"row",children:e.poin}),(0,L.jsx)("th",{scope:"row",children:(0,L.jsxs)("div",{className:"member",onClick:()=>D(e.member),children:[null===e||void 0===e||null===(s=e.member)||void 0===s?void 0:s.map(((e,s)=>s<3?(0,L.jsx)("img",{src:null!==e&&void 0!==e&&e.img?null===e||void 0===e?void 0:e.img:"https://i.pinimg.com/736x/10/ec/86/10ec8691f73b787677bd0bbeddbd22e0.jpg",className:"rounded-circle",alt:"avatar",width:"35",height:"35"},null===e||void 0===e?void 0:e.employe_id):"")),(null===e||void 0===e||null===(t=e.member)||void 0===t?void 0:t.length)>3?(0,L.jsx)("img",{src:"https://cdn5.vectorstock.com/i/1000x1000/38/64/color-circle-with-plus-icon-vector-13503864.jpg",className:"rounded-circle img-pluss",alt:"avatar",width:"20",height:"20"}):""]})}),(0,L.jsx)("th",{scope:"row",children:(0,L.jsxs)(M.Z,{color:100===parseInt(null===e||void 0===e?void 0:e.progress,10)?"success":"warning",children:[e.progress," %"]})}),(0,L.jsx)("th",{scope:"row",children:(0,L.jsx)(M.Z,{color:"approve"===(null===e||void 0===e?void 0:e.status)?"success":"warning",children:e.status})})]},e.id)}))})]}):(0,L.jsx)("p",{className:"text-center mt-2",children:"no data available yet, please come back in a moment"})]})}),(0,L.jsx)(z.Z,{isOpen:n,toggle:D,children:(0,L.jsx)(Y.Z,{children:null===c||void 0===c?void 0:c.map((e=>(0,L.jsx)(M.Z,{color:"primary",className:"me-2",children:e.first_name},e.employe_id)))})})]})},oe=()=>{const[e,s]=i.useState("1"),t=(0,q.Z)(),{auth:l}=(0,Q.Z)(),{data:u,refetch:m}=(0,a.a)({queryKey:["todos"],queryFn:()=>t.get("dapi/mustreview").then((e=>e.data.data))});return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(r.ZP,{value:e,children:[(0,L.jsx)(h.Z,{className:"mb-1",children:(0,L.jsxs)(c.Z,{onChange:(e,t)=>{s(t)},"aria-label":"lab API tabs example",variant:"scrollable",scrollButtons:"auto",children:[(0,L.jsx)(n.Z,{label:(0,L.jsxs)(d.Z,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,L.jsx)("strong",{children:"MY ACTIVITY"})," \xa0\xa0"]}),value:"1"}),(0,L.jsx)(n.Z,{label:(0,L.jsxs)(d.Z,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,L.jsx)("strong",{children:"TEAMS ACTIVITY"})," \xa0\xa0"]}),value:"2"}),(0,L.jsx)(n.Z,{label:(0,L.jsxs)(d.Z,{badgeContent:null===u||void 0===u?void 0:u.length,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,L.jsx)("strong",{children:"NEED TO REVIEW"})," \xa0\xa0"]}),value:"3"}),null!==l&&void 0!==l&&l.user.roles.includes("AllDaily")?(0,L.jsx)(n.Z,{label:(0,L.jsxs)(d.Z,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,L.jsx)("strong",{children:"ALL ACTIVITIES"})," \xa0\xa0"]}),value:"4"}):""]})}),(0,L.jsx)(o.Z,{value:"1",className:"ps-0 pe-0",children:(0,L.jsx)(J,{})}),(0,L.jsx)(o.Z,{value:"2",className:"ps-0 pe-0",children:(0,L.jsx)(ce,{tipetab:"team"})}),(0,L.jsx)(o.Z,{value:"3",className:"ps-0 pe-0",children:(0,L.jsx)(le,{misal:u,refetch:m})}),(0,L.jsx)(o.Z,{value:"4",className:"ps-0 pe-0",children:(0,L.jsx)(ce,{tipetab:"all"})})]})})},de=()=>(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(l.Z,{}),(0,L.jsx)(oe,{})]})},19623:(e,s,t)=>{t.d(s,{Z:()=>r});var i=t(43464),l=t(49037),a=t(80971),n=t(80184);const r=e=>{let{bg:s,icon:t,title:r,subtitle:c,loading:o}=e;return(0,n.jsx)(i.Z,{className:"rounded-3",children:(0,n.jsx)(l.Z,{children:(0,n.jsxs)("div",{className:"d-flex align-items-center",children:[(0,n.jsx)("span",{className:`circle-box md-box text-dark-white bg-${s}`,children:(0,n.jsx)("i",{className:`fs-2 bi bi-${t}`})}),(0,n.jsxs)("div",{className:"ms-3",children:[(0,n.jsx)("h2",{className:"mb-1 fw-normal",children:o?"...":r}),(0,n.jsx)(a.Z,{className:"fs-6 text-muted",children:c})]})]})})})}}}]);
//# sourceMappingURL=578.58c1d402.chunk.js.map