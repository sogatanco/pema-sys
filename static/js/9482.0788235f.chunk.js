"use strict";(self.webpackChunkmaterialpro_main=self.webpackChunkmaterialpro_main||[]).push([[9482],{30094:(e,t,a)=>{a.d(t,{A:()=>o});a(65043);var n=a(49157),l=a(18353),i=a(12327),s=a(22345),d=a(22019),r=a(70579);const o=e=>{let{title:t,sub:a,count:o,tipe:c,color:u}=e;return(0,r.jsx)(n.A,{className:u,children:(0,r.jsxs)(l.A,{children:[(0,r.jsxs)("div",{className:"d-flex",children:[(0,r.jsx)("div",{className:"me-3 align-self-center",children:(0,r.jsx)("h1",{className:"text-dark-white",children:(0,r.jsx)("i",{className:"bi bi-pie-chart"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-dark-white",children:t}),(0,r.jsx)("h6",{className:"text-dark-white",children:a})]})]}),(0,r.jsxs)(i.A,{children:[(0,r.jsx)(s.A,{xs:5,className:"d-flex align-items-center",children:(0,r.jsx)("h1",{className:"text-dark-white text-truncate mb-0",children:o})}),(0,r.jsx)(s.A,{xs:7,className:"align-self-center",children:(0,r.jsx)("div",{className:"d-flex align-items-center",style:{height:"105px"},children:(0,r.jsx)(d.A,{options:{chart:{toolbar:{show:!1},fontFamily:"'Poppins', sans-serif"},dataLabels:{enabled:!1},colors:["rgba(255,255,255,0.5)"],xaxis:{categories:["0","4","8","12","16","20","24","30"],labels:{show:!1},axisBorder:{show:!1},axisTicks:{show:!1}},stroke:{curve:"smooth",width:3,colors:"rgba(255, 255, 255, 0.5)"},yaxis:{show:!1},grid:{show:!1},tooltip:{enabled:!1,theme:"dark"}},series:[{name:"Bandwidth usage",data:[5,0,12,1,8,3,12,15]}],type:c,height:"120"})})})]})]})})}},67794:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ee});var n=a(65043),l=a(81509),i=a(77348),s=a(22016),d=a(15710),r=a(86506),o=a(24056),c=a(93933),u=a(49157),p=a(18353),m=a(23222),g=a(10591),h=a(20782),x=a(97877),b=a(53193),v=a(79190),j=a(51787),y=a(74050),A=a(62954),_=a(96460),k=a(55918),f=a.n(k),w=a(11906),S=a(30815),N=a(73216),D=a(17115),P=a.n(D),C=a(20917),T=a(40028),M=a(93397),Y=a(30342),R=a(89379),L=a(60446),B=a.n(L),E=(a(67819),a(42788)),F=a(37970),U=a(28007),K=a(63254),I=a(38067),H=a(10826),z=a(26259),J=a(74605),O=a(14256),q=a(57972),G=a(85865),W=a(13389),Z=a(80135),V=a(58390),$=a(89302),X=a(66919),Q=a(18039),ee=a(58786),te=(a(94727),a(46600),a(70579));B().locale("id");const ae=e=>{var t,a,l,i;let{employes:s,pihaks:d,jeniss:r,kategoris:o,dasars:c,klasifikasi:u,sumberBiaya:p,renbis:v,closeForm:j,refetchSubmitted:y}=e;const[_,k]=n.useState(!1),[N,D]=n.useState(1),[P,Y]=(0,n.useState)(!1),[L,ae]=n.useState(""),[ne,le]=n.useState(""),[ie,se]=n.useState(""),[de,re]=n.useState(""),[oe,ce]=n.useState(),[ue,pe]=n.useState(null),[me,ge]=n.useState(),[he,xe]=n.useState(""),[be,ve]=n.useState(""),[je,ye]=n.useState(""),[Ae,_e]=n.useState(""),[ke,fe]=n.useState(""),[we,Se]=n.useState(""),[Ne,De]=n.useState(""),[Pe,Ce]=n.useState(""),[Te,Me]=n.useState(B()()),[Ye,Re]=n.useState(B()().add(1,"day")),[Le,Be]=n.useState(""),[Ee,Fe]=n.useState([]),[Ue,Ke]=n.useState(50),[Ie,He]=n.useState(50),[ze,Je]=n.useState(50),[Oe,qe]=n.useState(50),[Ge,We]=n.useState(50),[Ze,Ve]=n.useState(0),[$e,Xe]=(0,n.useState)([]),[Qe,et]=(0,n.useState)([]),[tt,at]=(0,n.useState)(null),nt=e=>{const t=$e.indexOf(e);t<0?$e.push(e):$e.splice(t,1),Xe([...$e]),console.log($e.length)},lt=[{name:"Action",selector:e=>(0,te.jsx)(f(),{icon:"delete_forever",style:{fontSize:20,cursor:"pointer"},onClick:()=>{Fe(Ee.filter(((t,a)=>a!==Ee.indexOf(e))))}})},{name:"Dasar SPPD",selector:e=>{var t;return null===c||void 0===c||null===(t=c.filter((t=>t.id===e.dasar_sppd))[0])||void 0===t?void 0:t.dasar_sppd}},{name:"Tujuan",selector:e=>e.detail_tujuan},{name:"Tugas",selector:e=>e.tugas_sppd},{name:"Waktu Berangkat",selector:e=>e.waktu_berangkat.format("DD/MM/YYYY HH:mm:ss")},{name:"Tiba Kembali",selector:e=>e.waktu_kembali.format("DD/MM/YYYY HH:mm:ss")}],it=()=>Y(!P),st=(e,t)=>{"makan"===e.target.name?Ke(t):"tiket"===e.target.name?He(t):"transport"===e.target.name?Je(t):"hotel"===e.target.name?qe(t):"uangSaku"===e.target.name&&We(t)},dt=(0,M.A)();(0,n.useEffect)((()=>{dt.get("dapi/sppd/listsharing?wb=".concat(Te.format("YYYY-MM-DD"))).then((e=>{et(e.data.data)})),at(null)}),[Te]),(0,n.useEffect)((()=>{var e,t;(le(" "),se(" "),re("-"),Fe([]),d)&&(ge(null===d||void 0===d||null===(e=d.filter((e=>e.id===N))[0].base_golongan[0])||void 0===e?void 0:e.id),ce(null===d||void 0===d||null===(t=d.filter((e=>e.id===N))[0].base_penomoran[0])||void 0===t?void 0:t.id))}),[N]),(0,n.useEffect)((()=>{(async e=>{await dt.get("dapi/sppd/static/employee/".concat(e)).then((t=>{var a,n,l,i,s,d,r,o;re(e),le(null===t||void 0===t||null===(a=t.data)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.first_name),se(null===t||void 0===t||null===(l=t.data)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.position_name),ge(null===t||void 0===t||null===(s=t.data)||void 0===s||null===(d=s.data)||void 0===d?void 0:d.rate_sppd),ce(null===t||void 0===t||null===(r=t.data)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.nomor_sppd)})).catch((e=>console.log(e)))})(null===ue||void 0===ue?void 0:ue.value),Fe([])}),[ue]),(0,n.useEffect)((()=>{1===ke?(Ke(100),He(100),Je(100),qe(100),We(100)):2===ke?(Ke(0),He(0),Je(0),qe(0),We(0)):(Ke(50),He(50),Je(50),qe(50),We(50))}),[ke]);return d?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{select:!0,style:{width:"100%"},variant:"outlined",value:N,onChange:e=>D(e.target.value),label:"Pihak Yang Melakukan SPPD",children:null===d||void 0===d?void 0:d.map((e=>(0,te.jsx)(F.A,{value:e.id,children:e.pihak_name},e.id)))})}),(0,te.jsx)(S.A,{className:"mb-5",children:(0,te.jsx)(E.A,{style:{width:"100%"},id:"outlined-multiline-static",placeholder:"Berdasarkan . . . . . . . Dengan ini memberi tugas kepada :",label:"Narasi Tugas",multiline:!0,value:L,onChange:e=>ae(e.target.value),rows:4})}),1===N?(0,te.jsx)(te.Fragment,{children:(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(U.A,{style:{width:"100%"},disablePortal:!0,id:"combo-box-demo",options:s||[],value:ue,onChange:(e,t)=>{"string"===typeof t?pe({label:t}):t&&t.inputValue?pe({label:t.inputValue}):pe(t)},getOptionLabel:e=>"string"===typeof e?e:e.inputValue?e.inputValue:e.label,renderOption:(e,t)=>(0,te.jsx)("li",(0,R.A)((0,R.A)({},e),{},{children:t.label})),renderInput:e=>(0,te.jsx)(E.A,(0,R.A)((0,R.A)({},e),{},{label:"Nama Karyawan"}))})})}):"",2===N&&d?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{id:"outlined-basic",style:{width:"100%"},label:"Nama",value:ne||" ",onChange:e=>le(e.target.value),variant:"outlined"})}),(0,te.jsx)(S.A,{className:"mb-3",sx:{p:1,borderRadius:2,marginTop:2,border:"0.5px solid #C4C4C4"},children:(0,te.jsx)(b.A,{children:oe&&2===N?(0,te.jsx)(te.Fragment,{children:(0,te.jsx)(q.A,{row:!0,"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:oe||(null===d||void 0===d||null===(t=d.filter((e=>e.id===N))[0].base_penomoran[0])||void 0===t?void 0:t.id),onChange:e=>ce(e.target.value),children:null===d||void 0===d||null===(a=d.filter((e=>e.id===N))[0].base_penomoran)||void 0===a?void 0:a.map((e=>(0,te.jsx)(J.A,{value:e.id,control:(0,te.jsx)(O.A,{}),label:e.name,className:"me-5"},e.id)))})}):""})}),(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{id:"outlined-basic",style:{width:"100%"},value:ie||" ",onChange:e=>se(e.target.value),label:"Jabatan / Instansi",variant:"outlined"})}),(0,te.jsxs)(S.A,{className:"mb-3",children:[me?(0,te.jsx)(E.A,{style:{width:"100%"},variant:"outlined",value:me||(null===d||void 0===d||null===(l=d.filter((e=>e.id===N))[0].base_golongan[0])||void 0===l?void 0:l.id),onChange:e=>ge(e.target.value),select:!0,label:"Golongan",children:null===d||void 0===d||null===(i=d.filter((e=>e.id===N))[0].base_golongan)||void 0===i?void 0:i.map((e=>(0,te.jsx)(F.A,{value:e.id,children:e.golongan},e.id)))}):"",(0,te.jsxs)("a",{type:"button",id:"PopoverLegacy",className:"text-muted float-end",children:[" ",(0,te.jsx)(f(),{icon:"help",className:"text-muted float-end"})]}),(0,te.jsxs)(K.A,{placement:"bottom",target:"PopoverLegacy",trigger:"legacy",children:[(0,te.jsx)(I.A,{children:"Keterangan"}),(0,te.jsxs)(H.A,{children:[(0,te.jsx)("b",{children:"Gol 1"})," : Asisten Setda Aceh, Kepala Dinas, Kepala/Wakil Deputi ",(0,te.jsx)("br",{}),(0,te.jsx)("b",{children:"Gol 2 "}),": Sekretaris Dinas, Kepala Bagian, Kepala Divisi",(0,te.jsx)("br",{}),(0,te.jsx)("b",{children:"Gol 3 "}),": Yang tidak termasuk dalam Golongan 1 dan Golongan 2",(0,te.jsx)("br",{})]})]})]})]}):"",(0,te.jsx)(S.A,{className:"mt-5",children:(0,te.jsx)(w.A,{variant:"outlined",size:"large",style:{width:0===Ee.length?"100%":"30%"},className:"float-end",onClick:e=>{e.preventDefault(),ne&&ie&&" "!==ne&&" "!==ie?it():(0,T.x)("error","Lengkapi data terlebih dahulu")},children:"Tambah Tujuan SPPD"})}),Ee.length>0?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(S.A,{sx:{p:2,borderRadius:2,marginTop:15,border:"0.5px solid #C4C4C4"},children:(0,te.jsx)(ee.Ay,{columns:lt,data:Ee})}),(0,te.jsx)(S.A,{className:"mt-5",children:(0,te.jsx)(w.A,{color:"primary",variant:"contained",size:"large",style:{width:"100%"},className:"float-end",onClick:async()=>{await(0,C.ZX)({title:"Kamu Yakin ?",message:"Silakan periksa kembali data yang anda masukkan",buttons:[{label:"Yes",onClick:()=>{k(!0),console.log(Ee),dt.post("dapi/sppd/pengajuan",{employe_id:de,name:ne,jabatann:ie,rate:me,nomor:oe,narasi:L,tujuan_sppd:Ee}).then((e=>{k(!1),200===e.status?((0,T.x)("success","SPPD Berhasil diajukan !"),D(1===N?2:1),j(),y()):(0,T.x)("error","SPPD Gagal diajukan, Hubungi Tim IT untuk problem selanjutnya !")})).catch((e=>(0,T.x)("error","".concat(e.message))))}},{label:"No",onClick:()=>{}}]})},disabled:_,children:_?"Loading . . .":"Submit Pengajuan"})})]}):"",(0,te.jsxs)(m.A,{isOpen:P,toggle:it,size:"lg",children:[(0,te.jsx)(g.A,{toggle:it,children:"Tujuan SPPD"}),(0,te.jsxs)(h.A,{children:[(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{style:{width:"100%"},variant:"outlined",value:be,onChange:e=>ve(e.target.value),select:!0,label:"Jenis Perjalanan Dinas",children:null===r||void 0===r?void 0:r.map((e=>(0,te.jsx)(F.A,{value:e.id,children:e.jenis_sppd},e.id)))})}),(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{style:{width:"100%"},variant:"outlined",value:je,onChange:e=>ye(e.target.value),select:!0,label:"Dasar Perjalanan Dinas",children:null===c||void 0===c?void 0:c.map((e=>(0,te.jsx)(F.A,{value:e.id,children:e.dasar_sppd},e.id)))})}),2===je?(0,te.jsxs)(te.Fragment,{children:[" ",(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(w.A,{style:{width:"100%"},component:"label",size:"large",variant:""!==Le?"contained":"outlined",tabIndex:-1,startIcon:(0,te.jsx)(A.A,{}),onClick:()=>document.getElementById("input-file").click(),children:""!==Le?"Upload Ulang":"Upload Undangan"})}),(0,te.jsx)("input",{type:"file",id:"input-file",style:{display:"none"},accept:"application/pdf",onChange:e=>{var t;(t=e.target.files[0],new Promise((e=>{let a="";const n=new FileReader;n.readAsDataURL(t),n.onload=()=>{a=n.result,e(a)}}))).then((e=>{Be(e)})).catch((e=>{console.log(e)}))}})]}):(0,te.jsx)(te.Fragment,{}),(0,te.jsx)(S.A,{className:"mt-5 mb-3",children:(0,te.jsx)(E.A,{style:{width:"100%"},variant:"outlined",value:Ae,onChange:e=>_e(e.target.value),select:!0,label:"Klasifikasi Bisnis",children:null===u||void 0===u?void 0:u.map((e=>(0,te.jsx)(F.A,{value:e.id,children:e.k_bisnis},e.id)))})}),(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{style:{width:"100%"},variant:"outlined",value:ke,onChange:e=>fe(e.target.value),select:!0,label:"Sumber Biaya",children:null===p||void 0===p?void 0:p.map((e=>(0,te.jsx)(F.A,{value:e.id,children:e.sumber_biaya},e.id)))})}),1===ke||3===ke?(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{style:{width:"100%"},variant:"outlined",value:we,onChange:e=>Se(e.target.value),select:!0,label:"RKAP PEMA",children:null===v||void 0===v?void 0:v.map((e=>(0,te.jsxs)(F.A,{value:e.id,children:[(0,te.jsxs)("b",{children:[e.renbis," "]})," ",(0,te.jsxs)("i",{children:[" \xa0tahun anggaran ",e.tahun]})]},e.id)))})}):(0,te.jsx)(te.Fragment,{}),3===ke?(0,te.jsx)(te.Fragment,{children:(0,te.jsxs)(S.A,{sx:{p:2,borderRadius:2,marginTop:2,border:"0.5px solid #C4C4C4"},children:[(0,te.jsx)("h5",{children:"Ketentuan Sharing"}),(0,te.jsx)(W.Ay,{step:5,name:"tiket",value:Ie,valueLabelDisplay:"auto",min:0,max:100,onChange:st}),(0,te.jsxs)(S.A,{sx:{display:"flex",justifyContent:"space-between",marginTop:-2},children:[(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>He(100),sx:{cursor:"pointer"},children:[Ie,"% Pema"]}),(0,te.jsx)(G.A,{variant:"body2",color:"primary",children:"Tiket"}),(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>He(0),sx:{cursor:"pointer"},children:[100-Ie,"% Sponsor"]})]}),(0,te.jsx)(W.Ay,{className:"mt-4",name:"makan",step:5,value:Ue,valueLabelDisplay:"auto",min:0,max:100,onChange:st}),(0,te.jsxs)(S.A,{sx:{display:"flex",justifyContent:"space-between",marginTop:-2},children:[(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>Ke(100),sx:{cursor:"pointer"},children:[Ue,"% Pema"]}),(0,te.jsx)(G.A,{variant:"body2",color:"primary",children:"Uang Makan"}),(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>Ke(0),sx:{cursor:"pointer"},children:[100-Ue,"% Sponsor"]})]}),(0,te.jsx)(W.Ay,{className:"mt-4",step:5,name:"transport",value:ze,valueLabelDisplay:"auto",min:0,max:100,onChange:st}),(0,te.jsxs)(S.A,{sx:{display:"flex",justifyContent:"space-between",marginTop:-2},children:[(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>Je(100),sx:{cursor:"pointer"},children:[ze,"% Pema"]}),(0,te.jsx)(G.A,{variant:"body2",color:"primary",children:"Transportasi Lokal"}),(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>Je(0),sx:{cursor:"pointer"},children:[100-ze,"% Sponsor"]})]}),(0,te.jsx)(W.Ay,{step:5,className:"mt-4",name:"uangSaku",value:Ge,valueLabelDisplay:"auto",min:0,max:100,onChange:st}),(0,te.jsxs)(S.A,{sx:{display:"flex",justifyContent:"space-between",marginTop:-2},children:[(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>We(100),sx:{cursor:"pointer"},children:[Ge,"% Pema"]}),(0,te.jsx)(G.A,{variant:"body2",color:"primary",children:"Uang Saku"}),(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>We(0),sx:{cursor:"pointer"},children:[100-Ge,"% Sponsor"]})]}),(0,te.jsx)(W.Ay,{name:"hotel",className:"mt-4",step:5,style:{width:"100%"},value:Oe,valueLabelDisplay:"auto",min:0,max:100,onChange:st}),(0,te.jsxs)(S.A,{sx:{display:"flex",justifyContent:"space-between",marginTop:-2},children:[(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>qe(100),sx:{cursor:"pointer"},children:[Oe,"% Pema"]}),(0,te.jsx)(G.A,{variant:"body2",color:"primary",className:"text-bold",children:"Penginapan"}),(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>qe(0),sx:{cursor:"pointer"},children:[100-Oe,"% Sponsor"]})]})]})}):(0,te.jsx)(te.Fragment,{}),(0,te.jsx)(S.A,{className:"mt-5 mb-3",children:(0,te.jsx)(E.A,{style:{width:"100%"},variant:"outlined",value:he,onChange:e=>xe(e.target.value),select:!0,label:"Tujuan Perjalanan Dinas",children:null===o||void 0===o?void 0:o.map((e=>(0,te.jsx)(F.A,{value:e.id,children:e.categori_sppd},e.id)))})}),""!==he?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{style:{width:"100%"},id:"outlined-multiline-static",placeholder:"Kantor Pusat Pertamina\r\nGedung Perwira 6 Lantai 2\r\nJl. Medan Merdeka Timur 1A,\r\nJakarta Pusat 10110",label:"Tujuan Perjalanan Dinas Lengkap",value:Ne,onChange:e=>De(e.target.value),multiline:!0,rows:4})}),(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{style:{width:"100%"},id:"outlined-multiline-static",placeholder:"Sebutkan Tugas Yang harus dilakukan oleh Pelaku Perjalanan Dinas",label:"Tugas Dalam Perjalanan Dinas",multiline:!0,value:Pe,onChange:e=>Ce(e.target.value),rows:4})}),(0,te.jsx)(S.A,{children:(0,te.jsx)(V.$,{dateAdapter:$.R,adapterLocale:"id",children:(0,te.jsxs)(Z.j,{components:["DateTimePicker","DateTimePicker"],children:[(0,te.jsx)(X.K,{label:"Waktu Keberangkatan",ampm:!1,value:Te,onChange:Me,viewRenderers:{hours:Q.Zo,minutes:Q.Zo}}),(0,te.jsx)(X.K,{ampm:!1,value:Ye,onChange:Re,label:"Waktu Tiba Kembali",viewRenderers:{hours:Q.Zo,minutes:Q.Zo}})]})})}),(0,te.jsxs)(S.A,{sx:{display:"flex",justifyContent:"space-between",p:2,borderRadius:2,border:"0.5px solid #C4C4C4"},className:" mt-3 mb-3",children:[(0,te.jsx)(z.A,{className:"btn-sm",color:"info",outline:!0,onClick:()=>nt("darat"),active:$e.includes("darat"),children:"Transportasi Jalur Darat"}),(0,te.jsx)(z.A,{className:"btn-sm",color:"info",outline:!0,onClick:()=>nt("udara"),active:$e.includes("udara"),children:"Transportasi Jalur Udara"}),(0,te.jsx)(z.A,{className:"btn-sm",color:"info",outline:!0,onClick:()=>nt("laut"),active:$e.includes("laut"),children:"Transportasi Jalur Laut"})]}),(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{id:"outlined-basic",style:{width:"100%"},label:"Uang BBM (optional)",placeholder:"Diisi jika yang melakukan SPPD adalah driver atau pihak eksternal sesuai dengan aturan yang berlaku",value:Ze,onChange:e=>Ve(e.target.value),variant:"outlined"})}),(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(U.A,{style:{width:"100%"},disablePortal:!0,id:"combo-box-demo",options:Qe||[],value:tt,onChange:(e,t)=>{"string"===typeof t?at({label:t}):t&&t.inputValue?at({label:t.inputValue}):at(t)},getOptionLabel:e=>"string"===typeof e?e:e.inputValue?e.inputValue:e.label,renderOption:(e,t)=>(0,te.jsx)("li",(0,R.A)((0,R.A)({},e),{},{children:t.label})),renderInput:e=>(0,te.jsx)(E.A,(0,R.A)((0,R.A)({},e),{},{label:"Sharing Penginapan"}))})})]}):""]}),(0,te.jsx)(x.A,{children:(0,te.jsx)(w.A,{color:"primary",variant:"contained",onClick:e=>{if(console.log(null===tt||void 0===tt?void 0:tt.value),e.preventDefault(),""!==be&&""!==je&&""!==Ae&&""!==ke&&""!==he&&""!==Ne&&""!==Pe&&0!==$e.length){const e={jenis_sppd:be,dasar_sppd:je,klasifikasi:Ae,sumber_biaya:ke,p_tiket:Ie,p_um:Ue,p_tl:ze,p_us:Ge,p_hotel:Oe,kategori_sppd:he,detail_tujuan:Ne,tugas_sppd:Pe,waktu_berangkat:Te,waktu_kembali:Ye,file_undangan:Le||"-",renbis:we||null,moda:$e.toLocaleString(),ubbm:Ze||0,shareWith:(null===tt||void 0===tt?void 0:tt.value)||null};Ee.push(e),ve(""),ye(""),_e(""),fe(""),xe(""),De(""),Se(""),Be(""),Ce(""),Xe([]),Ve(0),at(null),(0,T.x)("success","Tujuan SPPD Berhasil ditambahkan"),it()}else(0,T.x)("error","Lengkapi data terlebih dahulu")},children:"Simpan Tujuan"})})]})]}):(0,te.jsx)(te.Fragment,{children:"Loading ...."})};var ne=a(89804),le=a(72679);const ie=e=>{let{submitted:t,updateForm:a,toggleDetail:l,toggleApproval:i,toggleLog:s,value:d,toggleR:r,toggleDoc:o,toggleRe:c,done:u,extend:p}=e;const[m,g]=n.useState(""),[h,x]=n.useState([]),[b,v]=n.useState(!1),[j,y]=n.useState(!1);(0,n.useEffect)((()=>{x(t),"3"===d&&v(!0),"4"===d&&y(!0)}),[t,d]),(0,n.useEffect)((()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.nama.toLocaleLowerCase().match(m.toLocaleLowerCase())));x(e),console.log(m)}),[m]);const A=[{name:"Actions",width:"".concat("1"===d?"455px":"380px"),selector:e=>(0,te.jsxs)(te.Fragment,{children:["1"===d?(0,te.jsx)(z.A,{className:"me-2",size:"sm",outline:!0,color:"danger",tag:"input",type:"reset",value:"signed"!==e.current_status?"Update":"Ekstend",onClick:()=>(e=>{"signed"===e.current_status?p(e):a(e)})(e)}):"",(0,te.jsx)(z.A,{size:"sm",className:"me-2",outline:!0,color:"dark",tag:"input",type:"reset",value:"Detail",onClick:()=>l(e)}),(0,te.jsx)(z.A,{className:"me-2",size:"sm",outline:!0,color:"success",tag:"input",type:"reset",value:"Approval",onClick:()=>i(e)}),(0,te.jsx)(z.A,{className:"me-2",size:"sm",outline:!0,color:"primary",tag:"input",type:"reset",value:"Logs",onClick:()=>s(e)}),"3"===d?(0,te.jsx)(z.A,{className:"me-2",size:"sm",outline:!0,color:"danger",tag:"input",type:"reset",value:"Review",onClick:()=>r(e)}):"",(0,te.jsx)(z.A,{className:"me-2",size:"sm",outline:!0,color:"warning",tag:"input",type:"reset",value:"Docs",onClick:()=>o(e)}),"4"===d?(0,te.jsx)(z.A,{className:"me-2",size:"sm",outline:!0,color:"info",tag:"input",type:"reset",value:"Process",onClick:()=>u(e)}):"","1"===d?(0,te.jsx)(z.A,{className:"me-2",size:"sm",outline:!0,color:"warning",tag:"input",type:"reset",value:"Realisasi",onClick:()=>{"signed"===e.current_status?c(e):(0,T.x)("error","Realisasi hanya bisa dilakukan pada status approved")}}):""]})},{name:"Nomor ST",selector:e=>e.nomor_sppd},{name:"Nama",selector:e=>e.nama},{name:"Jabatan",selector:e=>e.jabatan},{name:"Diajukan sejak",selector:e=>"".concat(new Date(e.created_at).toLocaleDateString("en-us","numeric")," ").concat(new Date(e.created_at).toLocaleTimeString()," ")},{name:"Jenis Proses",selector:e=>(0,te.jsx)(ne.A,{color:"info",style:{width:"100px"},children:e.type_proses}),omit:!j},{name:"Jenis Persetujuan",selector:e=>(0,te.jsx)(ne.A,{color:"success",style:{width:"100px"},children:e.current_type}),omit:!b},{name:"Status Pengajuan",selector:e=>"signed"===e.current_status?(0,te.jsx)(ne.A,{color:"success",style:{width:"100px"},children:"Approved"}):"rejected"===e.current_status?(0,te.jsx)(ne.A,{color:"danger",style:{width:"100px"},children:"Rejected"}):(0,te.jsx)(ne.A,{color:"warning",style:{width:"100px"},children:"Under Review"}),omit:b},{name:"Status Realisasi",selector:e=>e.realisasi_status?(0,te.jsx)(ne.A,{color:"info",style:{width:"100px"},children:e.realisasi_status}):(0,te.jsx)(ne.A,{color:"dark",style:{width:"100px"},children:"Belum Ada"})}];return(0,te.jsx)(te.Fragment,{children:(0,te.jsx)(ee.Ay,{keyField:"4"===d?"id_unique":"id",columns:A,data:h,pagination:!0,subHeader:!0,subHeaderComponent:(0,te.jsx)("div",{className:"d-flex justify-content-end w-100",children:(0,te.jsx)(le.A,{type:"text",value:m,placeholder:"search . . . . ",className:"w-25",onChange:e=>g(e.target.value)})})})})},se=e=>{let{wannaEdit:t,dasars:a,jeniss:l,kategoris:i,renbis:s,klasifikasi:d,sumberBiaya:r,setEditForm:o,refetchSubmitted:c}=e;const[u,p]=(0,n.useState)(!1),[b,v]=(0,n.useState)(!1),[j,y]=n.useState(""),[_,k]=(0,n.useState)(!1),[N,D]=(0,n.useState)(""),[P,Y]=(0,n.useState)(""),[L,K]=(0,n.useState)(),[I,H]=(0,n.useState)(),[J,O]=n.useState([]),[q,ae]=n.useState(""),[ne,le]=n.useState(""),[ie,se]=n.useState(""),[de,re]=n.useState(""),[oe,ce]=n.useState(""),[ue,pe]=n.useState(""),[me,ge]=n.useState(""),[he,xe]=n.useState(""),[be,ve]=n.useState(B()()),[je,ye]=n.useState(B()().add(1,"day")),[Ae,_e]=n.useState(""),[ke,fe]=n.useState(50),[we,Se]=n.useState(50),[Ne,De]=n.useState(50),[Pe,Ce]=n.useState(50),[Te,Me]=n.useState(50),[Ye,Re]=n.useState(0),[Le,Be]=(0,n.useState)([]),[Ee,Fe]=(0,n.useState)([]),[Ue,Ke]=(0,n.useState)(null),[Ie,He]=n.useState(""),ze=e=>{const t=Le.indexOf(e);t<0?Le.push(e):Le.splice(t,1),Be([...Le]),console.log(Le.length)},Je=()=>v(!b),Oe=(0,M.A)(),qe=[{name:"Action",selector:e=>(0,te.jsx)(f(),{icon:"delete_forever",style:{fontSize:20,cursor:"pointer"},onClick:()=>{O(J.filter(((t,a)=>a!==J.indexOf(e))))}})},{name:"Dasar SPPD",selector:e=>{var t;return null===a||void 0===a||null===(t=a.filter((t=>t.id===e.dasar_sppd))[0])||void 0===t?void 0:t.dasar_sppd}},{name:"Tujuan",selector:e=>e.detail_tujuan},{name:"Tugas",selector:e=>e.tugas_sppd},{name:"Waktu Berangkat",selector:e=>{var t;return null===(t=e.waktu_berangkat)||void 0===t?void 0:t.format("DD/MM/YYYY HH:mm:ss")}},{name:"Tiba Kembali",selector:e=>{var t;return null===(t=e.waktu_kembali)||void 0===t?void 0:t.format("DD/MM/YYYY HH:mm:ss")}}],Ge=(e,t)=>{"makan"===e.target.name?fe(t):"tiket"===e.target.name?Se(t):"transport"===e.target.name?De(t):"hotel"===e.target.name?Ce(t):"uangSaku"===e.target.name&&Me(t)};(0,n.useEffect)((()=>{Oe.get("dapi/sppd/listsharing?wb=".concat(be.format("YYYY-MM-DD"))).then((e=>{Fe(e.data.data)})),Ke(null)}),[be]);(0,n.useEffect)((()=>{K(null===t||void 0===t?void 0:t.id),y(null===t||void 0===t?void 0:t.nama),1===t.id_pihak?k(!0):k(!1),D(null===t||void 0===t?void 0:t.jabatan),Y(null===t||void 0===t?void 0:t.golongan),H(null===t||void 0===t?void 0:t.golongan_rate),He(null===t||void 0===t?void 0:t.narasi_st),Oe.get("dapi/sppd/pengajuan/".concat(null===t||void 0===t?void 0:t.id)).then((e=>{const t=[];e.data.data.tujuan_sppd.forEach((e=>{const a={jenis_sppd:e.id_jenis,dasar_sppd:e.id_dasar,klasifikasi:e.id_k_bisnis,sumber_biaya:e.id_sumber,p_tiket:e.p_tiket,p_um:e.p_um,p_tl:e.p_tl,p_us:e.p_us,p_hotel:e.p_hotel,kategori_sppd:e.id_kategori,detail_tujuan:e.detail_tujuan,tugas_sppd:e.tugas,waktu_berangkat:B()(e.waktu_berangkat),waktu_kembali:B()(e.waktu_kembali),file_undangan:e.base64_undangan,renbis:e.id_rkap,moda:e.moda,ubbm:e.bbm,shareWith:e.share_with};t.push(a)})),O(t)}))}),[t]),(0,n.useEffect)((()=>{1===oe?(Se(100),Ce(100),De(100),Me(100),fe(100)):3===oe?(Se(50),Ce(50),De(50),Me(50),fe(50)):2===oe&&(Se(0),Ce(0),De(0),Me(0),fe(0))}),[oe]);return(0,te.jsxs)(te.Fragment,{children:[t?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{id:"outlined-basic",style:{width:"100%"},label:"Nama",value:j,onChange:e=>y(e.target.value),variant:"outlined",disabled:_})}),(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{id:"outlined-basic",style:{width:"100%"},label:"Jabatan",value:N,onChange:e=>D(e.target.value),variant:"outlined",disabled:_})}),(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{id:"outlined-basic",style:{width:"100%"},label:"Golongan Rate",value:P,onChange:e=>Y(e.target.value),variant:"outlined",disabled:!0})}),(0,te.jsx)(S.A,{className:"mb-5",children:(0,te.jsx)(E.A,{style:{width:"100%"},id:"outlined-multiline-static",placeholder:"Berdasarkan . . . . . . . Dengan ini memberi tugas kepada :",label:"Narasi Tugas",multiline:!0,value:Ie,onChange:e=>He(e.target.value),rows:4})}),(0,te.jsx)(S.A,{className:"mt-5",children:(0,te.jsx)(w.A,{variant:"outlined",size:"large",style:{width:0===J.length?"100%":"30%"},className:"float-end",onClick:e=>{e.preventDefault(),j&&N&&" "!==j&&" "!==N?Je():(0,T.x)("error","Lengkapi data terlebih dahulu")},children:"Tambah Tujuan SPPD"})}),J.length>0?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(S.A,{sx:{p:2,borderRadius:2,marginTop:15,border:"0.5px solid #C4C4C4"},children:(0,te.jsx)(ee.Ay,{columns:qe,data:J})}),(0,te.jsx)(S.A,{className:"mt-5",children:(0,te.jsx)(w.A,{color:"primary",variant:"contained",size:"large",style:{width:"100%"},className:"float-end",onClick:async()=>{await(0,C.ZX)({title:"Kamu Yakin ?",message:"Proses approval dokumen akan kembali ke step pertama setelah melakukan update",buttons:[{label:"Yes",onClick:()=>{p(!0),console.log(J),Oe.post("dapi/sppd/pengajuan/update/".concat(L),{name:j,jabatann:N,rate:I,narasi:Ie,tujuan_sppd:J}).then((e=>{p(!1),200===e.status?((0,T.x)("success","SPPD Berhasil diupdate !"),o(!1),c()):(0,T.x)("error","SPPD Gagal diajukan, Hubungi Tim IT untuk problem selanjutnya !")})).catch((e=>{(0,T.x)("error","".concat(e.message))}))}},{label:"No",onClick:()=>{}}]})},disabled:u,children:u?"Loading . . .":"Update Pengajuan"})})]}):""]}):"loading . . . ",(0,te.jsxs)(m.A,{isOpen:b,toggle:Je,size:"lg",children:[(0,te.jsx)(g.A,{toggle:Je,children:"Tujuan SPPD"}),(0,te.jsxs)(h.A,{children:[(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{style:{width:"100%"},variant:"outlined",value:ne,onChange:e=>le(e.target.value),select:!0,label:"Jenis Perjalanan Dinas",children:null===l||void 0===l?void 0:l.map((e=>(0,te.jsx)(F.A,{value:e.id,children:e.jenis_sppd},e.id)))})}),(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{style:{width:"100%"},variant:"outlined",value:ie,onChange:e=>se(e.target.value),select:!0,label:"Dasar Perjalanan Dinas",children:null===a||void 0===a?void 0:a.map((e=>(0,te.jsx)(F.A,{value:e.id,children:e.dasar_sppd},e.id)))})}),2===ie?(0,te.jsxs)(te.Fragment,{children:[" ",(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(w.A,{style:{width:"100%"},component:"label",size:"large",variant:""!==Ae?"contained":"outlined",tabIndex:-1,startIcon:(0,te.jsx)(A.A,{}),onClick:()=>document.getElementById("input-file").click(),children:""!==Ae?"Upload Ulang":"Upload Undangan"})}),(0,te.jsx)("input",{type:"file",id:"input-file",style:{display:"none"},accept:"application/pdf",onChange:e=>{var t;(t=e.target.files[0],new Promise((e=>{let a="";const n=new FileReader;n.readAsDataURL(t),n.onload=()=>{a=n.result,e(a)}}))).then((e=>{_e(e)})).catch((e=>{console.log(e)}))}})]}):(0,te.jsx)(te.Fragment,{}),(0,te.jsx)(S.A,{className:"mt-5 mb-3",children:(0,te.jsx)(E.A,{style:{width:"100%"},variant:"outlined",value:de,onChange:e=>re(e.target.value),select:!0,label:"Klasifikasi Bisnis",children:null===d||void 0===d?void 0:d.map((e=>(0,te.jsx)(F.A,{value:e.id,children:e.k_bisnis},e.id)))})}),(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{style:{width:"100%"},variant:"outlined",value:oe,onChange:e=>ce(e.target.value),select:!0,label:"Sumber Biaya",children:null===r||void 0===r?void 0:r.map((e=>(0,te.jsx)(F.A,{value:e.id,children:e.sumber_biaya},e.id)))})}),1===oe||3===oe?(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{style:{width:"100%"},variant:"outlined",value:ue,onChange:e=>pe(e.target.value),select:!0,label:"RKAP PEMA",children:null===s||void 0===s?void 0:s.map((e=>(0,te.jsxs)(F.A,{value:e.id,children:[(0,te.jsxs)("b",{children:[e.renbis," "]})," ",(0,te.jsxs)("i",{children:[" \xa0tahun anggaran ",e.tahun]})]},e.id)))})}):(0,te.jsx)(te.Fragment,{}),3===oe?(0,te.jsx)(te.Fragment,{children:(0,te.jsxs)(S.A,{sx:{p:2,borderRadius:2,marginTop:2,border:"0.5px solid #C4C4C4"},children:[(0,te.jsx)("h5",{children:"Ketentuan Sharing"}),(0,te.jsx)(W.Ay,{step:5,name:"tiket",value:we,valueLabelDisplay:"auto",min:0,max:100,onChange:Ge}),(0,te.jsxs)(S.A,{sx:{display:"flex",justifyContent:"space-between",marginTop:-2},children:[(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>Se(100),sx:{cursor:"pointer"},children:[we,"% Pema"]}),(0,te.jsx)(G.A,{variant:"body2",color:"primary",children:"Tiket"}),(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>Se(0),sx:{cursor:"pointer"},children:[100-we,"% Sponsor"]})]}),(0,te.jsx)(W.Ay,{className:"mt-4",name:"makan",step:5,value:ke,valueLabelDisplay:"auto",min:0,max:100,onChange:Ge}),(0,te.jsxs)(S.A,{sx:{display:"flex",justifyContent:"space-between",marginTop:-2},children:[(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>fe(100),sx:{cursor:"pointer"},children:[ke,"% Pema"]}),(0,te.jsx)(G.A,{variant:"body2",color:"primary",children:"Uang Makan"}),(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>fe(0),sx:{cursor:"pointer"},children:[100-ke,"% Sponsor"]})]}),(0,te.jsx)(W.Ay,{className:"mt-4",step:5,name:"transport",value:Ne,valueLabelDisplay:"auto",min:0,max:100,onChange:Ge}),(0,te.jsxs)(S.A,{sx:{display:"flex",justifyContent:"space-between",marginTop:-2},children:[(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>De(100),sx:{cursor:"pointer"},children:[Ne,"% Pema"]}),(0,te.jsx)(G.A,{variant:"body2",color:"primary",children:"Transportasi Lokal"}),(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>De(0),sx:{cursor:"pointer"},children:[100-Ne,"% Sponsor"]})]}),(0,te.jsx)(W.Ay,{step:5,className:"mt-4",name:"uangSaku",value:Te,valueLabelDisplay:"auto",min:0,max:100,onChange:Ge}),(0,te.jsxs)(S.A,{sx:{display:"flex",justifyContent:"space-between",marginTop:-2},children:[(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>Me(100),sx:{cursor:"pointer"},children:[Te,"% Pema"]}),(0,te.jsx)(G.A,{variant:"body2",color:"primary",children:"Uang Saku"}),(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>Me(0),sx:{cursor:"pointer"},children:[100-Te,"% Sponsor"]})]}),(0,te.jsx)(W.Ay,{name:"hotel",className:"mt-4",step:5,style:{width:"100%"},value:Pe,valueLabelDisplay:"auto",min:0,max:100,onChange:Ge}),(0,te.jsxs)(S.A,{sx:{display:"flex",justifyContent:"space-between",marginTop:-2},children:[(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>Ce(100),sx:{cursor:"pointer"},children:[Pe,"% Pema"]}),(0,te.jsx)(G.A,{variant:"body2",color:"primary",className:"text-bold",children:"Penginapan"}),(0,te.jsxs)(G.A,{variant:"body2",onClick:()=>Ce(0),sx:{cursor:"pointer"},children:[100-Pe,"% Sponsor"]})]})]})}):(0,te.jsx)(te.Fragment,{}),(0,te.jsx)(S.A,{className:"mt-5 mb-3",children:(0,te.jsx)(E.A,{style:{width:"100%"},variant:"outlined",value:q,onChange:e=>ae(e.target.value),select:!0,label:"Tujuan Perjalanan Dinas",children:null===i||void 0===i?void 0:i.map((e=>(0,te.jsx)(F.A,{value:e.id,children:e.categori_sppd},e.id)))})}),""!==q?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{style:{width:"100%"},id:"outlined-multiline-static",placeholder:"Kantor Pusat Pertamina\r\nGedung Perwira 6 Lantai 2\r\nJl. Medan Merdeka Timur 1A,\r\nJakarta Pusat 10110",label:"Tujuan Perjalanan Dinas Lengkap",value:me,onChange:e=>ge(e.target.value),multiline:!0,rows:4})}),(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{style:{width:"100%"},id:"outlined-multiline-static",placeholder:"Sebutkan Tugas Yang harus dilakukan oleh Pelaku Perjalanan Dinas",label:"Tugas Dalam Perjalanan Dinas",multiline:!0,value:he,onChange:e=>xe(e.target.value),rows:4})}),(0,te.jsx)(S.A,{children:(0,te.jsx)(V.$,{dateAdapter:$.R,children:(0,te.jsxs)(Z.j,{components:["DateTimePicker","DateTimePicker"],children:[(0,te.jsx)(X.K,{label:"Waktu Keberangkatan",ampm:!1,value:be,onChange:ve,viewRenderers:{hours:Q.Zo,minutes:Q.Zo}}),(0,te.jsx)(X.K,{ampm:!1,value:je,onChange:ye,label:"Waktu Tiba Kembali",viewRenderers:{hours:Q.Zo,minutes:Q.Zo}})]})})}),(0,te.jsxs)(S.A,{sx:{display:"flex",justifyContent:"space-between",p:2,borderRadius:2,border:"0.5px solid #C4C4C4"},className:" mt-3 mb-3",children:[(0,te.jsx)(z.A,{className:"btn-sm",color:"info",outline:!0,onClick:()=>ze("darat"),active:Le.includes("darat"),children:"Transportasi Jalur Darat"}),(0,te.jsx)(z.A,{className:"btn-sm",color:"info",outline:!0,onClick:()=>ze("udara"),active:Le.includes("udara"),children:"Transportasi Jalur Udara"}),(0,te.jsx)(z.A,{className:"btn-sm",color:"info",outline:!0,onClick:()=>ze("laut"),active:Le.includes("laut"),children:"Transportasi Jalur Laut"})]}),(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(E.A,{id:"outlined-basic",style:{width:"100%"},label:"Uang BBM (optional)",placeholder:"Diisi jika yang melakukan SPPD adalah driver atau pihak eksternal sesuai dengan aturan yang berlaku",value:Ye,onChange:e=>Re(e.target.value),variant:"outlined"})}),(0,te.jsx)(S.A,{className:"mb-3",children:(0,te.jsx)(U.A,{style:{width:"100%"},disablePortal:!0,id:"combo-box-demo",options:Ee||[],value:Ue,onChange:(e,t)=>{"string"===typeof t?Ke({label:t}):t&&t.inputValue?Ke({label:t.inputValue}):Ke(t)},getOptionLabel:e=>"string"===typeof e?e:e.inputValue?e.inputValue:e.label,renderOption:(e,t)=>(0,te.jsx)("li",(0,R.A)((0,R.A)({},e),{},{children:t.label})),renderInput:e=>(0,te.jsx)(E.A,(0,R.A)((0,R.A)({},e),{},{label:"Sharing Penginapan"}))})})]}):""]}),(0,te.jsx)(x.A,{children:(0,te.jsx)(w.A,{color:"primary",variant:"contained",onClick:e=>{if(e.preventDefault(),""!==ne&&""!==ie&&""!==de&&""!==oe&&""!==q&&""!==me&&""!==he){const e={jenis_sppd:ne,dasar_sppd:ie,klasifikasi:de,sumber_biaya:oe,p_tiket:we,p_um:ke,p_tl:Ne,p_us:Te,p_hotel:Pe,kategori_sppd:q,detail_tujuan:me,tugas_sppd:he,waktu_berangkat:be,waktu_kembali:je,file_undangan:Ae||"-",renbis:ue,moda:Le.toLocaleString(),ubbm:Ye||0,shareWith:(null===Ue||void 0===Ue?void 0:Ue.value)||null};J.push(e),le(""),se(""),re(""),ce(""),ae(""),ge(""),pe(""),_e(""),xe(""),(0,T.x)("success","Tujuan SPPD Berhasil ditambahkan"),Je()}else(0,T.x)("error","Lengkapi data terlebih dahulu")},children:"Simpan Tujuan"})})]})]})};a(16473);var de=a(3655),re=a(62421),oe=a(80519);const ce=e=>{var t;let{modalD:a,toggleDetail:l,sppdDetail:i}=e;const[s,d]=(0,n.useState)();B().locale("id");const r=(0,M.A)();return(0,n.useEffect)((()=>{i?r.get("dapi/sppd/pengajuan/".concat(null===i||void 0===i?void 0:i.id)).then((e=>{d(e.data.data)})):d(null)}),[i]),(0,te.jsxs)(m.A,{isOpen:a,toggle:l,size:"xl",children:[(0,te.jsx)(g.A,{toggle:l,children:"Detail Pengajuan"}),(0,te.jsx)(h.A,{children:s?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(S.A,{sx:{p:2,borderRadius:2,margin:2,border:"0.5px solid #C4C4C4"},children:(0,te.jsx)(de.A,{striped:!0,borderless:!0,size:"sm",className:"small mb-0",children:(0,te.jsxs)("tbody",{children:[(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Nomor Pengajuan"}),(0,te.jsx)("td",{width:"60%",children:(0,te.jsx)("strong",{children:null===s||void 0===s?void 0:s.nomor_sppd})})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Internal / Eksternal"}),(0,te.jsx)("td",{width:"60%",children:null===s||void 0===s?void 0:s.pihak_name})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{children:"ID Karyawan"}),(0,te.jsx)("td",{children:null===s||void 0===s?void 0:s.employe_id})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{children:"Nama"}),(0,te.jsx)("td",{children:(0,te.jsx)("strong",{children:null===s||void 0===s?void 0:s.nama})})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{children:"Jabatan"}),(0,te.jsx)("td",{children:null===s||void 0===s?void 0:s.jabatan})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{children:"Golongan / Rate"}),(0,te.jsx)("td",{children:null===s||void 0===s?void 0:s.golongan})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{children:"Diajukan pada"}),(0,te.jsx)("td",{children:B()(null===s||void 0===s?void 0:s.created_at).locale("id").format("dddd, DD MMMM YYYY HH:mm")})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{children:"Aturan Perusahaan"}),(0,te.jsx)("td",{children:null===s||void 0===s?void 0:s.dasar_ketetapan})]})]})})}),(0,te.jsxs)(S.A,{sx:{p:2,borderRadius:2,margin:2,border:"0.5px solid #C4C4C4"},children:[(0,te.jsx)("h5",{children:"Tujuan Perjalanan Dinas"}),(0,te.jsx)("hr",{className:"mt-2"}),(0,te.jsx)("ul",{children:null===s||void 0===s||null===(t=s.tujuan_sppd)||void 0===t?void 0:t.map((e=>(0,te.jsxs)("li",{children:[(0,te.jsx)(de.A,{striped:!0,borderless:!0,size:"sm",className:"small mb-0 mt-4",children:(0,te.jsxs)("tbody",{children:[(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Jenis"}),(0,te.jsx)("td",{width:"60%",children:e.jenis_sppd})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Dasar Sppd "}),(0,te.jsxs)("td",{width:"60%",children:[e.dasar_sppd," ","-"!==e.file_undangan?(0,te.jsxs)("a",{href:"".concat("https://api.ptpema.co.id/","sppd/").concat(e.file_undangan),target:"_blank",rel:"noreferrer",children:[" ",(0,te.jsx)(ne.A,{color:"danger",children:" lihat"})]}):""]})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Sumber Biaya "}),(0,te.jsx)("td",{width:"60%",children:e.sumber_biaya})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"RKAP "}),(0,te.jsx)("td",{width:"60%",children:e.renbis||"-"})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Klasifikasi Bisnis"}),(0,te.jsx)("td",{width:"60%",children:e.k_bisnis})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Tujuan SPPD "}),(0,te.jsx)("td",{width:"60%",children:(0,te.jsx)("strong",{children:e.categori_sppd})})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Alamat Tujuan "}),(0,te.jsx)("td",{width:"60%",children:e.detail_tujuan})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Moda Transportasi "}),(0,te.jsx)("td",{width:"60%",children:e.moda})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Waktu Berangkat"}),(0,te.jsxs)("td",{width:"60%",children:[B()(e.waktu_berangkat).format("dddd, DD MMMM YYYY HH:mm")," (",100*e.rate_wb,"%)"]})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Waktu Tiba Kembali"}),(0,te.jsxs)("td",{width:"60%",children:[B()(e.waktu_kembali).format("dddd, DD MMMM YYYY HH:mm")," (",100*e.rate_wt,"%)"]})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Jumlah Hari"}),(0,te.jsxs)("td",{width:"60%",children:[e.jumlah_hari," hari"]})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Tugas "}),(0,te.jsx)("td",{width:"60%",children:e.tugas})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Tiket "}),(0,te.jsx)("td",{width:"60%",children:"aktual**"})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Uang Makan"}),(0,te.jsx)("td",{width:"60%",children:(0,oe.A)(e.fix_um)})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Transportasi Lokal  "}),(0,te.jsx)("td",{width:"60%",children:(0,oe.A)(e.fix_tl)})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Uang Saku "}),(0,te.jsx)("td",{width:"60%",children:(0,oe.A)(e.fix_us)})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{width:"40%",children:"Hotel "}),(0,te.jsx)("td",{width:"60%",children:" ".concat((null===e||void 0===e?void 0:e.fix_hotel)>0?(0,oe.A)(null===e||void 0===e?void 0:e.fix_hotel):"Sharing dengan SPPD No. ".concat(null===e||void 0===e?void 0:e.share_label))})]}),(0,te.jsxs)("tr",{children:[(0,te.jsxs)("td",{width:"40%",children:[(0,te.jsx)("strong",{children:"Total Perkiraan Biaya"})," "]}),(0,te.jsx)("td",{width:"60%",children:(0,te.jsx)("strong",{children:(0,oe.A)(e.total_biaya)})})]})]})}),(0,te.jsx)("br",{})]},e.id)))}),(0,te.jsxs)("p",{className:" text-dark ",children:[(0,te.jsx)("strong",{children:(0,te.jsxs)("u",{children:["TOTAL PERKIRAAN BIAYA : ",(0,oe.A)(null===s||void 0===s?void 0:s.perkiraan_total)]})}),(0,te.jsx)("br",{}),(0,te.jsxs)("i",{children:["Uang Muka : ",(0,oe.A)(null===s||void 0===s?void 0:s.uang_muka)]})]}),(0,te.jsx)("br",{}),(0,te.jsx)("i",{className:"small",children:"** sesuai dengan rate golongan yang telah ditetapkan"})]})]}):(0,te.jsx)(re.A,{style:{height:"50px!important"}})})]})};var ue=a(12327),pe=a(22345);const me=e=>{let{modalA:t,toggleApproval:a,sppdDetail:l}=e;const[i,s]=(0,n.useState)();B().locale("id");const d=(0,M.A)();return(0,n.useEffect)((()=>{l?d.get("dapi/sppd/pengajuan/".concat(null===l||void 0===l?void 0:l.id)).then((e=>{s(e.data.data.approval)})):s(null)}),[l]),(0,te.jsxs)(m.A,{isOpen:t,toggle:a,size:"xl",children:[(0,te.jsx)(g.A,{toggle:a,children:"Status Pengajuan"}),(0,te.jsxs)(h.A,{className:"p-5",children:[null===i||void 0===i?void 0:i.map((e=>(0,te.jsx)("div",{children:e.step%2!==0?(0,te.jsxs)("div",{children:[(0,te.jsxs)(ue.A,{children:[(0,te.jsx)(pe.A,{lg:5,children:(0,te.jsx)("div",{className:"process-box process-left",children:(0,te.jsxs)(ue.A,{children:[(0,te.jsx)(pe.A,{lg:5,children:(0,te.jsxs)("div",{className:"process-step",children:[(0,te.jsx)("p",{className:"m-0 p-0",children:"Step"}),(0,te.jsx)("h2",{className:"m-0 p-0",children:e.step.toString().padStart(2,"0")}),(0,te.jsx)(ne.A,{color:"secondary",className:"badge-status",style:{width:"100%"},children:e.type})]})}),(0,te.jsxs)(pe.A,{lg:7,children:[(0,te.jsx)("b",{children:e.first_name}),(0,te.jsx)("br",{}),(0,te.jsx)("small",{children:(0,te.jsxs)("i",{children:[e.position_name.substring(0,22),e.position_name.length>22?" . . .":""]})}),(0,te.jsx)("br",{}),(0,te.jsxs)("small",{className:"approve"===e.status?"text-success":"rejected"===e.status?"text-danger":"text-muted",children:[e.status?"approve"===e.status?"Disetujui ":"Tidak Disetujui":"Menunggu Persetujuan"," ",(0,te.jsx)("br",{}),e.status?B()(e.updated_at).locale("id").format("dddd, DD MMMM YYYY HH:mm"):" "]})]})]})})}),(0,te.jsx)(pe.A,{lg:2}),(0,te.jsx)(pe.A,{lg:5,className:"d-none d-sm-none d-md-none d-lg-block",style:{position:"relative"},children:(0,te.jsx)("div",{className:e.step===i.length?"process-point-right process-last":"process-point-right"})})]}),(0,te.jsx)("br",{className:"d-block d-md-block d-lg-none mt-5"}),(0,te.jsx)("br",{className:"d-block d-md-block d-lg-none mt-5"})]}):(0,te.jsxs)("div",{children:[(0,te.jsxs)(ue.A,{children:[(0,te.jsx)(pe.A,{lg:5,className:"d-none d-sm-none d-md-none d-lg-block",style:{position:"relative"},children:(0,te.jsx)("div",{className:e.step===i.length?"process-point-left process-last":"process-point-left"})}),(0,te.jsx)(pe.A,{lg:2}),(0,te.jsx)(pe.A,{lg:5,children:(0,te.jsx)("div",{className:"process-box process-right",children:(0,te.jsxs)(ue.A,{children:[(0,te.jsx)(pe.A,{lg:5,children:(0,te.jsxs)("div",{className:"process-step ",children:[(0,te.jsx)("p",{className:"m-0 p-0",children:"Step"}),(0,te.jsx)("h2",{className:"m-0 p-0",children:e.step.toString().padStart(2,"0")}),(0,te.jsx)(ne.A,{color:"secondary",className:"badge-status",style:{width:"100%"},children:e.type})]})}),(0,te.jsxs)(pe.A,{lg:7,children:[(0,te.jsx)("b",{children:e.first_name}),(0,te.jsx)("br",{}),(0,te.jsx)("small",{children:(0,te.jsxs)("i",{children:[e.position_name.substring(0,22),e.position_name.length>22?" . . .":""]})}),(0,te.jsx)("br",{}),(0,te.jsxs)("small",{className:"approve"===e.status?"text-success":"rejected"===e.status?"text-danger":"text-muted",children:[e.status?"approve"===e.status?"Disetujui ":"Tidak Disetujui":"Menunggu Persetujuan"," ",(0,te.jsx)("br",{}),e.status?B()(e.updated_at).locale("id").format("dddd, DD MMMM YYYY HH:mm"):" "]})]})]})})})]}),(0,te.jsx)("br",{className:"d-block d-md-block d-lg-none mt-5"}),(0,te.jsx)("br",{className:"d-block d-md-block d-lg-none mt-5"})]})},e.step))),i?(0,te.jsx)(te.Fragment,{}):(0,te.jsx)(re.A,{style:{height:"50px!important"}})]})]})},ge=e=>{let{modalLog:t,toggleLog:a,sppdDetail:l}=e;const[i,s]=(0,n.useState)();B().locale("id");const d=(0,M.A)();return(0,n.useEffect)((()=>{l?d.get("dapi/sppd/pengajuan/".concat(null===l||void 0===l?void 0:l.id)).then((e=>{s(e.data.data.log_pengajuan)})):s(null)}),[l]),(0,te.jsx)(te.Fragment,{children:(0,te.jsxs)(m.A,{isOpen:t,toggle:a,size:"lg",children:[(0,te.jsx)(g.A,{toggle:a,children:"Log Pengajuan"}),(0,te.jsx)(h.A,{className:"p-3",children:i?(0,te.jsx)(te.Fragment,{children:(0,te.jsx)("ul",{className:"timeline",children:i.map((e=>(0,te.jsxs)("li",{children:[(0,te.jsx)("h5",{style:{marginBottom:"-1px"},className:"fw-bold",children:e.first_name}),(0,te.jsx)(ne.A,{className:"text-dark",color:"light",style:{paddingLeft:"2px",paddingRight:"2px"},children:e.position_name}),(0,te.jsx)("span",{className:"float-end small fw-lighter",children:B()(e.created_at).locale("id").format("dddd, DD MMMM YYYY HH:mm")}),(0,te.jsx)("p",{className:"mt-2 small",children:e.activity})]},e.id)))})}):(0,te.jsx)(re.A,{style:{height:"50px!important"}})})]})})},he="https://api.ptpema.co.id/",xe=e=>{var t,a;let{modalR:l,toggleR:i,sppdDetail:s,refetchNumber:d,refetchSubmitted:r}=e;const[o,c]=(0,n.useState)(),[u,p]=(0,n.useState)("approve"),[x,b]=(0,n.useState)(""),[v,j]=(0,n.useState)([]),y=(0,M.A)();B().locale("id"),(0,n.useEffect)((()=>{s?y.get("dapi/sppd/pengajuan/".concat(null===s||void 0===s?void 0:s.id)).then((e=>{var t;c(e.data.data),console.log(e.data.data),j(null===(t=e.data.data)||void 0===t?void 0:t.check_doc)})):c(null)}),[s]);return(0,n.useEffect)((()=>{console.log(v)}),[v]),(0,te.jsx)(te.Fragment,{children:(0,te.jsxs)(m.A,{isOpen:l,toggle:i,size:"lg",children:[(0,te.jsxs)(g.A,{toggle:i,children:["Lembar Persetujuan ",(0,te.jsxs)("small",{className:"fst-italic",children:["(","extend"===(null===o||void 0===o?void 0:o.current_type)?"Pengajuan Penambahan Hari":null===o||void 0===o?void 0:o.current_type,")"]})]}),(0,te.jsx)(h.A,{className:"p-5",children:o?(0,te.jsxs)(te.Fragment,{children:["check_document"===(null===o||void 0===o?void 0:o.current_type)?(0,te.jsxs)(te.Fragment,{children:[" ",(0,te.jsx)(S.A,{className:"mb-3",sx:{p:1,borderRadius:2,padding:2,border:"0.5px solid #C4C4C4"},children:(0,te.jsx)("a",{href:"".concat(he,"sppd/").concat(null===o||void 0===o||null===(t=o.realisasi)||void 0===t?void 0:t.doc_file),target:"\r ",children:"Laporan Realisasi SPPD"})}),(0,te.jsx)(S.A,{className:"mb-3",sx:{p:1,borderRadius:2,padding:2,border:"0.5px solid #C4C4C4"},children:null===v||void 0===v?void 0:v.map(((e,t)=>{var a;return(0,te.jsx)("div",{children:(0,te.jsxs)(ue.A,{style:{borderBottom:"0.5px dashed #C4C4C4",margin:"10px"},children:[(0,te.jsx)(pe.A,{xs:"6",className:"small",children:null===e||void 0===e?void 0:e.doc_name}),(0,te.jsx)(pe.A,{xs:"6",children:(0,te.jsxs)(q.A,{row:!0,"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:null===(a=v[t])||void 0===a?void 0:a.status,onChange:e=>{v[t].status=Number(e.target.value),j([...v])},className:"d-flex justify-content-between",size:"sm",children:[(0,te.jsx)(J.A,{value:"1",control:(0,te.jsx)(O.A,{}),label:"ada"},"approve"),(0,te.jsx)(J.A,{value:"0",control:(0,te.jsx)(O.A,{}),label:"Tidak"},"rejected")]})})]})},null===e||void 0===e?void 0:e.id)}))})]}):"","extend"===(null===o||void 0===o?void 0:o.current_type)?(0,te.jsx)(S.A,{className:"mb-3",sx:{p:1,borderRadius:2,padding:2,border:"0.5px solid #C4C4C4"},children:Array.isArray(null===o||void 0===o?void 0:o.ekstend)&&o.ekstend.length>0?o.ekstend.map(((e,t)=>(0,te.jsxs)(S.A,{sx:{mb:2,p:1,border:"1px solid #eee",borderRadius:1},children:[(0,te.jsxs)("div",{style:{display:"flex"},children:[(0,te.jsx)("b",{style:{minWidth:110,display:"inline-block"},children:"Tujuan"}),(0,te.jsx)("span",{style:{minWidth:10,display:"inline-block"},children:":"}),(0,te.jsx)("span",{children:e.detail_tujuan})]}),(0,te.jsxs)("div",{style:{display:"flex"},children:[(0,te.jsx)("b",{style:{minWidth:110,display:"inline-block"},children:"Mulai"}),(0,te.jsx)("span",{style:{minWidth:10,display:"inline-block"},children:":"}),(0,te.jsx)("span",{children:e.start})]}),(0,te.jsxs)("div",{style:{display:"flex"},children:[(0,te.jsx)("b",{style:{minWidth:110,display:"inline-block"},children:"Hingga"}),(0,te.jsx)("span",{style:{minWidth:10,display:"inline-block"},children:":"}),(0,te.jsx)("span",{children:e.end})]}),(0,te.jsxs)("div",{style:{display:"flex"},children:[(0,te.jsx)("b",{style:{minWidth:110,display:"inline-block"},children:"Alasan"}),(0,te.jsx)("span",{style:{minWidth:10,display:"inline-block"},children:":"}),(0,te.jsx)("span",{children:e.alasan})]})]},e.id||t))):""}):"","verif_realisasi"===(null===o||void 0===o?void 0:o.current_type)?(0,te.jsx)(S.A,{className:"mb-3",sx:{p:1,borderRadius:2,padding:2,border:"0.5px solid #C4C4C4"},children:(0,te.jsx)("a",{href:"".concat(he,"sppd/").concat(null===o||void 0===o||null===(a=o.realisasi)||void 0===a?void 0:a.doc_file),target:"\r ",children:"Laporan Realisasi SPPD"})}):"",(0,te.jsx)(S.A,{className:"mb-3",sx:{p:1,borderRadius:2,marginTop:2,border:"0.5px solid #C4C4C4"},children:(0,te.jsxs)(q.A,{row:!0,"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:u,onChange:e=>p(e.target.value),className:"d-flex justify-content-between",children:[(0,te.jsx)(J.A,{value:"approve",control:(0,te.jsx)(O.A,{}),label:"Terima",className:"me-5"},"approve"),(0,te.jsx)(J.A,{value:"rejected",control:(0,te.jsx)(O.A,{}),label:"Tolak",className:"me-5"},"rejected")]})}),(0,te.jsx)(E.A,{style:{width:"100%"},id:"outlined-multiline-static",placeholder:"Lorem ipsum dolor sit amet,\r\nlorem ipsum dolo\r\nLorem ipsum,",label:"Catatan Persetujuan",value:x,onChange:e=>b(e.target.value),multiline:!0,rows:4}),(0,te.jsx)(w.A,{color:"secondary",variant:"contained",style:{width:"100%"},className:"mt-4",onClick:async()=>{"approve"!==u&&""===x?(0,T.x)("error","Catatan harus diisi !"):await y.post("dapi/sppd/pengajuan/review/".concat(null===o||void 0===o?void 0:o.nomor_dokumen),{status:u,catatan_persetujuan:x,check_doc:v,type:null===o||void 0===o?void 0:o.current_type}).then((e=>{console.log(e),200===e.status&&((0,T.x)("success","Lembar Persetujuan Berhasil"),d(),r(),i(),p("approve"),b(""))})).catch((e=>{(0,T.x)("error","".concat(e.message))}))},children:"Submit Persetujuan"})]}):(0,te.jsx)(re.A,{style:{height:"50px!important"}})})]})})};var be=a(54211),ve=a(55360),je=a.n(ve),ye=a(45061),Ae=a(46913),_e=a(91769);const ke=a(49784);be.vfs=ke.pdfMake.vfs,be.fonts={Archivo:{normal:"Archivo-Regular.ttf",bold:"Archivo-SemiBold.ttf",italics:"Archivo-Italic.ttf",bolditalics:"Archivo-SemiBoldItalic.ttf"}};const fe=e=>{var t,a,i,s,d,r,o,c,p,g,x,b,v,j,y;let{modalDoc:A,toggleDoc:_,sppdDetail:k}=e;const w="https://api.ptpema.co.id/",[S,N]=(0,n.useState)(!1),[D,P]=(0,n.useState)(),[C,Y]=(0,n.useState)("");B().locale("id");const R=(0,M.A)(),L=(0,n.useRef)();(0,n.useEffect)((()=>{k?R.get("dapi/sppd/pengajuan/".concat(null===k||void 0===k?void 0:k.id)).then((e=>{P(e.data.data),console.log(e.data.data)})):P(null),console.log(D)}),[k]);const E=(e,t,a,n,l,i,s,d,r,o)=>{var c,u,p,m,g;N(!1);let h="";if(L.current){const e=L.current.querySelector("canvas");e&&(h=e.toDataURL())}const x={pageOrientation:t,pageSize:"A4",pageMargins:[i,s,d,r],content:[je()(e,{defaultStyles:{p:{margin:[0,3,0,-3]},columnGap:0,td:{verticalAlign:"top",marginBottom:-4},ol:{margin:[0,0,0,0],padding:[0,0,0,0]},li:{marginBottom:2},tr:{margin:[-5,0,0,0]},table:{margin:[0,0,0,0],width:"100%"},br:{margin:[0,2,0,0]}},tableAutoSize:!0}),{stack:[{text:"Banda Aceh, ".concat(null!==D&&void 0!==D&&null!==(c=D.approval.filter((e=>e.type===o))[0])&&void 0!==c&&c.updated_at?B()(null===D||void 0===D||null===(u=D.approval.filter((e=>e.type===o))[0])||void 0===u?void 0:u.updated_at).locale("id").format("DD MMMM YYYY"):" . . . . . . . . "),style:"normal"},{text:"PT PEMBANGUNAN ACEH",style:"boldText"},{image:"".concat("approve"===(null===D||void 0===D||null===(p=D.approval.filter((e=>e.type===o))[0])||void 0===p?void 0:p.status)?h:_e.A.placeholder),width:60},{text:"".concat(null===D||void 0===D||null===(m=D.approval.filter((e=>e.type===o))[0])||void 0===m?void 0:m.first_name),style:"boldText"},{text:"".concat(null===D||void 0===D||null===(g=D.approval.filter((e=>e.type===o))[0])||void 0===g?void 0:g.position_name),style:"normal"}],unbreakable:!0,margin:[0,1]}],styles:{boldText:{bold:!0}},images:e.images,header:e=>1!==e?{text:""}:{image:a,width:l},footer:(e,t)=>e!==t?{text:""}:{image:n,width:l},defaultStyle:{font:"Archivo",fontSize:10,color:"#000",ol:{margin:[0,0,0,0],padding:[0,0,0,0]}}};be.createPdf(x).open()};return(0,te.jsx)(m.A,{isOpen:A,toggle:_,size:"xl",className:"modal1",centered:!0,children:(0,te.jsxs)(h.A,{className:"p-3 ",children:[S?(0,te.jsx)(l.A,{color:"success",children:"Silakan Tunggu, Dokumen sedang diproses . . . . "}):null,(0,te.jsx)("div",{ref:L,style:{display:"none"},children:(0,te.jsx)(ye.QRCode,{value:"".concat("https://sys.ptpema.co.id/","verification/").concat(null===D||void 0===D?void 0:D.nomor_dokumen,"?type=").concat(C),size:400,qrStyle:"dots",logoImage:Ae,logoWidth:100,logoHeight:100,eyeRadius:20,fgColor:"#0F52BA"})}),(0,te.jsxs)(ue.A,{className:"mt-5 d-flex justify-content-center",children:[(0,te.jsx)(pe.A,{md:3,className:"mt-3",children:(0,te.jsxs)(u.A,{className:"  mx-sm-1 p-3 col-card border border-danger",onClick:D?()=>{N(!0),Y("sign");let e="";for(let n=0;n<(null===D||void 0===D||null===(t=D.tujuan_sppd)||void 0===t?void 0:t.length);n++){var t;e+='<table cellpadding="5" cellspacing="0" width="100%">\n        <tbody>\n        <tr style="border:none">\n          <td style="width: 30%; text-align: left; height:15px; vertical-align:middle!important">TUGAS</td>\n          <td style="width: 70%; text-align: left;height:15px; vertical-align:middle!important">: '.concat(null===D||void 0===D?void 0:D.tujuan_sppd[n].tugas,'</td>\n        </tr>\n         <tr style="border:none">\n          <td style="width: 30%; text-align: left; height:15px; vertical-align:middle!important">TUJUAN</td>\n          <td style="width: 70%; text-align: left;height:15px; vertical-align:middle!important">: ').concat(null===D||void 0===D?void 0:D.tujuan_sppd[n].detail_tujuan,'</td>\n        </tr>\n         <tr style="border:none">\n          <td style="width: 30%; text-align: left; height:15px; vertical-align:middle!important">LAMA TUGAS</td>\n          <td style="width: 70%; text-align: left;height:15px; vertical-align:middle!important">: ').concat(null===D||void 0===D?void 0:D.tujuan_sppd[n].jumlah_hari,' hari</td>\n        </tr>\n         <tr style="border:none">\n          <td style="width: 30%; text-align: left; height:15px; vertical-align:middle!important">MULAI TUGAS</td>\n          <td style="width: 70%; text-align: left;height:15px; vertical-align:middle!important">: ').concat(B()(null===D||void 0===D?void 0:D.tujuan_sppd[n].waktu_berangkat).locale("id").format("dddd, DD MMMM YYYY HH:mm"),'</td>\n        </tr>\n         <tr style="border:none">\n          <td style="width: 30%; text-align: left; height:15px; vertical-align:middle!important">SELESAI TUGAS</td>\n          <td style="width: 70%; text-align: left;height:15px; vertical-align:middle!important">:  ').concat(B()(null===D||void 0===D?void 0:D.tujuan_sppd[n].waktu_kembali).locale("id").format("dddd, DD MMMM YYYY HH:mm"),'</td>\n        </tr>\n        </tr>\n         <tr style="border:none">\n          <td style="width: 30%; text-align: left; height:15px; vertical-align:middle!important">SUMBER ANGGARAN</td>\n          <td style="width: 70%; text-align: left;height:15px; vertical-align:middle!important">: ').concat(null===D||void 0===D?void 0:D.tujuan_sppd[n].sumber_biaya,"</td>\n        </tr>\n        </tbody>\n      </table><br>")}const a='\n        <p style="text-align:center;"><strong style="text-decoration:underline">SURAT TUGAS</strong><br>Nomor : '.concat(null===D||void 0===D?void 0:D.nomor_sppd,'</p>\n        <p style="text-align: justify;\n  text-justify: inter-word;">').concat(null===D||void 0===D?void 0:D.narasi_st,'</p>\n      <table cellpadding="5" cellspacing="0" width="100%">\n        <thead>\n          <tr>\n            <th style="width: 6%; text-align: center;height:18px; vertical-align:middle;">No</th>\n            <th style="width: 47%; text-align: center;height:18px; vertical-align:middle">Nama</th>\n            <th style="width: 47%; text-align: center;height:18px; vertical-align:middle">Pangkat / Jabatan</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td style="width: 6%; text-align: center; height:18px; vertical-align:middle!important">1</td>\n            <td style="width: 47%; text-align: left; height:18px; vertical-align:middle!important">').concat(null===D||void 0===D?void 0:D.nama,'</td>\n            <td style="width: 47%; text-align: left;height:18px; vertical-align:middle!important">').concat(null===D||void 0===D?void 0:D.jabatan,"</td>\n          </tr>\n        </tbody>\n      </table>\n      <br>").concat(e," ");setTimeout((()=>{E(a,"potrait",_e.A.headSurat,_e.A.footSurat,"595",60,100,60,80,"sign")}),2e3)}:null,children:[(0,te.jsx)(u.A,{className:" bg-danger my-card border shadow text-light p-3",children:(0,te.jsx)(f(),{icon:"description"})}),(0,te.jsx)("div",{className:"text-center mt-3",children:(0,te.jsx)("h4",{className:"text-danger",children:"Surat Tugas"})})]})}),(0,te.jsx)(pe.A,{md:3,className:"mt-3",children:(0,te.jsxs)(u.A,{className:"  mx-sm-1 p-3 col-card border border-success",onClick:D?()=>{var e,t,a;N(!0),Y("sign");let n="",l="",i="",s="",d="",r="";if(1===(null===D||void 0===D||null===(e=D.tujuan_sppd)||void 0===e?void 0:e.length))n=null===D||void 0===D?void 0:D.tujuan_sppd[0].detail_tujuan,l=null===D||void 0===D?void 0:D.tujuan_sppd[0].moda,i='<table width="100%">\n      <tbody>\n        <tr style="border:none">\n          <td style="width:35%; ">Selama</td>\n          <td style="width: 65%;">: '.concat(null===D||void 0===D?void 0:D.tujuan_sppd[0].jumlah_hari,' hari</td>\n        </tr>\n        <tr style="border:none">\n          <td style="width:35%; ">Dari Tgl</td>\n          <td style="width: 65%;">: ').concat(B()(null===D||void 0===D?void 0:D.tujuan_sppd[0].waktu_berangkat).locale("id").format("DD MMMM YYYY"),' </td>\n        </tr>\n         <tr style="border:none">\n          <td style="width:35%; ">s/d Tgl</td>\n          <td style="width: 65%;">: ').concat(B()(null===D||void 0===D?void 0:D.tujuan_sppd[0].waktu_kembali).locale("id").format("DD MMMM YYYY")," </td>\n        </tr>\n      </tbody>\n      </table>"),s=null===D||void 0===D?void 0:D.tujuan_sppd[0].tugas,d=null===D||void 0===D?void 0:D.tujuan_sppd[0].sumber_biaya,r='<tr><td style="width: 43%;margin-bottom:5px; margin-top:4px;">\n                      Tiba di\t\t :<br>\n                      Tanggal\t  :<br><br>\n                      Kepala \t. . . . . \n                    </td>\n                    <td style="width: 50%;margin-bottom:5px; margin-top:4px;">\n                      Kembali dari\t:<br>\n                      Tanggal\t\t\t :<br><br>\n                      Kepala \t. . . . . \n                    </td></tr>';else{n="<ol>",l="<ol>",i="<ol>",s="<ol>",d="<ol>";for(let e=0;e<(null===D||void 0===D||null===(o=D.tujuan_sppd)||void 0===o?void 0:o.length);e++){var o;n+="<li>".concat(null===D||void 0===D?void 0:D.tujuan_sppd[e].detail_tujuan,"</li>"),l+="<li>".concat(null===D||void 0===D?void 0:D.tujuan_sppd[e].moda,"</li>"),i+='<li><table width="100%">\n      <tbody>\n        <tr style="border:none">\n          <td style="width:35%; ">Selama</td>\n          <td style="width: 65%;">: '.concat(null===D||void 0===D?void 0:D.tujuan_sppd[e].jumlah_hari,' hari</td>\n        </tr>\n        <tr style="border:none">\n          <td style="width:35%; ">Dari Tgl</td>\n          <td style="width: 65%;">: ').concat(B()(null===D||void 0===D?void 0:D.tujuan_sppd[e].waktu_berangkat).locale("id").format("DD MMMM YYYY"),' </td>\n        </tr>\n         <tr style="border:none">\n          <td style="width:35%; ">s/d Tgl</td>\n          <td style="width: 65%;">: ').concat(B()(null===D||void 0===D?void 0:D.tujuan_sppd[e].waktu_kembali).locale("id").format("DD MMMM YYYY")," </td>\n        </tr>\n      </tbody>\n      </table></li>"),s+="<li>".concat(null===D||void 0===D?void 0:D.tujuan_sppd[e].tugas,"</li>"),d+="<li>".concat(null===D||void 0===D?void 0:D.tujuan_sppd[e].sumber_biaya,"</li>"),r+='<tr><td style="width: 43%;margin-bottom:5px; margin-top:4px;">\n                      Tiba di\t\t :<br>\n                      Tanggal\t  :<br><br>\n                      Kepala \t. . . . . \n                    </td>\n                    <td style="width: 50%;margin-bottom:5px; margin-top:4px;">\n                      Kembali dari\t:<br>\n                      Tanggal\t\t\t :<br><br>\n                      Kepala \t. . . . . \n                    </td></tr>'}n+="</ol>",l+="</ol>",i+="</ol>",s+="</ol>",d+="</ol>"}const c='\n      <p style="text-align:center;"><strong style="text-decoration:underline">SURAT PERINTAH PERJALANAN DINAS (SPPD)</strong><br>Nomor : '.concat(null===D||void 0===D?void 0:D.nomor_sppd.replaceAll("ST","SPPD"),'</p>\n\n      <table cellpadding="5" cellspacing="0" width="100%">\n        <tbody>\n          <tr>\n            <td style="width: 50%;border:none;">\n\n              <table cellpadding="5" cellspacing="0" width="100%">\n                <tbody>\n                  <tr>\n                    <td style="width:7%; margin-bottom:5px; margin-top:4px;">1.</td>\n                    <td style="width: 43%;margin-bottom:5px; margin-top:4px;">Nama / Pegawai yang melaksanan perjalanan dinas </td>\n                    <td style="width: 50%;margin-bottom:5px; margin-top:4px;">').concat(null===D||void 0===D?void 0:D.nama,'</td>\n                  </tr>\n                  <tr>\n                    <td style="width:7%; margin-bottom:5px; margin-top:4px;">2.</td>\n                    <td style="width: 43%;margin-bottom:5px; margin-top:4px;">Jabatan </td>\n                    <td style="width: 50%;margin-bottom:5px; margin-top:4px;">').concat(null===D||void 0===D?void 0:D.jabatan,'</td>\n                  </tr>\n                  <tr>\n                    <td style="width:7%; margin-bottom:5px; margin-top:4px;">3.</td>\n                    <td style="width: 43%;margin-bottom:5px; margin-top:4px;">Tujuan Perjalanan Dinas </td>\n                    <td style="width: 50%;margin-bottom:5px; margin-top:4px;">').concat(n,'</td>\n                  </tr>\n                  <tr>\n                    <td style="width:7%; margin-bottom:5px; margin-top:4px;">4.</td>\n                    <td style="width: 43%;margin-bottom:5px; margin-top:4px;">Transportasi yang digunakan </td>\n                    <td style="width: 50%;margin-bottom:5px; margin-top:4px;">').concat(l,'</td>\n                  </tr>\n                  <tr>\n                    <td style="width:7%; margin-bottom:5px; margin-top:4px;">5.</td>\n                    <td style="width: 43%;margin-bottom:5px; margin-top:4px;">Lama Perjalanan Dinas </td>\n                    <td style="width: 50%;margin-bottom:5px; margin-top:4px;">').concat(i,'</td>\n                  </tr>\n                  <tr>\n                    <td style="width:7%; margin-bottom:5px; margin-top:4px;">6.</td>\n                    <td style="width: 43%;margin-bottom:5px; margin-top:4px;">Maksud Perjalanan Dinas </td>\n                    <td style="width: 50%;margin-bottom:5px; margin-top:4px;">').concat(s,'</td>\n                  </tr>\n                  <tr>\n                    <td style="width:7%; margin-bottom:5px; margin-top:4px;">7.</td>\n                    <td style="width: 43%;margin-bottom:5px; margin-top:4px;">Pembebanan Biaya Perjalanan Dinas </td>\n                    <td style="width: 50%;margin-bottom:5px; margin-top:4px;">').concat(d,'</td>\n                  </tr>\n                  \n                </tbody>\n              </table>\n\n            </td>\n\n            <td style="width: 50%;border:none;">\n\n               <table cellpadding="5" cellspacing="0" width="100%" style="margin-top:-5">\n                <tbody>\n                <tr style="border:none">\n                    <td style="width: 7%;margin-bottom:0px; margin-top:0px; height: 0px;"></td>\n                    <td style="width: 43%;margin-bottom:0px; margin-top:0px;height: 0px;"></td>\n                    <td style="width: 50%;margin-bottom:0px; margin-top:0px;height: 0px;" ></td>\n                  <tr>\n                    <td style="width: 7%;margin-bottom:5px; margin-top:4px;" rowspan="').concat((null===D||void 0===D||null===(t=D.tujuan_sppd)||void 0===t?void 0:t.length)+1,'">8.</td>\n                    <td style="width: 93%;margin-bottom:5px; margin-top:4px;" colspan="2">MENGETAHUI PEJABAT DAERAH YANG DIKUNJUNGI<br><span>Tempat Kedudukan Melaksanakan Perintah</span></td>\n                  </tr>\n                  \n                    ').concat(r,'\n                  \n                   <tr>\n                    <td style="width: 7%;margin-bottom:5px; margin-top:4px;" rowspan="2">9.</td>\n                    <td style="width: 93%;margin-bottom:5px; margin-top:4px;" colspan="2">CATATAN</td>\n                  </tr>\n                   <tr>\n                    <td style="width: 93%;margin-bottom:8px; margin-top:7px;" colspan="3"><i>').concat((null===D||void 0===D||null===(a=D.approval.filter((e=>e.type===C))[0])||void 0===a?void 0:a.ket)||"<br><br>","</i></td>\n                  </tr>\n                </tbody>\n              </table>\n              \n            </td>\n          </tr>\n        </tbody>\n       </table>\n    ");setTimeout((()=>{console.log(C),E(c,"landscape",_e.A.headSurat2,_e.A.footSurat2,"860",60,70,60,80,"sign")}),2e3)}:null,children:[(0,te.jsx)(u.A,{className:" bg-success my-card border shadow text-light p-3",children:(0,te.jsx)(f(),{icon:"description"})}),(0,te.jsx)("div",{className:"text-center mt-3",children:(0,te.jsx)("h4",{className:"text-success",children:"SPPD"})})]})}),(0,te.jsx)(pe.A,{md:3,className:"mt-3",children:(0,te.jsxs)(u.A,{className:"  mx-sm-1 p-3 col-card border border-dark",onClick:D?()=>{N(!0),Y("verifikasi_biaya");let e="";for(let N=0;N<(null===D||void 0===D||null===(t=D.tujuan_sppd)||void 0===t?void 0:t.length);N++){var t,a,n,l,i,s,d,r,o,c,u,p,m,g,h,x;let P="";for(let e=0;e<(null===D||void 0===D||null===(b=D.tujuan_sppd[N])||void 0===b||null===(v=b.termin)||void 0===v?void 0:v.length);e++){var b,v,j,y,A,_,k,f,w,S;console.log(null===D||void 0===D||null===(j=D.tujuan_sppd[N])||void 0===j||null===(y=j.termin[e])||void 0===y?void 0:y.id),P+='\n        <tr>\n                                                                                                                                                                                                    \n         <td style="width:4%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">'.concat((null===D||void 0===D||null===(A=D.tujuan_sppd[N])||void 0===A||null===(_=A.termin[e])||void 0===_?void 0:_.id)+1,'</td>\n         <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">').concat(B()(null===D||void 0===D||null===(k=D.tujuan_sppd[N])||void 0===k||null===(f=k.termin[e])||void 0===f?void 0:f.tgl_bayar).format("DD MMMM YYYY"),'</td> \n         <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">').concat((0,oe.A)(null===D||void 0===D||null===(w=D.tujuan_sppd[N])||void 0===w||null===(S=w.termin[e])||void 0===S?void 0:S.jumlah),"</td>\n        </tr>")}e+='<li style="margin-bottom:10px;">\n\n     \n      <table cellspacing="0" width="100%" style="margin-top:-17">\n        <tbody>\n          <tr>\n            <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Jenis Perjalanan Dinas</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >: '.concat(null===D||void 0===D||null===(a=D.tujuan_sppd[N])||void 0===a?void 0:a.jenis_sppd,'</td>\n          </tr>         \n          <tr>\n            <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Kategori</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >: ').concat(null===D||void 0===D||null===(n=D.tujuan_sppd[N])||void 0===n?void 0:n.categori_sppd,'</td>\n          </tr> \n           <tr>\n            <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Detail Tujuan</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >: ').concat(null===D||void 0===D||null===(l=D.tujuan_sppd[N])||void 0===l?void 0:l.detail_tujuan,'</td>\n          </tr>         \n          <tr>\n            <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Sumber Biaya</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >: ').concat(null===D||void 0===D||null===(i=D.tujuan_sppd[N])||void 0===i?void 0:i.sumber_biaya,'</td>\n          </tr>         \n          <tr>\n            <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">RKAP</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >: ').concat((null===D||void 0===D||null===(s=D.tujuan_sppd[N])||void 0===s?void 0:s.renbis)||"-",'</td>\n          </tr>         \n          <tr>\n            <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Waktu Berangkat</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >: ').concat(B()(null===D||void 0===D||null===(d=D.tujuan_sppd[N])||void 0===d?void 0:d.waktu_berangkat).locale("id").format("dddd, DD MMMM YYYY HH:mm")," (").concat(100*(null===D||void 0===D?void 0:D.tujuan_sppd[N].rate_wb),'%*)</td>\n          </tr>         \n          <tr>\n            <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Waktu Kembali</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >: ').concat(B()(null===D||void 0===D||null===(r=D.tujuan_sppd[N])||void 0===r?void 0:r.waktu_kembali).locale("id").format("dddd, DD MMMM YYYY HH:mm")," (").concat(100*(null===D||void 0===D?void 0:D.tujuan_sppd[N].rate_wt),'%*)</td>\n          </tr>         \n          <tr>\n            <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Tiket </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >: aktual</td>\n          </tr>         \n          <tr>\n            <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Uang Makan </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >: ').concat((0,oe.A)(null===D||void 0===D?void 0:D.tujuan_sppd[N].fix_um),'</td>\n          </tr>         \n          <tr>\n            <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Transportasi Lokal </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >: ').concat((0,oe.A)(null===D||void 0===D||null===(o=D.tujuan_sppd[N])||void 0===o?void 0:o.fix_tl),'</td>\n          </tr>         \n          <tr>\n            <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Uang Saku </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >: ').concat((0,oe.A)(null===D||void 0===D||null===(c=D.tujuan_sppd[N])||void 0===c?void 0:c.fix_us),'</td>\n          </tr>         \n            <tr>\n            <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Hotel </td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >: ').concat((null===D||void 0===D||null===(u=D.tujuan_sppd[N])||void 0===u?void 0:u.fix_hotel)>0?(0,oe.A)(null===D||void 0===D||null===(p=D.tujuan_sppd[N])||void 0===p?void 0:p.fix_hotel):"Sharing dengan SPPD No. ".concat(null===D||void 0===D||null===(m=D.tujuan_sppd[N])||void 0===m?void 0:m.share_label),'</td>\n          </tr> \n          <tr>\n            <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Uang BBM </td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >: ').concat((0,oe.A)(null===D||void 0===D||null===(g=D.tujuan_sppd[N])||void 0===g?void 0:g.bbm),'</td>\n              \n          </tr>         \n            <tr>\n            <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none"><strong>Total Perkiraan Biaya</strong></td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >:  <strong>').concat((0,oe.A)(null===D||void 0===D||null===(h=D.tujuan_sppd[N])||void 0===h?void 0:h.total_biaya),'</strong></td>\n          </tr>  \n          </tr>         \n            <tr>\n            <td style="width:48%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none"><strong>Total Uang Muka</strong></td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >:  <strong>').concat((0,oe.A)(null===D||void 0===D||null===(x=D.tujuan_sppd[N])||void 0===x?void 0:x.uang_muka),'</strong></td>\n          </tr>    \n        </tbody>\n      </table>\n      \n      <p><strong>Termin Pembayaran Uang Muka</strong></p>\n        <table cellspacing="0" width="100%" style="margin-top:-17">\n        <tbody>\n        ').concat(P,"\n        </tbody>\n      </table>\n     \n    </li>")}const P='<p style="text-align:center;"><strong style="text-decoration:underline">PENGAJUAN BIAYA PERJALANAN DINAS</strong><br>Nomor SPPD : '.concat(null===D||void 0===D?void 0:D.nomor_sppd.replaceAll("ST","SPPD"),'</p><br>\n      \n      <table cellpadding="5" cellspacing="0" width="100%">\n        <tbody>\n          <tr>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px; border-right:none">Nomor Pengajuan</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none" >: ').concat(null===D||void 0===D?void 0:D.nomor_sppd,'</td>\n          </tr>\n          <tr>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px; border-right:none">Internal / Eksternal</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none" >: ').concat(null===D||void 0===D?void 0:D.pihak_name,'</td>\n          </tr>\n          <tr>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px; border-right:none">ID Karyawan</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none" >: ').concat(null===D||void 0===D?void 0:D.employe_id,'</td>\n          </tr>\n          <tr>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px; border-right:none">Nama Yang Melakukan Perjalanan Dinas</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none" >: ').concat(null===D||void 0===D?void 0:D.nama,'</td>\n          </tr>\n          <tr>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px; border-right:none">Jabatan</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none" >: ').concat(null===D||void 0===D?void 0:D.jabatan,'</td>\n          </tr>\n          <tr>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px; border-right:none">Golongan / Rate</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none" >: ').concat(null===D||void 0===D?void 0:D.golongan,'</td>\n          </tr>\n          <tr>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px; border-right:none">Diajukan pada</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none" >: ').concat(B()(null===D||void 0===D?void 0:D.created_at).locale("id").format("dddd, DD MMMM YYYY HH:mm"),'</td>\n          </tr>\n        </tbody>\n      </table>\n    <table width="100%">\n      <tbody>\n      <tr>\n        <td style="width:100%; margin-top:7px"><strong>TUJUAN SPPD</strong><br>\n        <ol style="margin-top:-15;margin-bottom:-10">\n    ').concat(e,"\n          </ol>\n          <p><strong>TOTAL SEMUA PERKIRAAN BIAYA : ").concat((0,oe.A)(null===D||void 0===D?void 0:D.perkiraan_total),"**</strong>\n          <br/>\n          <span>Total Semua Uang Muka : ").concat((0,oe.A)(null===D||void 0===D?void 0:D.uang_muka),'***</span>\n          </p>\n\n          <span style="font-size:10px; font-style:italic">* Persentase Rate hitungan biaya sesuai jam berangkat / tiba<br>\n          ** Perkiraan biaya ini tidak termasuk tiket <br>*** Uang Muka adalah jumlah total perkiraan biaya dikurangi uang saku</span>\n      </td>\n     </tr>\n    </tbody>\n   </table>\n        <br>    \n      ');setTimeout((()=>{E(P,"potrait",_e.A.headSurat,_e.A.footSurat,"595",60,80,60,80,"verifikasi_biaya")}),2e3)}:null,children:[(0,te.jsx)(u.A,{className:" bg-dark my-card border shadow text-light p-3",children:(0,te.jsx)(f(),{icon:"description"})}),(0,te.jsx)("div",{className:"text-center mt-3",children:(0,te.jsx)("h4",{className:"text-dark",children:"P Biaya"})})]})}),null!==D&&void 0!==D&&D.realisasi?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(pe.A,{md:3,className:"mt-3",children:(0,te.jsxs)(u.A,{className:"  mx-sm-1 p-3 col-card border border-dark",onClick:D?()=>{if(N(!0),Y("verif_realisasi"),D.realisasi_status){console.log(D);let x="";for(let v=0;v<(null===D||void 0===D||null===(e=D.realisasi_biaya)||void 0===e?void 0:e.length);v++){var e,t,a,n,l,i,s,d,r,o,c,u,p,m,g,h;x+='<li style="margin-bottom:10px;"><span><strong> Tujuan SPPD : '.concat(null===D||void 0===D||null===(t=D.realisasi_biaya[v])||void 0===t?void 0:t.detail_tujuan,"</strong><br> ").concat(B()(null===D||void 0===D||null===(a=D.realisasi_biaya[v])||void 0===a?void 0:a.rill_wb).locale("id").format("dddd, DD MMMM YYYY HH:mm")," (").concat(100*(null===D||void 0===D?void 0:D.realisasi_biaya[v].rate_wb),"%*) -  ").concat(B()(null===D||void 0===D||null===(n=D.realisasi_biaya[v])||void 0===n?void 0:n.rill_wt).locale("id").format("dddd, DD MMMM YYYY HH:mm")," (").concat(100*(null===D||void 0===D?void 0:D.realisasi_biaya[v].rate_wt),'%*) </span>\n      <table cellspacing="0" width="100%" style="margin-top:-10">\n        <tbody>    \n        <tr>\n            <td style="width:40%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none"><strong>Daftar Rincian</strong> </td>\n            <td style="width:29%;margin-bottom:5px; margin-top:4px; border-right:none;border-left:none"><strong>Sumber Biaya</strong> </td>\n            <td style="width:29%;margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" ><strong>Total Biaya</strong></td>\n          </tr> \n                 \n            <tr>\n            <td style="margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Tiket </td>\n            <td style="margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">').concat(null===D||void 0===D||null===(l=D.realisasi_biaya[v])||void 0===l?void 0:l.p_tiket,'% PEMA </td>\n            <td style="margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >').concat((0,oe.A)(null===D||void 0===D||null===(i=D.realisasi_biaya[v])||void 0===i?void 0:i.rill_tiket),'</td>\n          </tr> \n\n          <tr>\n            <td style="margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Uang Makan</td>\n            <td style="margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">').concat(null===D||void 0===D||null===(s=D.realisasi_biaya[v])||void 0===s?void 0:s.p_um,'% PEMA </td>\n            <td style="margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >').concat((0,oe.A)(null===D||void 0===D?void 0:D.realisasi_biaya[v].fix_um),'</td>\n          </tr>  \n\n          <tr>\n            <td style="margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Transportasi Lokal</td </td>\n            <td style="margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">').concat(null===D||void 0===D||null===(d=D.realisasi_biaya[v])||void 0===d?void 0:d.p_tl,'% PEMA </td>\n            <td style="margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >').concat((0,oe.A)(null===D||void 0===D||null===(r=D.realisasi_biaya[v])||void 0===r?void 0:r.fix_tr),'</td>\n          </tr> \n\n          <tr>\n            <td style="margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Uang Saku </td </td>\n            <td style="margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">').concat(null===D||void 0===D||null===(o=D.realisasi_biaya[v])||void 0===o?void 0:o.p_us,'% PEMA </td>\n            <td style="margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >').concat((0,oe.A)(null===D||void 0===D||null===(c=D.realisasi_biaya[v])||void 0===c?void 0:c.fix_us),'</td>\n          </tr>  \n\n            <tr>\n            <td style="margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Hotel</td>\n            <td style="margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">').concat(null===D||void 0===D||null===(u=D.realisasi_biaya[v])||void 0===u?void 0:u.p_hotel,'% PEMA </td>\n            <td style="margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >').concat((0,oe.A)(null===D||void 0===D||null===(p=D.realisasi_biaya[v])||void 0===p?void 0:p.rill_hotel),'</td>\n          </tr>  \n\n          <tr>\n            <td style="margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Uang BBM</td>\n            <td style="margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">100% PEMA </td>\n            <td style="margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >').concat((0,oe.A)(null===D||void 0===D||null===(m=D.realisasi_biaya[v])||void 0===m?void 0:m.rill_bbm),'</td>\n          </tr> \n\n           <tr>\n            <td style="margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">Tranportasi Umum</td>\n            <td style="margin-bottom:5px; margin-top:4px; border-right:none;border-left:none">100% PEMA </td>\n            <td style="margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" >').concat((0,oe.A)(null===D||void 0===D||null===(g=D.realisasi_biaya[v])||void 0===g?void 0:g.rill_t_umum),'</td>\n          </tr> \n         \n          <tr>\n            <td style="margin-bottom:5px; margin-top:4px; border-right:none;border-left:none"><strong>Total Biaya</strong></td </td>\n            <td style="margin-bottom:5px; margin-top:4px; border-right:none;border-left:none"</td>\n            <td style="margin-bottom:5px; margin-top:4px;border-left:none;border-right:none" ><strong>').concat((0,oe.A)(null===D||void 0===D||null===(h=D.realisasi_biaya[v])||void 0===h?void 0:h.jumlah_rill),"</strong></td>\n          </tr>  \n          \n        \n        </tbody>\n      </table>\n    </li>")}const b='<p style="text-align:center;"><strong style="text-decoration:underline">DAFTAR RINCIAN BIAYA AKTUAL</strong><br>Nomor SPPD : '.concat(null===D||void 0===D?void 0:D.nomor_sppd.replaceAll("ST","SPPD"),'</p><br>\n        \n        <table cellpadding="5" cellspacing="0" width="100%">\n          <tbody>\n            <tr>\n              <td style="width:50%;margin-bottom:5px; margin-top:4px; border-right:none">ID Karyawan</td </td>\n              <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none" >: ').concat(null===D||void 0===D?void 0:D.employe_id,'</td>\n            </tr>\n            <tr>\n              <td style="width:50%;margin-bottom:5px; margin-top:4px; border-right:none">Nama Yang Melakukan Perjalanan Dinas</td </td>\n              <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none" >: ').concat(null===D||void 0===D?void 0:D.nama,'</td>\n            </tr>\n            <tr>\n              <td style="width:50%;margin-bottom:5px; margin-top:4px; border-right:none">Jabatan</td </td>\n              <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none" >: ').concat(null===D||void 0===D?void 0:D.jabatan,'</td>\n            </tr>\n            <tr>\n              <td style="width:50%;margin-bottom:5px; margin-top:4px; border-right:none">Golongan / Rate</td </td>\n              <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none" >: ').concat(null===D||void 0===D?void 0:D.golongan,'</td>\n            </tr>\n          </tbody>\n        </table>\n\n         <table width="100%">\n      <tbody>\n      <tr>\n        <td style="width:100%; margin-top:7px">\n        <ol style="margin-top:-15;margin-bottom:-19">\n    ').concat(x,"\n          </ol>\n          <span><strong>Total Aktual Biaya _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _").concat((0,oe.A)(null===D||void 0===D?void 0:D.rill_biaya),"\n          <br/>\n          Bayar Vendor Tiket _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ ").concat((0,oe.A)(null===D||void 0===D?void 0:D.rill_tiket),"\n          <br/>\n          Total Uang Muka _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _<u>").concat((0,oe.A)(null===D||void 0===D?void 0:D.uang_muka),'  </u>\n          <br/>\n          Total Selisih Biaya _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _   <i style="color:').concat((null===D||void 0===D?void 0:D.rill_biaya)-(null===D||void 0===D?void 0:D.uang_muka)-(null===D||void 0===D?void 0:D.rill_tiket)<0?"red":"green",'">').concat((0,oe.A)((null===D||void 0===D?void 0:D.rill_biaya)-(null===D||void 0===D?void 0:D.uang_muka)-(null===D||void 0===D?void 0:D.rill_tiket)),"</i>\n          </strong>   \n          </span>\n      </td>\n     </tr>\n    </tbody>\n   </table>\n        <br> \n        \n        ");setTimeout((()=>{E(b,"landscape",_e.A.headSurat2,_e.A.footSurat2,"860",60,70,60,80,"verif_realisasi")}),2e3)}else(0,T.x)("error","Data Realisasi Belum Ada"),N(!1)}:null,children:[(0,te.jsx)(u.A,{className:" bg-info my-card border shadow text-light p-3",children:(0,te.jsx)(f(),{icon:"description"})}),(0,te.jsx)("div",{className:"text-center mt-3",children:(0,te.jsx)("h4",{className:"text-info",children:"R Biaya"})})]})}),(0,te.jsx)(pe.A,{md:3,className:"mt-3",children:(0,te.jsxs)(u.A,{className:"  mx-sm-1 p-3 col-card border border-dark",onClick:D?()=>{if(console.log(D),N(!0),Y("verif_realisasi"),D.realisasi_status){var e,t,a,n,l;let s="";for(let e=0;e<(null===D||void 0===D||null===(i=D.check_doc)||void 0===i?void 0:i.length);e++){var i;s+=' <tr>\n              <td style="margin-bottom:5px; margin-top:4px;">'.concat(e+1,'</td>\n              <td style="margin-bottom:5px; margin-top:4px;">').concat(null===D||void 0===D?void 0:D.check_doc[e].doc_name,'</td>\n               <td style="margin-bottom:5px; margin-top:4px;text-align:center">').concat(1===(null===D||void 0===D?void 0:D.check_doc[e].status)?"Ada":"Tidak Ada","</td>\n            </tr>")}const d='<p style="text-align:center;"><strong style="text-decoration:underline">DAFTAR RINCIAN BUKTI PENDUKUNG PERJALANAN DINAS</strong><br>Nomor SPPD : '.concat(null===D||void 0===D?void 0:D.nomor_sppd.replaceAll("ST","SPPD"),'</p><br>\n\n      \n      <table cellpadding="5" cellspacing="0" width="100%" >\n        <tbody>\n          <tr>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px; border-right:none">Internal / Eksternal</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none" >: ').concat(null===D||void 0===D?void 0:D.pihak_name,'</td>\n          </tr>\n          <tr>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px; border-right:none">ID Karyawan</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none" >: ').concat(null===D||void 0===D?void 0:D.employe_id,'</td>\n          </tr>\n          <tr>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px; border-right:none">Nama Yang Melakukan Perjalanan Dinas</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none" >: ').concat(null===D||void 0===D?void 0:D.nama,'</td>\n          </tr>\n          <tr>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px; border-right:none">Jabatan</td </td>\n            <td style="width:50%;margin-bottom:5px; margin-top:4px;border-left:none" >: ').concat(null===D||void 0===D?void 0:D.jabatan,'</td>\n          </tr>\n         \n        </tbody>\n      </table>\n\n    <table cellpadding="5" cellspacing="0" width="100%" >\n    <thead>\n      <tr>\n            <th style="width:5% ;margin-bottom:5px; margin-top:4px;">No</th>\n            <th style="width:80% ;margin-bottom:5px; margin-top:4px;">Nama Dokumen</th>\n            <th style="width:15% ;margin-bottom:5px; margin-top:4px; text-align:center">Kelengkapan</th>\n      </tr>\n    </thead>\n    <tbody>\n           ').concat(s,"\n    </tbody>\n    </table>\n      <p>Dokumen ini Disajikan oleh\t\t\t\t\t: <strong>").concat(null===D||void 0===D||null===(e=D.realisasi)||void 0===e?void 0:e.submitter_name,"</strong><br> Direview oleh \t\t\t\t\t\t\t\t\t\t\t\t: <strong>").concat("approve"===(null===D||void 0===D||null===(t=D.approval)||void 0===t||null===(a=t.filter((e=>"check_document"===e.type))[0])||void 0===a?void 0:a.status)?null===D||void 0===D||null===(n=D.approval)||void 0===n||null===(l=n.filter((e=>"check_document"===e.type))[0])||void 0===l?void 0:l.first_name:"-","</strong></p>\n      \n      ");setTimeout((()=>{E(d,"potrait",_e.A.headSurat,_e.A.footSurat,"595",60,80,60,80,"verif_document")}),2e3)}else(0,T.x)("error","Data Realisasi Belum Ada"),N(!1)}:null,children:[(0,te.jsx)(u.A,{className:" bg-info my-card border shadow text-light p-3",children:(0,te.jsx)(f(),{icon:"description"})}),(0,te.jsx)("div",{className:"text-center mt-3",children:(0,te.jsx)("h4",{className:"text-info",children:"Cheklist"})})]})}),(0,te.jsx)(pe.A,{md:3,className:"mt-3",children:(0,te.jsx)("a",{href:"".concat(w,"sppd/").concat(null===D||void 0===D||null===(t=D.realisasi)||void 0===t?void 0:t.doc_file),target:"_blank",rel:"noreferrer",children:(0,te.jsxs)(u.A,{className:"  mx-sm-1 p-3 col-card border border-success",children:[(0,te.jsx)(u.A,{className:" bg-success my-card border shadow text-light p-3",children:(0,te.jsx)(f(),{icon:"description"})}),(0,te.jsx)("div",{className:"text-center mt-3",children:(0,te.jsx)("h4",{className:"text-success",children:"Laporan SPPD"})})]})})})]}):null,null!==D&&void 0!==D&&null!==(a=D.proses)&&void 0!==a&&null!==(i=a.filter((e=>"umum"===e.as))[0])&&void 0!==i&&i.file?(0,te.jsx)(te.Fragment,{children:(0,te.jsx)(pe.A,{md:3,className:"mt-3",children:(0,te.jsx)("a",{href:"".concat(w,"sppd/").concat(null===D||void 0===D||null===(s=D.proses)||void 0===s||null===(d=s.filter((e=>"umum"===e.as))[0])||void 0===d?void 0:d.file),target:"_blank",rel:"noreferrer",children:(0,te.jsxs)(u.A,{className:"  mx-sm-1 p-3 col-card border border-success",children:[(0,te.jsx)(u.A,{className:" bg-success my-card border shadow text-light p-3",children:(0,te.jsx)(f(),{icon:"description"})}),(0,te.jsx)("div",{className:"text-center mt-3",children:(0,te.jsx)("h4",{className:"text-success",children:"Tiket"})})]})})})}):null,null!==D&&void 0!==D&&null!==(r=D.proses)&&void 0!==r&&null!==(o=r.filter((e=>"uangmuka"===e.as))[0])&&void 0!==o&&o.file?(0,te.jsx)(te.Fragment,{children:(0,te.jsx)(pe.A,{md:3,className:"mt-3",children:(0,te.jsx)("a",{href:"".concat(w,"sppd/").concat(null===D||void 0===D||null===(c=D.proses)||void 0===c||null===(p=c.filter((e=>"uangmuka"===e.as))[0])||void 0===p?void 0:p.file),target:"_blank",rel:"noreferrer",children:(0,te.jsxs)(u.A,{className:"  mx-sm-1 p-3 col-card border border-success",children:[(0,te.jsx)(u.A,{className:" bg-success my-card border shadow text-light p-3",children:(0,te.jsx)(f(),{icon:"description"})}),(0,te.jsx)("div",{className:"text-center mt-3",children:(0,te.jsx)("h4",{className:"text-success",children:"Uang Muka"})})]})})})}):null,null!==D&&void 0!==D&&null!==(g=D.proses)&&void 0!==g&&null!==(x=g.filter((e=>"keuangan"===e.as))[0])&&void 0!==x&&x.file?(0,te.jsx)(te.Fragment,{children:(0,te.jsx)(pe.A,{md:3,className:"mt-3",children:(0,te.jsx)("a",{href:"".concat(w,"sppd/").concat(null===D||void 0===D||null===(b=D.proses)||void 0===b||null===(v=b.filter((e=>"keuangan"===e.as))[0])||void 0===v?void 0:v.file),target:"_blank",rel:"noreferrer",children:(0,te.jsxs)(u.A,{className:"  mx-sm-1 p-3 col-card border border-success",children:[(0,te.jsx)(u.A,{className:" bg-success my-card border shadow text-light p-3",children:(0,te.jsx)(f(),{icon:"description"})}),(0,te.jsx)("div",{className:"text-center mt-3",children:(0,te.jsx)("h4",{className:"text-success",children:"Bukti Bayar"})})]})})})}):null,(null===D||void 0===D||null===(j=D.ekstend)||void 0===j?void 0:j.length)>0?(0,te.jsx)(te.Fragment,{children:null===D||void 0===D||null===(y=D.ekstend)||void 0===y?void 0:y.map((e=>(0,te.jsx)(pe.A,{md:3,className:"mt-3",onClick:D?()=>(e=>{var t,a,n,l;console.log(e),console.log(D),N(!0),Y("extend");const i=null===D||void 0===D||null===(t=D.approval)||void 0===t?void 0:t.find((e=>"extend"===e.type));console.log(i);const s=null===D||void 0===D||null===(a=D.ekstend)||void 0===a?void 0:a.find((t=>t.id_tujuan===e)),d='<p style="text-align:center;"><strong style="text-decoration:underline">SURAT PERNYATAAN PENAMBAHAN HARI</strong><br>Nomor SPPD : '.concat(null===D||void 0===D?void 0:D.nomor_sppd.replaceAll("ST","SPPD"),'</p><br>\n\n      <p>Yang Bertanda Tangan di Bawah ini</p>\n      <table cellpadding="5" cellspacing="0" width="100%" >\n        <tbody>\n          <tr>\n            <td style="width:20%;margin-bottom:0px; margin-top:0px; border:none">Nama</td </td>\n            <td style="width:80%;margin-bottom:0px; margin-top:0px;border:none" >: ').concat(null===i||void 0===i?void 0:i.first_name,'</td>\n          </tr>\n          <tr>\n            <td style="width:80%;margin-bottom:0px; margin-top:0px; border:none">Jabatan</td </td>\n            <td style="width:70%;margin-bottom:0px; margin-top:0px;border:none" >: ').concat(null===i||void 0===i?void 0:i.position_name,'</td>\n          </tr>\n        </tbody>\n      </table>\n      <p style="text-align:justify; line-height:1.3; margin-top:-3">\n        Dengan ini menyatakan bahwa atas nama <strong>').concat(null===D||void 0===D?void 0:D.nama,"</strong> Jabatan <strong>").concat(null===D||void 0===D?void 0:D.jabatan,"</strong> sesuai dengan Surat Tugas Nomor <strong>").concat(null===D||void 0===D?void 0:D.nomor_sppd,"</strong> tanggal ").concat(B()(null===D||void 0===D||null===(n=D.approval)||void 0===n||null===(l=n.find((e=>"sign"===e.type)))||void 0===l?void 0:l.updated_at).format("DD MMMM YYYY")," melakukan penambahan perjalanan dinas selama \n        ").concat(null!==s&&void 0!==s&&s.start&&null!==s&&void 0!==s&&s.end?B()(null===s||void 0===s?void 0:s.end).diff(B()(null===s||void 0===s?void 0:s.start),"day")+1:"-"," hari mulai  tanggal ").concat(B()(null===s||void 0===s?void 0:s.start).format("DD MMMM YYYY")," - ").concat(B()(null===s||void 0===s?void 0:s.end).format("DD MMMM YYYY")," dikarenakan ").concat(null===s||void 0===s?void 0:s.alasan,'.\n      </p>\n      <p style="text-align:justify; line-height:1.3; margin-top:-3">\n        Demikian surat pernyataan ini dibuat dengan sebenarnya untuk ditindaklanjuti sebagaimana mestinya.\n      </p>\n\n   ');setTimeout((()=>{E(d,"potrait",_e.A.headSurat,_e.A.footSurat,"595",60,80,60,80,"extend")}),2e3)})(e.id_tujuan):null,children:(0,te.jsxs)(u.A,{className:"  mx-sm-1 p-3 col-card border border-success",children:[(0,te.jsx)(u.A,{className:" bg-success my-card border shadow text-light p-3",children:(0,te.jsx)(f(),{icon:"description"})}),(0,te.jsxs)("div",{className:"text-center mt-3",children:[(0,te.jsx)("h4",{className:"text-success",children:"Ekstend "}),(0,te.jsxs)("small",{children:["(",e.detail_tujuan,")"]})]})]})})))}):null]})]})})},we=e=>{let{modalRe:t,toggleRe:a,sppdDetail:l}=e;const[i,s]=(0,n.useState)(),[d,r]=(0,n.useState)(),[o,c]=(0,n.useState)(!1),[u,p]=(0,n.useState)(""),[_,k]=(0,n.useState)(),[f,w]=(0,n.useState)([]);B().locale("id");const N=(0,M.A)();(0,n.useEffect)((()=>{console.log(u)}),[u]),(0,n.useEffect)((()=>{l?(r(l.id),N.get("dapi/sppd/pengajuan/".concat(null===l||void 0===l?void 0:l.id)).then((e=>{var t,a;s(e.data.data);const n=null===(t=e.data.data)||void 0===t?void 0:t.tujuan_sppd;for(let l=0;l<(null===n||void 0===n?void 0:n.length);l++)n[l].rill_wb=B()(n[l].waktu_berangkat),n[l].rill_wt=B()(n[l].waktu_kembali);w(null===(a=e.data.data)||void 0===a?void 0:a.tujuan_sppd)}))):s(null)}),[l]);return(0,n.useEffect)((()=>{console.log(f)}),[f]),(0,te.jsx)(te.Fragment,{children:(0,te.jsxs)(m.A,{isOpen:t,toggle:a,size:"lg",className:"modal1",centered:!0,children:[(0,te.jsx)(g.A,{children:"FORM REALISASI SPPD"}),i?(0,te.jsxs)(h.A,{className:"p-3 ",children:[(0,te.jsx)("ol",{children:null===f||void 0===f?void 0:f.map(((e,t)=>(0,te.jsxs)("li",{className:"mb-3",children:["Tujuan : ",null===e||void 0===e?void 0:e.detail_tujuan,(0,te.jsxs)(S.A,{sx:{p:2,borderRadius:2,border:"0.5px solid #C4C4C4"},children:[(0,te.jsx)(S.A,{className:"mb-4",children:(0,te.jsx)(V.$,{dateAdapter:$.R,children:(0,te.jsxs)(Z.j,{components:["DateTimePicker","DateTimePicker"],children:[(0,te.jsx)(X.K,{label:"Waktu Keberangkatan",ampm:!1,value:f[t].rill_wb,onChange:e=>{f[t].rill_wb=e},viewRenderers:{hours:Q.Zo,minutes:Q.Zo}}),(0,te.jsx)(X.K,{ampm:!1,value:f[t].rill_wt,onChange:e=>{f[t].rill_wt=e},label:"Waktu Tiba Kembali",viewRenderers:{hours:Q.Zo,minutes:Q.Zo}})]})})}),(0,te.jsx)(S.A,{className:"mb-4",children:(0,te.jsx)(E.A,{id:"outlined-basic",style:{width:"100%"},value:f[t].rill_tiket,type:"number",onChange:e=>{const a=f.map(((a,n)=>n===t?(0,R.A)((0,R.A)({},a),{},{rill_tiket:e.target.value}):a));w(a)},label:"Tiket Pesawat",variant:"outlined",placeholder:"Sesuai dengan Total Tiket PP (isi 0 jika tidak ada)",InputProps:{startAdornment:(0,te.jsx)(j.A,{position:"start",children:"Rp"})}})}),(0,te.jsx)(S.A,{className:"mb-4",children:(0,te.jsx)(E.A,{id:"outlined-basic",style:{width:"100%"},value:f[t].rill_hotel,type:"number",onChange:e=>{const a=f.map(((a,n)=>n===t?(0,R.A)((0,R.A)({},a),{},{rill_hotel:e.target.value}):a));w(a)},label:"Bill Hotel",variant:"outlined",placeholder:"Sesuai dengan Total Hotel yang digunakan (isi 0 jika tidak ada)",InputProps:{startAdornment:(0,te.jsx)(j.A,{position:"start",children:"Rp"})}})}),(0,te.jsx)(S.A,{className:"mb-4",children:(0,te.jsx)(E.A,{id:"outlined-basic",style:{width:"100%"},type:"number",value:f[t].rill_t_lokal,onChange:e=>{const a=f.map(((a,n)=>n===t?(0,R.A)((0,R.A)({},a),{},{rill_t_lokal:e.target.value}):a));w(a)},label:"Transport Lokal",variant:"outlined",placeholder:"Sesuai dengan Total Nota Transport Lokal Yang digunakan (isi 0 jika tidak ada)",InputProps:{startAdornment:(0,te.jsx)(j.A,{position:"start",children:"Rp"})}})}),(0,te.jsx)(S.A,{className:"mb-4",children:(0,te.jsx)(E.A,{id:"outlined-basic",type:"number",style:{width:"100%"},value:f[t].rill_t_umum,onChange:e=>{const a=f.map(((a,n)=>n===t?(0,R.A)((0,R.A)({},a),{},{rill_t_umum:e.target.value}):a));w(a)},label:"Transport Umum",variant:"outlined",placeholder:"Sesuai dengan Total Nota Transport Umum Yang digunakan (isi 0 jika tidak ada)",InputProps:{startAdornment:(0,te.jsx)(j.A,{position:"start",children:"Rp"})}})}),(0,te.jsx)(S.A,{className:"mb-4",children:(0,te.jsx)(E.A,{id:"outlined-basic",type:"number",style:{width:"100%"},value:f[t].rill_bbm,onChange:e=>{const a=f.map(((a,n)=>n===t?(0,R.A)((0,R.A)({},a),{},{rill_bbm:e.target.value}):a));w(a)},label:"BBM",variant:"outlined",placeholder:"Sesuai dengan bill bbm (isi 0 jika tidak ada)",InputProps:{startAdornment:(0,te.jsx)(j.A,{position:"start",children:"Rp"})}})})]})]},null===e||void 0===e?void 0:e.id)))}),(0,te.jsxs)(S.A,{className:"mb-4",children:[(0,te.jsxs)(b.A,{fullWidth:!0,children:[(0,te.jsx)(v.A,{htmlFor:"outlined-adornment-amount",children:"Docs"}),(0,te.jsx)(y.A,{id:"outlined-adornment-amount",startAdornment:(0,te.jsx)(j.A,{position:"start",children:(0,te.jsx)(A.A,{className:"text-primary",onClick:()=>document.getElementById("input-file").click(),style:{cursor:"pointer"}})}),label:"Amount",value:_||"",disabled:!0,placeholder:"Berisi Laporan dan dokumen pendukung lainnya dalam bentuk pdf "})]}),(0,te.jsx)("input",{type:"file",id:"input-file",style:{display:"none"},accept:"application/pdf",onChange:e=>{var t,a;k(null===(t=e.target.files[0])||void 0===t?void 0:t.name),(a=e.target.files[0],new Promise((e=>{let t="";const n=new FileReader;n.readAsDataURL(a),n.onload=()=>{t=n.result,e(t)}}))).then((e=>{p(e)})).catch((e=>{console.log(e)}))}})]})]}):(0,te.jsx)(re.A,{}),(0,te.jsx)(x.A,{children:(0,te.jsx)(z.A,{color:"primary",style:{width:"100%"},onClick:async()=>{c(!0),""!==u?(console.log(),await N.post("dapi/sppd/pengajuan/realisasi",{doc_file:u,tujuan_realisasi:f,id_sppd:d}).then((e=>{e.data.success&&((0,T.x)("success","Realisasi SPPD Berhasil"),a(),p(""),k("")),c(!1)})).catch((e=>{(0,T.x)("error","".concat(e.message)),c(!1)}))):(0,T.x)("error","Lengkapi data terlebih dahulu !")},disabled:o,children:o?"Loading...":"SUBMIT REALISASI"})})]})})},Se=e=>{let{approved:t,toggleDetail:a,toggleApproval:l,toggleLog:i,value:s,toggleDoc:d,toggleRe:r}=e;const[o,c]=n.useState(""),[u,p]=n.useState([]),[m,g]=n.useState(!1);(0,n.useEffect)((()=>{p(t),"3"===s&&g(!0)}),[t,s]),(0,n.useEffect)((()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.nama.toLocaleLowerCase().match(o.toLocaleLowerCase())));p(e),console.log(o)}),[o]);const h=[{name:"Actions",width:"".concat("1"===s?"455px":"370px"),selector:e=>(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(z.A,{size:"sm",className:"me-2",outline:!0,color:"dark",tag:"input",type:"reset",value:"Detail",onClick:()=>a(e)}),(0,te.jsx)(z.A,{className:"me-2",size:"sm",outline:!0,color:"success",tag:"input",type:"reset",value:"Approval",onClick:()=>l(e)}),(0,te.jsx)(z.A,{className:"me-2",size:"sm",outline:!0,color:"primary",tag:"input",type:"reset",value:"Logs",onClick:()=>i(e)}),(0,te.jsx)(z.A,{className:"me-2",size:"sm",outline:!0,color:"warning",tag:"input",type:"reset",value:"Docs",onClick:()=>d(e)}),"1"===s?(0,te.jsx)(z.A,{className:"me-2",size:"sm",outline:!0,color:"warning",tag:"input",type:"reset",value:"Realisasi",onClick:()=>{"signed"===e.current_status?r(e):(0,T.x)("error","Realisasi hanya bisa dilakukan pada status approved")}}):""]})},{name:"Nomor ST",selector:e=>e.nomor_sppd},{name:"Nama",selector:e=>e.nama},{name:"Jabatan",selector:e=>e.jabatan},{name:"Disetujui pada",selector:e=>"".concat(new Date(e.created_at).toLocaleDateString("en-us","numeric")," ").concat(new Date(e.approved_at).toLocaleTimeString()," ")},{name:"Jenis Persetujuan",selector:e=>(0,te.jsx)(ne.A,{color:"success",style:{width:"100px"},children:e.type}),omit:!m}];return(0,te.jsx)(te.Fragment,{children:(0,te.jsx)(ee.Ay,{keyField:"id_unique",columns:h,data:u,pagination:!0,subHeader:!0,subHeaderComponent:(0,te.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[(0,te.jsx)("h5",{className:"mb-0",children:"Pengajuan yang Telah Saya Setujui"}),(0,te.jsx)(le.A,{type:"text",value:o,placeholder:"search . . . . ",className:"w-25",onChange:e=>c(e.target.value)})]})})})};var Ne=a(22019),De=a(203),Pe=a(30094),Ce=a(29820);a(80043);const Te=()=>{const[e,t]=n.useState("0"),[a,l]=n.useState("0"),[i,s]=n.useState("0"),[d,r]=n.useState(0),[o,c]=n.useState([]),[u,p]=n.useState([]),[m,g]=n.useState([]),[h,x]=n.useState(!1),b=(0,M.A)(),v=(0,De.I)({queryKey:["dataDash"],queryFn:()=>b.get("/dapi/sppd/dashboard").then((e=>e.data.data))});(0,n.useEffect)((()=>{var e,a,n,i,d,o,u,m,h,b,j;console.log(v.data),x(!0),t(null===v||void 0===v||null===(e=v.data)||void 0===e||null===(a=e.dashboard)||void 0===a?void 0:a.pengajuan),l(null===v||void 0===v||null===(n=v.data)||void 0===n||null===(i=n.dashboard)||void 0===i?void 0:i.aktif),s(null===v||void 0===v||null===(d=v.data)||void 0===d||null===(o=d.dashboard)||void 0===o?void 0:o.selesai),r(null===v||void 0===v||null===(u=v.data)||void 0===u||null===(m=u.dashboard)||void 0===m?void 0:m.total_aktual),c(null===v||void 0===v||null===(h=v.data)||void 0===h?void 0:h.groupKar),p(null===v||void 0===v||null===(b=v.data)||void 0===b?void 0:b.label),g(null===v||void 0===v||null===(j=v.data)||void 0===j?void 0:j.value)}),[v]),(0,n.useEffect)((()=>{console.log(o)}),[o]);const j={chart:{fontFamily:"'Rubik', sans-serif"},colors:["#4fc3f7","#42f54e","#f542ef"],dataLabels:{enabled:!1},xaxis:{categories:u,labels:{style:{cssClass:"grey--text lighten-2--text fill-color"}}},plotOptions:{bar:{horizontal:!0}},grid:{borderColor:"rgba(0,0,0,0.1)"},yaxis:{labels:{style:{cssClass:"grey--text lighten-2--text fill-color"}},max:100},tooltip:{theme:"dark"}},y=[{data:m}];return(0,te.jsx)(te.Fragment,{children:h?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)(ue.A,{children:[(0,te.jsx)(pe.A,{md:3,className:"mt-3",children:(0,te.jsx)(Pe.A,{title:"Perjalanan Dinas",sub:"aktif",count:a,tipe:"scatter",color:"bg-info"})}),(0,te.jsx)(pe.A,{md:3,className:"mt-3",children:(0,te.jsx)(Pe.A,{title:"Pengajuan",sub:"Perjalanan Dinas",count:e,tipe:"bar",color:"bg-dark"})}),(0,te.jsx)(pe.A,{md:3,className:"mt-3",children:(0,te.jsx)(Pe.A,{title:"Perjalanan Dinas",sub:"selesai",count:i,tipe:"radar",color:"bg-danger"})}),(0,te.jsx)(pe.A,{md:3,className:"mt-3",children:(0,te.jsx)(Pe.A,{title:"Aktual Biaya",sub:(+d).toLocaleString("en-US",{maximumFractionDigits:0}),count:"IDR",tipe:"line",color:"bg-success"})})]}),(0,te.jsxs)(ue.A,{children:[(0,te.jsxs)(pe.A,{md:7,className:"mt-3",children:[(0,te.jsx)("h4",{className:"mb-3",children:"Aktual Penggunaan Biaya SPPD sesuai RKAP"}),(0,te.jsx)("hr",{}),u?(0,te.jsx)(Ne.A,{options:j,series:y,type:"bar",height:"500"}):"Loading Chart . . . . "]}),(0,te.jsx)(pe.A,{md:5,className:"mt-3",children:(0,te.jsx)("div",{children:(0,te.jsxs)(de.A,{className:"dash-table text-nowrap mt-n3 mb-0 align-middle custom-table",borderless:!0,children:[(0,te.jsx)("thead",{children:(0,te.jsxs)("tr",{children:[(0,te.jsx)("th",{width:"60%"}),(0,te.jsx)("th",{width:"10%",children:"Qty"}),(0,te.jsx)("th",{width:"30%",children:"Budget"})]})}),(0,te.jsx)("tbody",{children:null===o||void 0===o?void 0:o.map((e=>(0,te.jsxs)("tr",{className:"border-top",children:[(0,te.jsx)("td",{width:"60%",style:{overflow:"elipsis"},children:(0,te.jsxs)("div",{className:"d-flex align-items-center",children:[(0,te.jsx)("img",{src:Ce,className:"rounded-circle",alt:"avatar",width:"45",height:"45"}),(0,te.jsxs)("div",{className:"ms-3",children:[(0,te.jsx)("h6",{className:"mb-0 fw-bold",children:e.nama}),(0,te.jsx)("span",{className:"text-muted fs-7",children:e.jabatan})]})]})}),(0,te.jsx)("td",{width:"10%",children:e.qty}),(0,te.jsx)("td",{width:"30%",children:(0,oe.A)(e.budget)})]},e.nama)))})]})})})]})]}):""})};var Me=a(97550),Ye=a(7493),Re=a(4145);const Le=e=>{let{modalExtend:t,toggleExtend:a,sppdDetail:l,onSubmit:i}=e;const[s,d]=(0,n.useState)(""),[r,o]=(0,n.useState)([]),[c,u]=(0,n.useState)(null),[p,b]=(0,n.useState)(null),[v,j]=(0,n.useState)(""),y=(0,M.A)();(0,n.useEffect)((()=>{t&&(d(""),u(null),b(null),j(""),null!==l&&void 0!==l&&l.id?y.get("dapi/sppd/tujuan/".concat(l.id)).then((e=>{o(e.data.data||[])})):o([]))}),[t]);return(0,te.jsxs)(m.A,{isOpen:t,toggle:a,centered:!0,children:[(0,te.jsx)(g.A,{toggle:a,children:"Perpanjang SPPD"}),(0,te.jsxs)(h.A,{children:[(0,te.jsxs)(Me.A,{children:[(0,te.jsx)(Ye.A,{for:"tujuan",children:"Tujuan SPPD"}),(0,te.jsxs)(le.A,{id:"tujuan",type:"select",value:s,onChange:e=>d(e.target.value),children:[(0,te.jsx)("option",{value:"",children:"Pilih tujuan"}),r.map((e=>(0,te.jsx)("option",{value:e.id,children:e.detail_tujuan},e.id)))]})]}),(0,te.jsx)(V.$,{dateAdapter:$.R,children:(0,te.jsxs)(ue.A,{children:[(0,te.jsx)(pe.A,{md:6,children:(0,te.jsxs)(Me.A,{children:[(0,te.jsx)(Ye.A,{for:"mulai",children:"Mulai"}),(0,te.jsx)(Re.l,{value:c,onChange:u,renderInput:e=>(0,te.jsx)(le.A,(0,R.A)((0,R.A)({},e),{},{id:"mulai",type:"text",style:{background:"#fff"},placeholder:"Pilih tanggal mulai",readOnly:!0}))})]})}),(0,te.jsx)(pe.A,{md:6,children:(0,te.jsxs)(Me.A,{children:[(0,te.jsx)(Ye.A,{for:"hingga",children:"Hingga"}),(0,te.jsx)(Re.l,{value:p,onChange:b,renderInput:e=>(0,te.jsx)(le.A,(0,R.A)((0,R.A)({},e),{},{id:"hingga",type:"text",style:{background:"#fff"},placeholder:"Pilih tanggal hingga",readOnly:!0}))})]})})]})}),(0,te.jsxs)(Me.A,{children:[(0,te.jsx)(Ye.A,{for:"alasan",children:"Alasan"}),(0,te.jsx)(le.A,{id:"alasan",type:"textarea",value:v,onChange:e=>j(e.target.value),placeholder:"Masukkan alasan perpanjangan Ex: Masih mendampingi tim PT PEMA",style:{minHeight:80}})]})]}),(0,te.jsxs)(x.A,{children:[(0,te.jsx)(z.A,{color:"primary",onClick:()=>{s&&c&&p&&v?B()(c).isAfter(B()(p))?(0,T.x)("error","Tanggal mulai tidak boleh lebih besar dari tanggal hingga."):i&&i({tujuan:s,mulai:B()(c).format("YYYY-MM-DD"),hingga:B()(p).format("YYYY-MM-DD"),alasan:v}):(0,T.x)("error","Tujuan, mulai, hingga, dan alasan harus diisi.")},children:"Submit"}),(0,te.jsx)(z.A,{color:"secondary",onClick:a,children:"Batal"})]})]})},Be=()=>{const[e,t]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[i,k]=(0,n.useState)(),{auth:D}=(0,Y.A)(),{hash:R}=(0,N.zy)(),[L,B]=(0,n.useState)(),[E,F]=(0,n.useState)(),[U,K]=(0,n.useState)(),[I,H]=(0,n.useState)(),[z,J]=(0,n.useState)(),[O,q]=(0,n.useState)(),[G,W]=(0,n.useState)(),[Z,V]=(0,n.useState)(),[$,X]=(0,n.useState)(),[Q,ee]=(0,n.useState)(),[ne,le]=(0,n.useState)("1"),[de,re]=(0,n.useState)(!1),[oe,ue]=(0,n.useState)(!1),[pe,he]=(0,n.useState)(!1),[be,ve]=(0,n.useState)(!1),[je,ye]=(0,n.useState)(),[Ae,_e]=(0,n.useState)(!1),[ke,Ne]=(0,n.useState)(!1),[De,Pe]=(0,n.useState)(!1),[Ce,Me]=(0,n.useState)(!1),[Ye,Re]=(0,n.useState)(!1),[Be,Ee]=(0,n.useState)(0),[Fe,Ue]=(0,n.useState)(0),[Ke,Ie]=(0,n.useState)(0),[He,ze]=(0,n.useState)(!1),Je=()=>{ze(!He)},[Oe,qe]=(0,n.useState)(!1),[Ge,We]=(0,n.useState)(),Ze=(0,M.A)();(0,n.useEffect)((()=>{null!==D&&void 0!==D&&D.user.roles.includes("AdminSPPD")?le("1"):null!==D&&void 0!==D&&D.user.roles.includes("Director")||null!==D&&void 0!==D&&D.user.roles.includes("Manager")?le("99"):le("2")}),[D]);const Ve=e=>{ye(!1===Ye?e:null),Re(!Ye)},$e=e=>{ye(!1===De?e:null),Pe(!De)},Xe=e=>{ye(!1===Ce?e:null),Me(!Ce)},Qe=e=>{ye(!1===ke?e:null),Ne(!ke)},et=e=>{ye(!1===Ae?e:null),P().init(),P().refresh(),_e(!Ae)},tt=e=>{console.log(e),ye(!1===be?e:null),ve(!be)},at=e=>{"1"===e?Ze.get("dapi/sppd/pengajuan").then((e=>{X(e.data.data)})):"2"===e?Ze.get("dapi/sppd/pengajuan?ref=mine").then((e=>{X(e.data.data)})):"3"===e?(Ze.get("dapi/sppd/pengajuan?ref=review").then((e=>{X(e.data.data)})),Ze.get("dapi/sppd/pengajuan?ref=approved_by").then((e=>{ee(e.data.data)}))):"4"===e&&Ze.get("dapi/sppd/pengajuan?ref=".concat(null!==D&&void 0!==D&&D.user.roles.includes("UmumSppd")?"by_umum":"by_keuangan")).then((e=>{X(e.data.data)}))};(0,n.useEffect)((()=>{at(ne)}),[ne]),(0,n.useEffect)((()=>{"#1"===R?le("1"):"#2"===R?le("2"):"#3"===R?le("3"):"#4"===R&&le("4")}),[R]);const nt=e=>{he(e),re(!0),ue(!1),window.scrollTo({top:0,behavior:"smooth"})},lt=(0,_.E)({queries:[{queryKey:["assigne",0],queryFn:()=>Ze.get("api/employe/assignment-list?search=all").then((e=>e.data.data))},{queryKey:["pihak",1],queryFn:()=>Ze.get("dapi/sppd/static/pihak").then((e=>e.data.data))},{queryKey:["jenis",2],queryFn:()=>Ze.get("dapi/sppd/static/jenis").then((e=>e.data.data))},{queryKey:["kategori",3],queryFn:()=>Ze.get("dapi/sppd/static/category").then((e=>e.data.data))},{queryKey:["dasar",4],queryFn:()=>Ze.get("dapi/sppd/static/dasar").then((e=>e.data.data))},{queryKey:["klasifikasi",5],queryFn:()=>Ze.get("dapi/sppd/static/klasifikasi").then((e=>e.data.data))},{queryKey:["sumberbiaya",6],queryFn:()=>Ze.get("dapi/sppd/static/sumber").then((e=>e.data.data))},{queryKey:["renbis",7],queryFn:()=>Ze.get("dapi/sppd/static/renbis").then((e=>e.data.data))},{queryKey:["list",8],queryFn:()=>Ze.get("dapi/sppd/pengajuan?ref=mine").then((e=>e.data.data))},{queryKey:["list-review",9],queryFn:()=>Ze.get("dapi/sppd/pengajuan?ref=review").then((e=>e.data.data))},{queryKey:["list-review",10],queryFn:()=>Ze.get("dapi/sppd/pengajuan?ref=".concat(null!==D&&void 0!==D&&D.user.roles.includes("UmumSppd")?"by_umum":"by_keuangan")).then((e=>e.data.data))}]}),it=(0,n.useCallback)((()=>{lt[8].refetch(),lt[9].refetch(),lt[10].refetch()}),[lt[8],lt[9]],lt[10]),st=()=>{at(ne),it()};(0,n.useEffect)((()=>{var e,t,a;B(lt[0].data),F(lt[1].data),K(lt[2].data),H(lt[3].data),J(lt[4].data),q(lt[5].data),W(lt[6].data),V(lt[7].data),Ee(null===(e=lt[8].data)||void 0===e?void 0:e.length),Ue(null===(t=lt[9].data)||void 0===t?void 0:t.length),Ie(null===(a=lt[10].data)||void 0===a?void 0:a.length)}),[lt]);const dt=e=>{We(e),qe(!0)},rt=()=>{qe(!Oe),Oe||We(null)};return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)(s.Ay,{value:ne,children:[(0,te.jsx)(u.A,{className:"mb-1",children:(0,te.jsxs)(d.A,{onChange:(e,t)=>{X([]),le(t)},"aria-label":"lab API tabs example",vertical:"sm",variant:"scrollable",scrollButtons:"auto",children:[null!==D&&void 0!==D&&D.user.roles.includes("AdminSPPD")?(0,te.jsx)(o.A,{label:(0,te.jsxs)(c.A,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,te.jsx)("strong",{children:"PENGAJUAN"})," \xa0\xa0"]}),value:"1"}):"",null!==D&&void 0!==D&&D.user.roles.includes("Director")||null!==D&&void 0!==D&&D.user.roles.includes("Manager")?(0,te.jsx)(o.A,{label:(0,te.jsxs)(c.A,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,te.jsx)("strong",{children:"DASHBOARD"})," \xa0\xa0"]}),value:"99"}):"",(0,te.jsx)(o.A,{label:(0,te.jsxs)(c.A,{badgeContent:Be,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,te.jsx)("strong",{children:"SPPD SAYA"})," \xa0\xa0"]}),value:"2"}),(0,te.jsx)(o.A,{label:(0,te.jsxs)(c.A,{badgeContent:Fe,anchorOrigin:{vertical:"top",horizontal:"right"},color:"warning",children:[(0,te.jsx)("strong",{children:"PERSETUJUAN SPPD"})," \xa0\xa0"]}),value:"3"}),null!==D&&void 0!==D&&D.user.roles.includes("UmumSppd")||null!==D&&void 0!==D&&D.user.roles.includes("KeuanganSppd")?(0,te.jsx)(o.A,{label:(0,te.jsxs)(c.A,{badgeContent:Ke,anchorOrigin:{vertical:"top",horizontal:"right"},color:"warning",children:[(0,te.jsx)("strong",{children:"PERLU DIPROSES"})," \xa0\xa0"]}),value:"4"}):""]})}),(0,te.jsxs)(r.A,{value:"1",className:"ps-0 pe-0",children:[(0,te.jsx)(u.A,{children:(0,te.jsx)(p.A,{children:oe?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(f(),{icon:"close",className:"mb-3 float-end",style:{cursor:"pointer"},onClick:()=>ue(!oe)}),(0,te.jsx)(ae,{employes:L,pihaks:E,jeniss:U,kategoris:I,dasars:z,klasifikasi:O,sumberBiaya:G,renbis:Z,closeForm:()=>{ue(!oe)},refetchSubmitted:st})]}):(0,te.jsx)(te.Fragment,{children:(0,te.jsx)(w.A,{color:"primary",variant:"contained",style:{width:"100%"},size:"large",onClick:()=>{ue(!oe),re(!1)},children:"Pengajuan Baru"})})})}),de?(0,te.jsx)(te.Fragment,{children:(0,te.jsx)(u.A,{children:(0,te.jsxs)(p.A,{children:[(0,te.jsx)(f(),{icon:"close",className:"mb-3 float-end",style:{cursor:"pointer"},onClick:()=>re(!de)}),(0,te.jsx)(se,{wannaEdit:pe,dasars:z,jeniss:U,kategoris:I,renbis:Z,klasifikasi:O,sumberBiaya:G,setEditForm:re,refetchSubmitted:st})]})})}):"",(0,te.jsx)(u.A,{children:(0,te.jsx)(p.A,{children:(0,te.jsx)(ie,{submitted:$,updateForm:nt,toggleDetail:tt,toggleApproval:et,toggleLog:Qe,value:ne,toggleR:$e,toggleDoc:Xe,toggleRe:Ve,extend:dt})})})]}),(0,te.jsx)(r.A,{value:"2",className:"ps-0 pe-0",children:(0,te.jsx)(u.A,{children:(0,te.jsx)(p.A,{children:(0,te.jsx)(ie,{submitted:$,updateForm:nt,toggleDetail:tt,toggleApproval:et,toggleLog:Qe,value:ne,toggleR:$e,toggleDoc:Xe,approved:Q,extend:dt})})})}),(0,te.jsxs)(r.A,{value:"3",className:"ps-0 pe-0",children:[(0,te.jsx)(u.A,{children:(0,te.jsx)(p.A,{children:(0,te.jsx)(ie,{submitted:$,updateForm:nt,toggleDetail:tt,toggleApproval:et,toggleLog:Qe,value:ne,toggleR:$e,toggleDoc:Xe,extend:dt})})}),(null===Q||void 0===Q?void 0:Q.length)>0?(0,te.jsx)(u.A,{children:(0,te.jsx)(p.A,{children:(0,te.jsx)(Se,{approved:Q,toggleDetail:tt,toggleApproval:et,toggleLog:Qe,value:ne,toggleR:$e,toggleDoc:Xe})})}):""]}),(0,te.jsx)(r.A,{value:"4",className:"ps-0 pe-0",children:(0,te.jsx)(u.A,{children:(0,te.jsx)(p.A,{children:(0,te.jsx)(ie,{submitted:$,updateForm:nt,toggleDetail:tt,toggleApproval:et,toggleLog:Qe,value:ne,toggleR:$e,toggleDoc:Xe,done:async e=>{k(e),ze(!0),console.log(e)},extend:dt})})})}),(0,te.jsx)(r.A,{value:"99",className:"ps-0 pe-0",children:(0,te.jsx)(u.A,{children:(0,te.jsx)(p.A,{children:(0,te.jsx)(Te,{})})})})]}),(0,te.jsx)(ce,{modalD:be,toggleDetail:tt,sppdDetail:je}),(0,te.jsx)(me,{modalA:Ae,toggleApproval:et,sppdDetail:je}),(0,te.jsx)(ge,{modalLog:ke,toggleLog:Qe,sppdDetail:je}),(0,te.jsx)(xe,{modalR:De,toggleR:$e,sppdDetail:je,refetchNumber:it,refetchSubmitted:st}),(0,te.jsx)(fe,{modalDoc:Ce,toggleDoc:Xe,sppdDetail:je}),(0,te.jsx)(we,{modalRe:Ye,toggleRe:Ve,sppdDetail:je}),(0,te.jsx)(Le,{modalExtend:Oe,toggleExtend:rt,sppdDetail:Ge,onSubmit:async e=>{await Ze.post("dapi/sppd/ekstend",{id_tujuan:e.tujuan,alasan:e.alasan,start:e.mulai,end:e.hingga}).then((e=>{200===e.status&&((0,T.x)("success","Penambahan Hari Berhasil diajukan"),rt(),st())}))}}),(0,te.jsxs)(m.A,{isOpen:He,toggle:Je,children:[(0,te.jsx)(g.A,{toggle:Je,children:"Lembar Proses"}),(0,te.jsx)(h.A,{children:(0,te.jsxs)(S.A,{className:"mb-4",children:[(0,te.jsxs)(b.A,{fullWidth:!0,children:[(0,te.jsx)(v.A,{htmlFor:"outlined-adornment-amount",children:"Docs"}),(0,te.jsx)(y.A,{id:"outlined-adornment-amount",startAdornment:(0,te.jsx)(j.A,{position:"start",children:(0,te.jsx)(A.A,{className:"text-primary",onClick:()=>document.getElementById("input-file").click(),style:{cursor:"pointer"}})}),label:"Amount",value:a||"",disabled:!0,placeholder:null!==D&&void 0!==D&&D.user.roles.includes("UmumSppd")?"Tiket atau surat dokumen lainnya":"Bukti Bayar"})]}),(0,te.jsx)("input",{type:"file",id:"input-file",style:{display:"none"},accept:"application/pdf",onChange:a=>{var n,i;l(null===(n=a.target.files[0])||void 0===n?void 0:n.name),(i=a.target.files[0],new Promise((e=>{let t="";const a=new FileReader;a.readAsDataURL(i),a.onload=()=>{t=a.result,e(t)}}))).then((a=>{t(a),console.log(a),console.log(e)})).catch((e=>{console.log(e)}))}})]})}),(0,te.jsxs)(x.A,{children:[(0,te.jsx)(w.A,{color:"primary",onClick:async()=>{ze(!1);let t="";t="pemesanan_tiket"===i.type_proses?"umum":"realisasi"===i.type_proses?"keuangan":"uangmuka",await(0,C.ZX)({title:"Kamu Yakin ?",message:"Jika Belum Jangan ya dek ya ",buttons:[{label:"Yes",onClick:()=>{Ze.post("dapi/sppd/pengajuan/done",{id_sppd:null===i||void 0===i?void 0:i.id,who:t,file:e}).then((e=>{200===e.status&&((0,T.x)("success","Berhasil ditandai sudah di proses"),st())}))}},{label:"No",onClick:()=>{}}]})},children:"Done"})," "]})]})]})},Ee=()=>{const[e,t]=n.useState(!0);return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)(l.A,{color:"info",isOpen:e,toggle:()=>t(!1),children:["Baca Dokumentasi Aplikasi ",(0,te.jsx)("a",{href:"https://api.ptpema.co.id/sppd/dokumentasi/SPPD.pdf",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"},children:"disini !!!"})]}),(0,te.jsx)(i.A,{}),(0,te.jsx)(Be,{})]})}},80519:(e,t,a)=>{a.d(t,{A:()=>n});const n=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e)},80043:()=>{},46600:()=>{},29820:(e,t,a)=>{e.exports=a.p+"static/media/user1.6ac95ef9bc0c027733ea.jpg"}}]);
//# sourceMappingURL=9482.0788235f.chunk.js.map