"use strict";(self.webpackChunkmaterialpro_main=self.webpackChunkmaterialpro_main||[]).push([[1458],{31043:(e,t,a)=>{a.d(t,{F:()=>n,Z:()=>s});a(72791);var i=a(65218),l=a(80184);const n=()=>(0,l.jsx)(i.x7,{toastOptions:{className:"",style:{}}}),s=(e,t)=>{((e,t)=>{"success"===e?i.ZP.success(t):"create"===e?(0,i.ZP)(t,{icon:"\ud83e\udd17"}):"start"===e?(0,i.ZP)("Lets get started, cheer up!",{icon:"\ud83d\udcaa"}):"done"===e?(0,i.ZP)("Horeee, task done!",{icon:"\ud83d\udc4f"}):i.ZP.error(t)})(e,t)}},64876:(e,t,a)=>{a.d(t,{Z:()=>r});var i=a(39782),l=a(61443),n=a(57689),s=a(11087),o=a(80184);const r=()=>{const e=(0,n.TH)(),t=e.pathname.split("/")[1],a=e.pathname.split("/")[2];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h4",{className:"text-capitalize",children:a?`${a}`:`${t}`}),(0,o.jsxs)(i.Z,{children:[(0,o.jsx)(l.Z,{to:"/",tag:s.rU,className:"text-decoration-none",children:"Home"}),t?(0,o.jsx)(l.Z,{active:!0,children:t}):"",a?(0,o.jsx)(l.Z,{active:!0,children:a}):""]})]})}},94113:(e,t,a)=>{a.d(t,{Z:()=>l});var i=a(36963);const l=async(e,t)=>{if(!t){const t=Uint8Array.from(atob(e),(e=>e.charCodeAt(0))),a=new Blob([t],{type:"application/pdf"});return URL.createObjectURL(a)}const a=new Uint8Array(atob(e).split("").map((e=>e.charCodeAt(0)))),l=new Uint8Array(atob(t).split("").map((e=>e.charCodeAt(0)))),n=await(async(e,t)=>{const a=await i.PDFDocument.create(),l=await i.PDFDocument.load(e),n=await i.PDFDocument.load(t),s=await a.copyPages(l,l.getPageIndices()),o=await a.copyPages(n,n.getPageIndices());s.forEach((e=>{a.addPage(e)})),o.forEach((e=>{a.addPage(e)}));return await a.save()})(a,l),s=new Blob([n],{type:"application/pdf"});return URL.createObjectURL(s)}},88009:(e,t,a)=>{a.d(t,{Z:()=>d});var i=a(66435),l=a(59437),n=a.n(l),s=a(74228);const o=function(e){const t=["Nol","Satu","Dua","Tiga","Empat","Lima","Enam","Tujuh","Delapan","Sembilan","Sepuluh","Sebelas"];if(e<12)return t[e];const a=["","Belas","Puluh","Ratus","Ribu","Juta","Miliar","Triliun"];let i="";const l=e.toString(),n=null===l||void 0===l?void 0:l.length;if(n>12)return"Angka terlalu besar";for(let s=0;s<n;s++){const e=parseInt(l.charAt(s),10),o=n-s-1;if(0===e&&(i+=""),1===o&&1===e&&"0"!==l.charAt(s+1)){i+=" Sebelas";break}i+=` ${t[e]} ${a[o]}`}return i.trim()},r=a(64073),d=(e,t)=>new Promise(((a,l)=>{i.vfs=r.pdfMake.vfs,i.fonts={Archivo:{normal:"Archivo-Regular.ttf",bold:"Archivo-SemiBold.ttf",italics:"Archivo-Italic.ttf",bolditalics:"Archivo-SemiBoldItalic.ttf"}};const d=`<p style="margin-bottom:5px">Banda Aceh, ${new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"long",year:"numeric"}).format(new Date(null===e||void 0===e?void 0:e.tglSurat))}</p>  \n      \n        <table style="border-collapse: collapse; width: 100%; border: 0px;" border="1"; padding="0";><colgroup><col style="width: 13%;"><col style="width: 2%;"><col style="width: 85%;"></colgroup>\n        <tbody>\n          <tr style="margin-left:-5">\n            <td style="vertical-align: top; border: 0px; line-height: 1.2; " >Nomor</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;" >:</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">${null===e||void 0===e?void 0:e.nomorSurat}</td>\n          </tr>\n          <tr style="margin-left:-5">\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">Lampiran</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">:</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">${Number(null===e||void 0===e?void 0:e.lampiran)>0?`${null===e||void 0===e?void 0:e.lampiran} (${o(Number(null===e||void 0===e?void 0:e.lampiran))}) ${(null===e||void 0===e?void 0:e.jenisLampiran)||" Eks"}`:"-"}</td>\n          </tr>\n          <tr style="margin-left:-5">\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">Perihal</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">:</td>\n            <td style="vertical-align: top; border: 0px; line-height: 1.2;">${null===e||void 0===e?void 0:e.perihal}</td>\n          </tr>\n        </tbody>\n      </table>\n\n        <div style="line-height: 1.2; margin-top:3; margin-bottom:-12">Kepada Yth<br>\n            <strong style="line-height: 0.9!important;">${null===e||void 0===e?void 0:e.kepada}</strong><br>\n            di - <br>\n            <span>          Tempat</span>\n        </div>\n       <span style="line-height: 1.3; text-align:justify">  ${null===e||void 0===e?void 0:e.isiSurat}</span>\n  \n      `;if(t.current){const o=t.current.querySelector("canvas");if(o){var c,u,m;const t=o.toDataURL(),r={pageOrientation:"portrait",pageSize:"A4",pageMargins:[50,70,50,70],content:[n()(d,{defaultStyles:{p:{margin:[0,3,0,-12]},td:{verticalAlign:"top",marginBottom:-4,heigt:"auto"},ol:{margin:[0,0,0,-15],padding:[0,0,0,0]},ul:{margin:[0,0,0,-15],padding:[0,0,0,0]},li:{marginBottom:2},tr:{margin:[-5,0,0,0]},table:{margin:[0,-3,0,-7],width:"100%"},br:{margin:[0,0,0,0]}},tableAutoSize:!0}),{stack:[{text:"Hormat Kami, ",style:"normal"},{text:"PT PEMBANGUNAN ACEH",style:"boldText"},{image:`${"signed"===(null===e||void 0===e?void 0:e.status)?t:s.Z.placeholder}`,width:60},{text:`${null===e||void 0===e||null===(c=e.signer)||void 0===c?void 0:c.first_name}`,style:"boldText"},{text:`${null===e||void 0===e||null===(u=e.signer)||void 0===u?void 0:u.position_name}`,style:"normal"}],unbreakable:!0,margin:[0,10]},{text:(null===e||void 0===e||null===(m=e.tembusans)||void 0===m?void 0:m.length)>0?"Tembusan Yth : ":"",style:"normal"},{ol:null===e||void 0===e?void 0:e.tembusans}],background:()=>null!==e&&void 0!==e&&e.draft?{image:s.Z.draft,width:300,height:300,opacity:.2,marginTop:250,marginLeft:150}:"",styles:{boldText:{bold:!0}},images:d.images,header:e=>1!==e?{text:""}:{image:s.Z.headSurat,width:"595"},footer:(e,t)=>e!==t?{text:""}:{image:s.Z.footSurat,width:"595"},defaultStyle:{font:"Archivo",fontSize:10,color:"#000",ol:{margin:[0,0,0,0],padding:[0,0,0,0]}}};i.createPdf(r).getBase64((e=>{e?a(e):l(new Error("Error generating base64 PDF"))}))}}}))},40513:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ne});var i=a(72791),l=a(97925),n=a(64876),s=a(43464),o=a(49037),r=a(19127),d=a(98865),c=a(83449),u=a(47283),m=a(82851),h=a(43896),p=a(10829),v=a(30690),g=a.n(v),x=a(29472),b=a(57689),j=a(17834),y=a(48089),f=a(64554),Z=a(91904),S=a(49687),w=a(64387),k=a(8453),N=a(16354),D=a(71513),C=a(33237),A=a(94113),_=a(88009),L=a(78194);const T=e=>new Promise((t=>{let a="";const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{a=i.result,t(a)}}));var P=a(31043),M=a(94061);const $=function(e){if(e<=0||e>3999)return"Angka di luar rentang yang valid (1-3999)";const t=[{value:1e3,symbol:"M"},{value:900,symbol:"CM"},{value:500,symbol:"D"},{value:400,symbol:"CD"},{value:100,symbol:"C"},{value:90,symbol:"XC"},{value:50,symbol:"L"},{value:40,symbol:"XL"},{value:10,symbol:"X"},{value:9,symbol:"IX"},{value:5,symbol:"V"},{value:4,symbol:"IV"},{value:1,symbol:"I"}];let a="";for(let i=0;i<t.length;i++)for(;e>=t[i].value;)a+=t[i].symbol,e-=t[i].value;return a};var F=a(80184);const I=e=>{let{divisis:t,mydivisi:a,refresh:l,func1:n,detailSurat:s,updateForm:o}=e;const d=(0,y.Z)(),c=(0,i.useRef)(),u=JSON.parse(localStorage.getItem("dataSurat")),m=null!==u&&void 0!==u&&u.id?null===u||void 0===u?void 0:u.id:"",h=null!==u&&void 0!==u&&u.tglSurat?null===u||void 0===u?void 0:u.tglSurat:(new Date).toISOString(),p=null!==u&&void 0!==u&&u.nomorSurat?null===u||void 0===u?void 0:u.nomorSurat:`. . . /PEMA/${$((new Date).getMonth()+1)}/${(new Date).getFullYear()}`,[v,g]=(0,i.useState)((null===u||void 0===u?void 0:u.ttdBys)||[]),[x,b]=(0,i.useState)((null===u||void 0===u?void 0:u.kepada)||""),[j,I]=(0,i.useState)((null===u||void 0===u?void 0:u.perihal)||""),[B,E]=(0,i.useState)((null===u||void 0===u?void 0:u.ttdBy)||""),[Y,z]=(0,i.useState)((null===u||void 0===u?void 0:u.tembusan)||""),[R,H]=(0,i.useState)((null===u||void 0===u?void 0:u.tembusans)||[]),[U,K]=(0,i.useState)((null===u||void 0===u?void 0:u.lampiran)||"0"),[O,J]=(0,i.useState)((null===u||void 0===u?void 0:u.jenislampiran)||"Eks"),[q,G]=(0,i.useState)((null===s||void 0===s?void 0:s.fileLampiran)||""),[V,W]=(0,i.useState)((null===u||void 0===u?void 0:u.divisi)||a),[X,Q]=(0,i.useState)((null===u||void 0===u?void 0:u.berang)||"form1"),[ee,te]=(0,i.useState)((null===u||void 0===u?void 0:u.isiSurat)||"Dengan Hormat"),[ae,ie]=(0,i.useState)(""),[le,ne]=(0,i.useState)(!1);(0,i.useEffect)((()=>{localStorage.setItem("dataSurat",JSON.stringify({id:m,kepada:x,perihal:j,ttdBy:B,tembusans:R,lampiran:U,jenislampiran:O,divisi:V,berang:X,ttdBys:v,isiSurat:ee,signer:null===v||void 0===v?void 0:v.find((e=>e.employe_id===B)),tglSurat:h,nomorSurat:p,draft:!0}))}),[x,j,B,R,U,O,V,X,v,ee]);(0,i.useEffect)((()=>{d.get(`dapi/adm/signers/${V}`).then((e=>{g(e.data.data),e.data.data.find((e=>e.employe_id===B))?E(null===u||void 0===u?void 0:u.ttdBy):E("")}))}),[V]),(0,i.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("dataSurat"));ie(""),"form3"===X&&(""!==U&&""===q&&Number(U)>0?((0,P.Z)("error","Lampiran harus 0 jika tidak ada File"),Q("form1")):setTimeout((async function(){try{const t=await(0,_.Z)(e,c);(0,A.Z)(t,q.replace("data:application/pdf;base64,","")).then((e=>{ie(e)}))}catch(t){console.log(t)}}),1e3)),"form2"===X&&(""!==V&&""!==x&&""!==j&&""!==B||(Q("form1"),(0,P.Z)("error","Silakan Lengkapi Data !!!")))}),[X]);const se=()=>{l(),n(!1),localStorage.removeItem("dataSurat")};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{ref:c,style:{display:"none"},children:(0,F.jsx)(C.QRCode,{value:`https://sys.ptpema.co.id/verification/${null===u||void 0===u?void 0:u.doc_number}`,size:400,qrStyle:"dots",logoImage:M,logoWidth:100,logoHeight:100,eyeRadius:20,fgColor:"#0F52BA"})}),"form1"===X?(0,F.jsxs)(f.Z,{className:"pe-4 ps-4 mt-5",children:[(null===t||void 0===t?void 0:t.length)>0&&(0,F.jsx)(f.Z,{className:"mb-3",children:(0,F.jsx)(Z.Z,{select:!0,style:{width:"100%"},variant:"outlined",value:V,onChange:e=>W(e.target.value),label:"Pilih Divisi",children:null===t||void 0===t?void 0:t.map((e=>(0,F.jsx)(w.Z,{value:null===e||void 0===e?void 0:e.organization_id,children:null===e||void 0===e?void 0:e.organization_name},null===e||void 0===e?void 0:e.organization_id)))})}),(0,F.jsx)(f.Z,{className:"mb-3",children:(0,F.jsx)(Z.Z,{id:"outlined-basic",style:{width:"100%"},label:"Surat ini Ditujukan Kepada",value:x,onChange:e=>b(e.target.value),variant:"outlined"})}),(0,F.jsx)(f.Z,{className:"mb-3",children:(0,F.jsx)(Z.Z,{id:"outlined-basic",style:{width:"100%"},label:"Perihal Surat",value:j,onChange:e=>I(e.target.value),variant:"outlined"})}),(null===v||void 0===v?void 0:v.length)>0&&(0,F.jsx)(f.Z,{className:"mb-3",children:(0,F.jsx)(Z.Z,{select:!0,style:{width:"100%"},variant:"outlined",value:B,onChange:e=>E(e.target.value),label:"Ditandatangani Oleh",children:null===v||void 0===v?void 0:v.map((e=>(0,F.jsx)(w.Z,{value:null===e||void 0===e?void 0:e.employe_id,children:null===e||void 0===e?void 0:e.first_name},null===e||void 0===e?void 0:e.employe_id)))})}),(0,F.jsx)(f.Z,{className:"mb-3",children:(0,F.jsx)(Z.Z,{type:"number",id:"outlined-basic",style:{width:"100%"},label:"Jumlah Lampiran",value:U,placeholder:"3",inputProps:{min:0},onChange:e=>K(e.target.value),variant:"outlined"})}),U>0?(0,F.jsxs)(f.Z,{className:"mb-3",children:[(0,F.jsxs)(k.Z,{children:[(0,F.jsx)(Z.Z,{id:"outlined-basic",style:{width:"80%"},label:"Jenis Lampiran",value:O,placeholder:"Dokumen",onChange:e=>J(e.target.value),variant:"outlined"}),(0,F.jsx)(r.Z,{color:"secondary",outline:!0,style:{width:"20%"},onClick:()=>document.getElementById("input-file").click(),children:q?"Ubah Lampiran":"Upload Lampiran"}),""===q&&""!==U?(0,F.jsx)("small",{className:"text-danger",children:"Silakan Upload File Lampiran dalam bentuk PDF dan tentukan jenis lampiran"}):""]}),(0,F.jsx)("input",{type:"file",id:"input-file",style:{display:"none"},accept:"application/pdf",onChange:e=>{T(e.target.files[0]).then((e=>{G(e)})).catch((e=>{console.log(e)}))}})]}):"",(0,F.jsx)(f.Z,{className:"mb-3",children:(0,F.jsxs)(k.Z,{children:[(0,F.jsx)(r.Z,{style:{width:"10%"},onClick:()=>{""!==Y&&(H([...R,Y]),z(""))},children:"+"}),(0,F.jsx)(Z.Z,{id:"outlined-basic",style:{width:"90%"},label:"Tembusan",value:Y,placeholder:"PJ Gubernur Aceh",onChange:e=>z(e.target.value),variant:"outlined"})]})}),(null===R||void 0===R?void 0:R.length)>0?(0,F.jsxs)(f.Z,{sx:{p:2,borderRadius:1,border:"0.5px solid #C4C4C4"},className:"mb-3",children:["Tembusan :",(0,F.jsx)("ul",{children:null===R||void 0===R?void 0:R.map((e=>(0,F.jsxs)("li",{children:[" ",(0,F.jsx)(N.Z,{color:"danger",style:{cursor:"pointer"},onClick:()=>{return t=e,void H(R.filter((e=>e!==t)));var t},children:"Hapus"})," ",e]},e)))})]}):"",(0,F.jsx)(f.Z,{className:"mb-3 mt-5",style:{display:"flex"},children:(0,F.jsx)(r.Z,{style:{marginLeft:"auto"},color:"success",onClick:()=>Q("form2"),children:"Selanjutnya"})})]}):"","form2"===X?(0,F.jsxs)(f.Z,{className:"pe-4 ps-4 mt-5",children:[""!==ee&&(0,F.jsx)(S.M,{apiKey:"wsaajswvlat7i5hpef2b0yqpalytaz042xu9j0djrz6sbpwr",init:{height:500,plugins:["table","anchor","autolink","charmap","codesample","emoticons","image","link","advlist","lists","media","searchreplace","visualblocks","wordcount","code"],branding:!1,toolbar:"undo redo | bold italic underline strikethrough | tableCustom | table mergetags |superscript subscript | alignleft aligncenter alignright alignjustify | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat | code",setup:e=>{e.ui.registry.addButton("tableCustom",{icon:"fa fa-plus",tooltip:"Borderles Table",onAction:()=>{(e=>{e.insertContent('<table style="border-collapse: collapse; width: 100%; border: 0px;">\n          <tbody>\n          <tr>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 32.1429%;">Nama Acara</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 2.00348%;">:</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 65.8537%;">Presentasi Project Kopi</td>\n          </tr>\n          <tr>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 32.1429%;">Hari / Tanggal</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 2.00348%;">:</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 65.8537%;">Kamis, 16 Januari 1998</td>\n          </tr>\n          <tr>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 32.1429%;">Waktu</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 2.00348%;">:</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 65.8537%;">Jam 10:25 WIB</td>\n          </tr>\n          <tr>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 32.1429%;">Tempat Acara Kegiatan</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 2.00348%;">:</td>\n          <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 65.8537%;">Kantor PT Pembangunan Aceh (PEMA)</td>\n          </tr>\n          </tbody>\n        </table>\n')})(e)}})}},value:ee,onEditorChange:e=>te(""===e?" ":e.replace(/(<br\s*\/?>\s*)+<table/gi,"<table"))}),(0,F.jsx)(f.Z,{className:"mb-3 mt-5",style:{display:"flex"},children:(0,F.jsxs)(D.Z,{style:{marginLeft:"auto"},children:[(0,F.jsx)(r.Z,{color:"warning",onClick:()=>Q("form1"),children:"Sebelumnya"}),(0,F.jsx)(r.Z,{color:"success",onClick:()=>Q("form3"),children:"Selanjutnya"})]})})]}):"","form3"===X?(0,F.jsxs)(f.Z,{className:"pe-4 ps-4 mt-5",children:[""!==ae?(0,F.jsx)("object",{data:`${ae}#navpanes=0`,type:"application/pdf",width:"100%",height:"580",children:"Load"}):(0,F.jsx)(L.Z,{}),(0,F.jsx)(f.Z,{className:"mb-3 mt-5",style:{display:"flex"},children:(0,F.jsxs)(D.Z,{style:{marginLeft:"auto"},children:[(0,F.jsx)(r.Z,{color:"warning",onClick:()=>Q("form2"),children:"Sebelumnya"}),o?(0,F.jsx)(r.Z,{color:"success",onClick:()=>(async()=>{ne(!0);const e={...u,fileLampiran:q,type:"main"};await d.post("dapi/adm/update",e).then((e=>{console.log(null===e||void 0===e?void 0:e.data),200===e.status?((0,P.Z)("success","Dokumen Berhasil diupdate !"),se()):(0,P.Z)("error","Dokumen Gagal diupdate, Hubungi Tim IT untuk problem selanjutnya !"),ne(!1)})).catch((e=>{(0,P.Z)("error",`${e.message}`),ne(!1)}))})(),disabled:le,children:le?"Loading...":"Update"}):(0,F.jsx)(r.Z,{color:"success",onClick:()=>(async()=>{ne(!0);const e={...u,fileLampiran:q,type:"main"};await d.post("dapi/adm/insert",e).then((e=>{console.log(null===e||void 0===e?void 0:e.data),200===e.status?((0,P.Z)("success","Dokumen Berhasil submit !"),se()):(0,P.Z)("error","Dokumen Gagal submit, Hubungi Tim IT untuk problem selanjutnya !"),ne(!1)})).catch((e=>{(0,P.Z)("error",`${e.message}`),ne(!1)}))})(),disabled:le,children:le?"Loading...":"Submit"})]})})]}):""]})};var B=a(43513),E=a(8118),Y=a(46724),z=a(94938),R=a(97892),H=a.n(R),U=(a(75391),a(30337));a(36607);const K=e=>{let{type:t,data:a,func1:l}=e;return H().locale("id"),(0,i.useEffect)((()=>{console.log(a)}),[a]),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("h5",{children:"Log Dokumen"}),(0,F.jsx)("hr",{style:{marginTop:-2}}),(null===a||void 0===a?void 0:a.length)>0?(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("div",{className:"px-4",children:(0,F.jsx)("ul",{className:"timeline ",children:null===a||void 0===a?void 0:a.map(((e,a)=>{var i,n;return(0,F.jsxs)("li",{children:[(0,F.jsx)("h5",{style:{marginBottom:"-1px"},className:"fw-bold",children:"sm"===t?e.nama:e.first_name}),(0,F.jsx)(N.Z,{className:"text-dark",color:"light",style:{paddingLeft:"2px",paddingRight:"2px"},children:"sm"===t?e.position:e.position_name}),0!==a&&"sm"===t&&e.dispo?(0,F.jsx)(N.Z,{className:"text-light ms-2 px-3",color:"dark",style:{cursor:"pointer"},onClick:()=>l(e),children:"Lembar Disposisi"}):"",(0,F.jsx)("span",{className:"float-end small fw-lighter",children:H()("sm"===t?e.waktu:e.created_at).locale("id").format("dddd, DD MMMM YYYY HH:mm")}),(0,F.jsxs)("p",{className:"mt-2 small",children:[e.activity,(0,F.jsx)("br",{}),(0,F.jsx)("span",{className:"fst-italic",children:(null===e||void 0===e||null===(i=e.cc)||void 0===i?void 0:i.length)>0&&`CC : ${null===e||void 0===e||null===(n=e.cc)||void 0===n?void 0:n.join(", ")}`})]})]},"sm"===t?e.employe_id:e.id)}))})})}):(0,F.jsx)(L.Z,{})]})};var O=a(63009),J=a(39773);const q=e=>{let{data:t}=e;return(0,i.useEffect)((()=>{console.log(t)})),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("h5",{children:"List Approval Dokumen"}),(0,F.jsx)("hr",{style:{marginTop:-2}}),(null===t||void 0===t?void 0:t.length)>0?(0,F.jsx)("div",{className:" p-5",children:null===t||void 0===t?void 0:t.map((e=>{var a,i,l;return(0,F.jsx)("div",{children:e.step%2!==0?(0,F.jsxs)("div",{children:[(0,F.jsxs)(O.Z,{children:[(0,F.jsx)(J.Z,{lg:5,children:(0,F.jsx)("div",{className:"process-box process-left",children:(0,F.jsxs)(O.Z,{children:[(0,F.jsx)(J.Z,{lg:5,children:(0,F.jsxs)("div",{className:"process-step",children:[(0,F.jsx)("p",{className:"m-0 p-0",children:"Step"}),(0,F.jsx)("h2",{className:"m-0 p-0",children:e.step.toString().padStart(2,"0")}),(0,F.jsx)(N.Z,{color:"secondary",className:"badge-status",style:{width:"100%"},children:e.type})]})}),(0,F.jsxs)(J.Z,{lg:7,children:[(0,F.jsx)("b",{children:e.first_name}),(0,F.jsx)("br",{}),(0,F.jsx)("small",{children:(0,F.jsxs)("i",{children:[null===(a=e.position_name)||void 0===a?void 0:a.substring(0,22),e.position_name.length>22?" . . .":""]})}),(0,F.jsx)("br",{}),(0,F.jsxs)("small",{className:"approve"===e.status?"text-success":"rejected"===e.status?"text-danger":"text-muted",children:[e.status?"approve"===e.status?"Disetujui ":"Tidak Disetujui":"Menunggu Persetujuan"," ",(0,F.jsx)("br",{}),e.status?H()(e.updated_at).locale("id").format("dddd, DD MMMM YYYY HH:mm"):" "]})]})]})})}),(0,F.jsx)(J.Z,{lg:2}),(0,F.jsx)(J.Z,{lg:5,className:"d-none d-sm-none d-md-none d-lg-block",style:{position:"relative"},children:(0,F.jsx)("div",{className:e.step===t.length?"process-point-right process-last":"process-point-right"})})]}),(0,F.jsx)("br",{className:"d-block d-md-block d-lg-none mt-5"}),(0,F.jsx)("br",{className:"d-block d-md-block d-lg-none mt-5"})]}):(0,F.jsxs)("div",{children:[(0,F.jsxs)(O.Z,{children:[(0,F.jsx)(J.Z,{lg:5,className:"d-none d-sm-none d-md-none d-lg-block",style:{position:"relative"},children:(0,F.jsx)("div",{className:e.step===t.length?"process-point-left process-last":"process-point-left"})}),(0,F.jsx)(J.Z,{lg:2}),(0,F.jsx)(J.Z,{lg:5,children:(0,F.jsx)("div",{className:"process-box process-right",children:(0,F.jsxs)(O.Z,{children:[(0,F.jsx)(J.Z,{lg:5,children:(0,F.jsxs)("div",{className:"process-step ",children:[(0,F.jsx)("p",{className:"m-0 p-0",children:"Step"}),(0,F.jsx)("h2",{className:"m-0 p-0",children:e.step.toString().padStart(2,"0")}),(0,F.jsx)(N.Z,{color:"secondary",className:"badge-status",style:{width:"100%"},children:e.type})]})}),(0,F.jsxs)(J.Z,{lg:7,children:[(0,F.jsx)("b",{children:e.first_name}),(0,F.jsx)("br",{}),(0,F.jsx)("small",{children:(0,F.jsxs)("i",{children:[null===(i=e.position_name)||void 0===i?void 0:i.substring(0,22),(null===(l=e.position_name)||void 0===l?void 0:l.length)>22?" . . .":""]})}),(0,F.jsx)("br",{}),(0,F.jsxs)("small",{className:"approve"===e.status?"text-success":"rejected"===e.status?"text-danger":"text-muted",children:[e.status?"approve"===e.status?"Disetujui ":"Tidak Disetujui":"Menunggu Persetujuan"," ",(0,F.jsx)("br",{}),e.status?H()(e.updated_at).locale("id").format("dddd, DD MMMM YYYY HH:mm"):" "]})]})]})})})]}),(0,F.jsx)("br",{className:"d-block d-md-block d-lg-none mt-5"}),(0,F.jsx)("br",{className:"d-block d-md-block d-lg-none mt-5"})]})},e.step)}))}):(0,F.jsx)(L.Z,{})]})};var G=a(10765),V=a(85523),W=a(24479),X=a(94294);const Q=e=>{let{data:t,refresh:a,closeModal:l}=e;const[n,s]=i.useState("approve"),[o,r]=i.useState(),[d,c]=i.useState(!1),u=(0,y.Z)();return console.log(t),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("h5",{className:"text-capitalize",children:[null===t||void 0===t?void 0:t.current_type," Dokumen"]}),(0,F.jsx)("hr",{style:{marginTop:-2}}),(0,F.jsx)(f.Z,{className:"mb-3",sx:{p:1,borderRadius:2,marginTop:2,border:"0.5px solid #1c8ee6",color:"#1c8ee6"},children:(0,F.jsxs)(G.Z,{row:!0,"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:n,onChange:e=>s(e.target.value),className:"d-flex justify-content-between",children:[(0,F.jsx)(V.Z,{value:"approve",control:(0,F.jsx)(W.Z,{}),label:"paraf"===(null===t||void 0===t?void 0:t.current_type)?"Paraf Dokumen":"Tanda Tangan Dokumen",className:"me-5"},"approve"),(0,F.jsx)(V.Z,{value:"rejected",control:(0,F.jsx)(W.Z,{}),label:"paraf"===(null===t||void 0===t?void 0:t.current_type)?"Tolak Paraf Dokumen":"Tolak Tanda Tangan Dokumen",className:"me-5"},"rejected")]})}),(0,F.jsx)(Z.Z,{style:{width:"100%"},id:"outlined-multiline-static",placeholder:"Lorem ipsum dolor sit amet,\r\nlorem ipsum dolo\r\nLorem ipsum,",label:"Catatan Persetujuan",value:o,onChange:e=>r(e.target.value),multiline:!0,rows:4}),(0,F.jsx)(X.Z,{color:"primary",variant:"contained",style:{width:"100%"},className:"mt-4",disabled:d,onClick:()=>{c(!0),"approve"!==n&&""===o?((0,P.Z)("error","Catatan harus diisi !"),c(!1)):u.post(`dapi/adm/surat/review/${null===t||void 0===t?void 0:t.no_document}`,{status:n,catatan_persetujuan:o}).then((e=>{200===e.status?((0,P.Z)("success",`Berhasil ${null===t||void 0===t?void 0:t.current_type} dokumen`),a(),l()):(0,P.Z)("error",`Gagal ${null===t||void 0===t?void 0:t.current_type} dokumen`),c(!1)})).catch((e=>{(0,P.Z)("error",`${e.message}`),c(!1)}))},children:d?"Loading . . .":"Simpan"})]})};var ee=a(79834),te=a(55472);const ae=(0,a(90235).ZP)(),ie=e=>{let{data:t,refresh:a,closeModal:l}=e;const[n,s]=(0,i.useState)(null),[o,r]=(0,i.useState)([]),[d,c]=(0,i.useState)([]),[u,m]=(0,i.useState)([]),[h,p]=(0,i.useState)([]),[v,g]=(0,i.useState)([]),[x,b]=(0,i.useState)([]),[j,S]=(0,i.useState)(""),[k,N]=(0,i.useState)([]),[D,C]=(0,i.useState)([]),[A,_]=(0,i.useState)(""),[L,T]=(0,i.useState)(!1),M=(0,y.Z)();(0,i.useEffect)((()=>{M.get("dapi/adm/dispo/to").then((e=>{var t,a,i,l,n,s,o,d;r(null===(t=e.data.data)||void 0===t||null===(a=t.disposisi)||void 0===a?void 0:a.direksi),c(null===(i=e.data.data)||void 0===i||null===(l=i.disposisi)||void 0===l?void 0:l.manager_eks),m(null===(n=e.data.data)||void 0===n||null===(s=n.disposisi)||void 0===s?void 0:s.divisions),p(null===(o=e.data.data)||void 0===o?void 0:o.cc),b(null===(d=e.data.data)||void 0===d?void 0:d.cc)})),_(null===t||void 0===t?void 0:t.id_surat)}),[t]);(0,i.useEffect)((()=>{console.log(D)}),[D]),(0,i.useEffect)((()=>{g(null===v||void 0===v?void 0:v.filter((e=>(null===e||void 0===e?void 0:e.employe_id)!==(null===n||void 0===n?void 0:n.employe_id)))),b(null===h||void 0===h?void 0:h.filter((e=>(null===e||void 0===e?void 0:e.employe_id)!==(null===n||void 0===n?void 0:n.employe_id))))}),[n]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("h5",{style:{marginBottom:"-2px"},children:["Disposisi Surat ",null===t||void 0===t?void 0:t.nomor]}),(0,F.jsxs)("span",{className:"small fst-italic",children:["Perihal ",null===t||void 0===t?void 0:t.perihal]}),(0,F.jsx)("hr",{}),(0,F.jsx)(f.Z,{className:"mb-3",children:(0,F.jsxs)(Z.Z,{select:!0,style:{width:"100%"},variant:"outlined",value:n||"",onChange:e=>s(e.target.value),label:"Disposisi Kepada",children:[null===n&&(0,F.jsx)(w.Z,{value:null,className:"fst-italic small",children:"Silakan Pilih Tujuan Disposisi . . . . "}),(0,F.jsx)(ee.Z,{style:{backgroundColor:"#f5f5f5"},children:(0,F.jsx)("strong",{children:"DIREKTUR TERKAIT"})}),null===o||void 0===o?void 0:o.map((e=>(0,F.jsx)(w.Z,{className:"ms-2",value:e,children:e.position_name},null===e||void 0===e?void 0:e.employe_id))),(0,F.jsx)(ee.Z,{style:{backgroundColor:"#f5f5f5"},children:(0,F.jsx)("strong",{children:"MANAGER EKSEKUTIF"})}),null===d||void 0===d?void 0:d.map((e=>(0,F.jsx)(w.Z,{className:"ms-2",value:e,children:e.position_name},null===e||void 0===e?void 0:e.employe_id))),(0,F.jsx)(ee.Z,{style:{backgroundColor:"#f5f5f5"},children:(0,F.jsx)("strong",{children:"DIVISI TERKAIT"})}),null===u||void 0===u?void 0:u.map((e=>(0,F.jsx)(w.Z,{className:"ms-2",value:e,children:e.position_name},null===e||void 0===e?void 0:e.employe_id)))]})}),(0,F.jsx)(f.Z,{className:"mb-3",children:(0,F.jsx)(te.ZP,{placeholder:"Tickler Disposisi",components:ae,isMulti:!0,styles:{control:e=>({...e,minHeight:"55px"}),menu:e=>({...e,background:"#f0f0f0",borderRadius:4,zIndex:10})},value:k,options:[{value:"Diwakilkan",label:"Diwakilkan"},{value:"Diproses",label:"Diproses / Dilaksanakan"},{value:"Ditindaklanjuti",label:"Ditindaklanjuti"},{value:"Dipelajari",label:"Dipelajari"},{value:"Dihadiri",label:"Dihadiri"},{value:"Dimonitor",label:"Dimonitor"},{value:"Diarsip",label:"Diarsip / Difile"}],onChange:e=>{N(e),C((t=>[...t,...e.map((e=>e.value))]))},isClearable:D.some((e=>!e.isFixed))})}),(0,F.jsx)(f.Z,{className:"mb-3",children:(0,F.jsx)(te.ZP,{placeholder:"Carbon Copy (CC)",components:ae,isMulti:!0,styles:{control:e=>({...e,minHeight:"55px"}),menu:e=>({...e,background:"#f0f0f0",borderRadius:4,zIndex:10})},value:v,options:x,onChange:e=>{g(e)},isClearable:v.some((e=>!e.isFixed))})}),(0,F.jsxs)(f.Z,{className:"mb-3",children:[" ",(0,F.jsx)(Z.Z,{style:{width:"100%"},id:"outlined-multiline-static",placeholder:"Lorem ipsum dolor sit amet,\r\nlorem ipsum dolo\r\nLorem ipsum,",label:"Catatan",value:j,onChange:e=>S(e.target.value),multiline:!0,rows:4})]}),(0,F.jsx)(f.Z,{className:"mb-3 mt-4",children:(0,F.jsx)(X.Z,{variant:"contained",color:"primary",style:{width:"100%"},onClick:async()=>{T(!0),await M.post(`dapi/adm/suratmasuk/diposisi/${A}`,{catatan:j,tickler:D,to:n,what:"dispo",cc:v}).then((e=>{T(!1),200===e.status&&(a(),l(),(0,P.Z)("success","Disposisi Berhasil !"))})).catch((e=>{console.log(e)}))},disabled:L,children:L?"Loading . . .":"Disposisi"})})]})};var le=a(66435),ne=a(59437),se=a.n(ne),oe=a(74228);const re=a(64073),de=e=>new Promise((()=>{var t,a,i,l,n,s,o;le.vfs=re.pdfMake.vfs,le.fonts={Archivo:{normal:"Archivo-Regular.ttf",bold:"Archivo-SemiBold.ttf",italics:"Archivo-Italic.ttf",bolditalics:"Archivo-SemiBoldItalic.ttf"}};const r=null!==e&&void 0!==e&&e.tickler?null===e||void 0===e?void 0:e.tickler.split(","):[];let d='<ul style="list-style-type: square; margin-left:15">';for(let e=0;e<(null===r||void 0===r?void 0:r.length);e++)d+=`<li>${r[e]}</li>`;d+="</ul>";let c="<br>CC ";for(let p=0;p<(null===e||void 0===e||null===(u=e.cc)||void 0===u?void 0:u.length);p++){var u;c+=`<br><span>      ${null===e||void 0===e?void 0:e.cc[p]}</span>`}const m=`\n        <table style="border-collapse: collapse; width: 100%;" border="1"><colgroup><col style="width: 50%;"><col style="width: 50%;"></colgroup>\n          <tbody>\n            <tr>\n              <td colspan="2" style="margin-bottom:-4; text-align:center"><h5>LEMBAR DISPOSISI</h5></td>\n            </tr>\n\n\n            <tr>\n            <td colspan="2" style="margin-bottom:-2; margin-top:-3;">\n             <table style="border-collapse: collapse; width: 100%; border: 0px;">\n                <tbody>\n                  <tr>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 15%;">Surat Dari</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 1%;">:</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 84%;">${null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.pengirim}</td>\n                  </tr>\n                </tbody>\n                </table>\n             </td>\n            </tr>\n\n            <tr>\n            <td  style="margin-top:-3;margin-bottom:1">\n              <table style="border-collapse: collapse; width: 100%; border: 0px;">\n                <tbody>\n                <tr>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 30%;">Nomor Surat</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 2%;">:</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 72%;">${null===e||void 0===e||null===(a=e.detail)||void 0===a?void 0:a.nomor}</td>\n                </tr>\n                <tr>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 30%;">Tgl Surat</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 2%;">:</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 72%;">${new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"long",year:"numeric"}).format(new Date(null===e||void 0===e||null===(i=e.detail)||void 0===i?void 0:i.tgl_surat))}</td>\n                </tr>\n                </tbody>\n                </table>\n            </td>\n            \n            <td  style="margin-top:-3;margin-bottom:1">\n              <table style="border-collapse: collapse; width: 100%; border: 0px;">\n                <tbody>\n                <tr>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 30%;">Diterima</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 2%;">:</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 72%;">${new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"long",year:"numeric"}).format(new Date(null===e||void 0===e||null===(l=e.detail)||void 0===l?void 0:l.created_at))}</td>\n                </tr>\n                <tr>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 30%;">Via</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 2%;">:</td>\n                <td style="vertical-align: top; border: 0px; line-height: 0.8; width: 72%;">${null===e||void 0===e||null===(n=e.detail)||void 0===n?void 0:n.via}</td>\n                </tr>\n                </tbody>\n                </table>\n            </td>\n            </tr>\n\n            <tr>\n            <td colspan="2" style="margin-bottom:-2; margin-top:-3;">\n             <table style="border-collapse: collapse; width: 100%; border: 0px;">\n                <tbody>\n                  <tr>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 15%;">Perihal</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 1%;">:</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 84%;">${null===e||void 0===e||null===(s=e.detail)||void 0===s?void 0:s.perihal}</td>\n                  </tr>\n                </tbody>\n                </table>\n             </td>\n            </tr>\n\n            <tr>\n            <td style="margin:4">\n              Didisposisikan Kepada <br>\n              <span>      <strong>${null===e||void 0===e?void 0:e.to}</strong></span><br>\n              ${(null===e||void 0===e||null===(o=e.cc)||void 0===o?void 0:o.length)>0&&c}\n\n            </td>\n            \n           <td style="margin:4">\n              Dengan Hormat harap \n               ${(null===r||void 0===r?void 0:r.length)>0&&d}\n            </td>\n            </tr>\n\n\n             <tr>\n            <td colspan="2" style="margin-bottom:-2; margin-top:-3; height:150;border-bottom:0px;">\n             <table style="border-collapse: collapse; width: 100%; border: 0px;">\n                <tbody>\n                  <tr>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 15%;">Catatan</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 1%;">:</td>\n                    <td style="vertical-align: top; border: 0px; line-height: 1.2; width: 84%;"></td>\n                  </tr>\n                 \n                </tbody>\n                </table>\n                 <p style="margin-left:20;margin-top:-2;">${null===e||void 0===e?void 0:e.catatan}</p>\n             </td>\n            </tr>\n            <tr>\n            <td colspan="2" style="margin-bottom:-2; margin-top:-3;border-top:0px;">\n                 <p style="text-align:right; margin-right:3;">${new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"numeric",year:"numeric"}).format(new Date(null===e||void 0===e?void 0:e.waktu))}<br><br><strong>${null===e||void 0===e?void 0:e.nama}</strong><br>${null===e||void 0===e?void 0:e.position}</p>\n    <span style="font-size:8; font-style:italic;"> NB : Lembar disposisi ini merupakan dokumen resmi yang dihasilkan oleh sistem secara otomatis.</span>\n             </td>\n            </tr>\n          </tbody>\n        </table>\n  \n      `,h={pageOrientation:"portrait",pageSize:"A4",pageMargins:[50,100,50,70],content:[se()(m,{defaultStyles:{td:{verticalAlign:"top",marginBottom:0,heigt:"auto"},ol:{margin:[0,0,0,-15],padding:[0,0,0,0]},ul:{margin:[0,0,0,-15],padding:[0,0,0,0]},li:{marginBottom:2},tr:{margin:[-5,0,0,0]},table:{margin:[0,-3,0,-7],width:"100%"},br:{margin:[0,0,0,0]}},tableAutoSize:!0})],background:()=>null!==e&&void 0!==e&&e.draft?{image:oe.Z.draft,width:300,height:300,opacity:.2,marginTop:250,marginLeft:150}:"",styles:{boldText:{bold:!0}},images:m.images,header:e=>1!==e?{text:""}:{image:oe.Z.headSurat,width:"595"},footer:(e,t)=>e!==t?{text:""}:{image:oe.Z.footSurat,width:"595"},defaultStyle:{font:"Archivo",fontSize:10,color:"#000",ol:{margin:[0,0,0,0],padding:[0,0,0,0]}}};le.createPdf(h).open()})),ce=e=>{let{listSurat:t,valueNow:a,refresh:l,type:n,update:s,status:o}=e;const d=(0,i.useRef)(),c=(0,y.Z)(),u=(0,j.Z)(),[m,h]=(0,i.useState)(""),[p,v]=(0,i.useState)(""),[g,x]=(0,i.useState)(""),[b,f]=i.useState(""),[Z,S]=i.useState([]),[w,k]=i.useState(),[D,L]=(0,i.useState)(""),[T,$]=(0,i.useState)(),[I,R]=(0,i.useState)(!1),[O,J]=(0,i.useState)(""),G=()=>R(!I);(0,i.useEffect)((()=>{f(""),S(t),console.log(t)}),[t]),(0,i.useEffect)((()=>{if("masuk"===n){const e=null===t||void 0===t?void 0:t.filter((e=>{var t,a,i;return(null===e||void 0===e||null===(t=e.pengirim)||void 0===t?void 0:t.toLocaleLowerCase().match(null===b||void 0===b?void 0:b.toLocaleLowerCase()))||(null===e||void 0===e||null===(a=e.nomor)||void 0===a?void 0:a.toLocaleLowerCase().match(null===b||void 0===b?void 0:b.toLocaleLowerCase()))||(null===e||void 0===e||null===(i=e.perihal)||void 0===i?void 0:i.toLocaleLowerCase().match(null===b||void 0===b?void 0:b.toLocaleLowerCase()))}));S(e)}else{const e=null===t||void 0===t?void 0:t.filter((e=>{var t,a;return(null===e||void 0===e||null===(t=e.kepada)||void 0===t?void 0:t.toLocaleLowerCase().match(null===b||void 0===b?void 0:b.toLocaleLowerCase()))||(null===e||void 0===e||null===(a=e.nomor_surat)||void 0===a?void 0:a.toLocaleLowerCase().match(null===b||void 0===b?void 0:b.toLocaleLowerCase()))}));S(e)}}),[b]);const V=e=>{h(e),k(null===t||void 0===t?void 0:t.find((t=>t.id===e))),console.log(null===t||void 0===t?void 0:t.find((t=>t.id===e))),c.get(`dapi/adm/surat/detail/${e}`).then((e=>{!async function(e){try{const t=await(0,_.Z)(e,d);(0,A.Z)(t,null===e||void 0===e?void 0:e.fileLampiran).then((e=>{window.open(e),console.log(e)}))}catch(t){console.log(t)}}(e.data.data),h("")}))},W=async e=>{x(e),await c.get(`dapi/adm/suratmasuk/detail/${e}`).then((e=>{(0,A.Z)(e.data.data.file_surat,"").then((e=>{window.open(e),x("")}))}))},X=e=>{$([]),J("sm"),c.get(`dapi/adm/suratmasuk/riwayat/${e}`).then((e=>{console.log(e.data.data),$(e.data.data)})),G(),L("log")},ee=[{name:"Action",width:""+("progress"===o?"350px":"230px"),selector:e=>(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(r.Z,{className:"me-2",size:"sm",outline:!0,color:"info",tag:"input",type:"button",value:u.auth.user.roles.includes("SuperAdminAdm")?g===e.id?"Loading . . .":"Lihat Surat":g===e.id_surat?"Loading . . .":"Lihat Surat",onClick:()=>W(u.auth.user.roles.includes("SuperAdminAdm")?e.id:e.id_surat)}),u.auth.user.roles.includes("SuperAdminAdm")||"done"===o?"":(0,F.jsxs)(F.Fragment,{children:[u.auth.user.roles.includes("Presdir")||u.auth.user.roles.includes("Director")||u.auth.user.roles.includes("ManagerEksekutif")?(0,F.jsx)(r.Z,{className:"me-2",size:"sm",outline:!0,color:"dark",tag:"input",type:"button",value:"Dispo",onClick:()=>(e=>{const t=Z.find((t=>t.id===e));console.log(t),$(t),L("dispo"),G()})(e.id)}):"",(0,F.jsx)(r.Z,{className:"me-2",size:"sm",outline:!0,color:"danger",tag:"input",type:"button",onClick:()=>(e=>{(0,U._1)({title:"Attention !",message:"Tombol Tindak Lanjut ini untuk menandakan dokumen sudah mulai ditindaklanjuti",buttons:[{label:"Lanjutkan",onClick:async()=>{await c.post(`dapi/adm/suratmasuk/diposisi/${e}`,{what:"tinjut"}).then((()=>{l(),(0,P.Z)("success","Surat Tinjut !")}))}},{label:"Batal",onClick:()=>{}}]})})(e.id_surat),value:"Tinjut"})]}),(0,F.jsx)(r.Z,{className:"me-2",size:"sm",outline:!0,color:"success",tag:"input",type:"button",value:"Riwayat",onClick:()=>X(u.auth.user.roles.includes("SuperAdminAdm")?e.id:e.id_surat)}),u.auth.user.roles.includes("SuperAdminAdm")&&(0,F.jsx)(r.Z,{className:"me-2",size:"sm",outline:!0,color:"danger",tag:"input",type:"button",disabled:e.diproses>1,value:"Delete",onClick:()=>(e=>{(0,U._1)({title:"Are you sure ?",message:"Be careful, what has gone will not come back",buttons:[{label:"Yes",onClick:async()=>{await c.post(`dapi/adm/suratmasuk/delete/${e}`).then((()=>{l(),(0,P.Z)("success","Surat Deleted !")}))}},{label:"No",onClick:()=>{}}]})})(e.id)})]})},{name:"Tindak Lanjut",selector:e=>"dispo"===(null===e||void 0===e?void 0:e.tindak_lanjut)?"Didisposisi":"Tidak Didisposisi",omit:"done"!==o},{name:"Pada",selector:e=>H()(null===e||void 0===e?void 0:e.ditinjut).locale("id").format("dddd, DD/MM/YY HH:mm"),omit:"done"!==o},{name:"Nomor",selector:e=>null===e||void 0===e?void 0:e.nomor},{name:"Perihal",selector:e=>null===e||void 0===e?void 0:e.perihal},{name:"Pengirim",selector:e=>null===e||void 0===e?void 0:e.pengirim},{name:"Tanggal Surat",selector:e=>H()(null===e||void 0===e?void 0:e.tgl_surat).format("YYYY-MM-DD")},{name:"Diterima Via",selector:e=>e.via},{name:"Tanggal Terima",selector:e=>H()(null===e||void 0===e?void 0:e.diterima).format("YYYY-MM-DD HH:mm:ss"),omit:u.auth.user.roles.includes("SuperAdminAdm")},{name:"Masuk Sistem",selector:e=>H()(null===e||void 0===e?void 0:e.created_at).locale("id").format("dddd, DD/MM/YY HH:mm"),omit:!u.auth.user.roles.includes("SuperAdminAdm")},{name:"Diinput oleh",selector:e=>null===e||void 0===e?void 0:e.by_name,omit:!u.auth.user.roles.includes("SuperAdminAdm")}],te=[{name:"Action",width:"250px",selector:e=>(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(r.Z,{className:"me-2",size:"sm",outline:!0,color:"info",tag:"input",type:"button",value:u.auth.user.roles.includes("SuperAdminAdm")?g===e.id?"Loading . . .":"Lihat Surat":g===e.id_surat?"Loading . . .":"Lihat Surat",onClick:()=>(async e=>{x(e.id),await c.post(`dapi/adm/suratmasuk/read/${null===e||void 0===e?void 0:e.id}`).then((t=>{200===t.status&&(l(),W(e.id_surat))})).catch((e=>{(0,P.Z)("error",`${e.message}`)}))})(e)}),(0,F.jsx)(r.Z,{className:"me-2",size:"sm",outline:!0,color:"success",tag:"input",type:"button",value:"Riwayat",onClick:()=>X(u.auth.user.roles.includes("SuperAdminAdm")?e.id:e.id_surat)})]})},{name:"Nomor Surat",selector:e=>e.nomor},{name:"Pengirim",selector:e=>e.pengirim},{name:"Perihal",selector:e=>e.perihal},{name:"Tanggal Surat",selector:e=>H()(null===e||void 0===e?void 0:e.tgl_surat).format("YYYY-MM-DD")},{name:"dicc oleh",selector:e=>e.position},{name:"cc at",selector:e=>H()(null===e||void 0===e?void 0:e.cc_at).locale("id").format("dddd, DD/MM/YY HH:mm")}],ae=[{name:"Actions",width:""+("3"===a||"approved"===n?"270px":"350px"),selector:e=>(0,F.jsxs)(F.Fragment,{children:["1"===a&&(0,F.jsx)(r.Z,{className:"me-2",size:"sm",outline:!0,color:"danger",tag:"input",type:"button",value:p===e.id?"Loading . . .":"Update",onClick:()=>(async e=>{v(e),await s(e).then((()=>{v("")}))})(e.id)}),(0,F.jsx)(r.Z,{className:"me-2",size:"sm",outline:!0,color:"info",tag:"input",type:"button",value:m===e.id?"Loading . . .":"Lihat Surat",onClick:()=>V(e.id)}),(0,F.jsx)(r.Z,{className:"me-2",size:"sm",outline:!0,color:"dark",tag:"input",type:"button",value:"Approval",onClick:()=>(e=>{$([]);const a=null===t||void 0===t?void 0:t.find((t=>t.id===e));c.get(`dapi/eSign/approval/${null===a||void 0===a?void 0:a.no_document}`).then((e=>{console.log(e.data.data),$(e.data.data)})),G(),L("approval")})(e.id)}),(0,F.jsx)(r.Z,{className:"me-2",size:"sm",outline:!0,color:"success",tag:"input",type:"button",value:"Logs",onClick:()=>(e=>{$([]);const a=null===t||void 0===t?void 0:t.find((t=>t.id===e));c.get(`dapi/eSign/logs/${null===a||void 0===a?void 0:a.no_document}`).then((e=>{console.log(e.data.data),$(e.data.data)})),G(),L("log")})(e.id)}),"2"===a&&"review"===n&&(0,F.jsx)(r.Z,{className:"me-2",size:"sm",outline:!0,color:"warning",tag:"input",type:"button",value:e.current_type,onClick:()=>(e=>{const a=null===t||void 0===t?void 0:t.find((t=>t.id===e));console.log(a),G(),$(a),L("review")})(e.id)})]})},{name:"Nomor Surat",selector:e=>e.nomor_surat},{name:"Kepada",selector:e=>e.kepada},{name:"Perihal",selector:e=>e.perihal},{name:"Divisi",selector:e=>e.divisi_name},{name:"Status",selector:e=>"signed"===e.status?(0,F.jsx)(N.Z,{color:"success",style:{width:"100px"},children:"Approved"}):"rejected"===e.status?(0,F.jsx)(N.Z,{color:"danger",style:{width:"100px"},children:"Rejected"}):(0,F.jsx)(N.Z,{color:"warning",style:{width:"100px"},children:"Under Review"}),omit:"1"!==a&&!0},{name:"Dokumen dibuat",selector:e=>H()(e.created_at).format("DD/MM/YYYY HH:mm")},{name:""+("3"===a?"Ditandatangani":"Direview"),selector:e=>H()(e.updated_at).format("DD/MM/YYYY HH:mm"),omit:"review"===n&&!0},{name:""+("approved"===n?"Jenis Persetujuan":"Persetujuan saat ini"),selector:e=>`${"approved"===n?e.type||"-":e.current_type||"-"}`,omit:"3"===a&&!0},{name:"Ditandatangani oleh",selector:e=>e.reviewer||"-",omit:"3"!==a&&!0},{name:"Jabatan",selector:e=>e.position_reviewer||"-",omit:"3"!==a&&!0}];return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{ref:d,style:{display:"none"},children:(0,F.jsx)(C.QRCode,{value:`https://sys.ptpema.co.id/verification/${null===w||void 0===w?void 0:w.no_document}?type=sign`,size:400,qrStyle:"dots",logoImage:M,logoWidth:100,logoHeight:100,eyeRadius:20,fgColor:"#0F52BA"})}),(0,F.jsx)(B.ZP,{keyField:"approved"===n?"unique_id":"id",columns:"masuk"===n?ee:"cc"===n?te:ae,data:Z,pagination:!0,subHeader:!0,conditionalRowStyles:"cc"===n&&[{when:e=>null===e.read_by,style:{backgroundColor:"#d7e9f7"}}],subHeaderComponent:(0,F.jsx)("div",{className:"d-flex justify-content-end w-100",children:(0,F.jsx)(E.Z,{type:"text",value:b,placeholder:"search . . . . ",className:"w-25",onChange:e=>f(e.target.value)})})}),(0,F.jsx)(Y.Z,{isOpen:I,toggle:G,size:"xl",children:(0,F.jsx)(z.Z,{children:"log"===D?(0,F.jsx)(K,{type:O,data:T,func1:e=>{de(e)}}):"approval"===D?(0,F.jsx)(q,{data:T}):"review"===D?(0,F.jsx)(Q,{data:T,refresh:l,closeModal:G}):"dispo"===D?(0,F.jsx)(ie,{data:T,refresh:l,closeModal:G}):"te"})})]})};var ue=a(63466),me=a(4560),he=a(24750),pe=a(71652),ve=a(41985),ge=a(76807);a(58988);const xe=e=>{let{refresh:t,func1:a}=e;const l=(0,y.Z)(),[n,s]=(0,i.useState)(!1),[o,r]=i.useState(""),[d,c]=i.useState(""),[u,m]=i.useState(""),[h,p]=i.useState(H()()),v=["Email","Surat Fisik","Whatapps","Lainnya"],[x,b]=i.useState(""),[j,S]=i.useState("3"),[k,N]=i.useState(),[D,C]=i.useState(""),{data:A}=(0,ge.a)({queryKey:["dirs"],queryFn:()=>l.get("dapi/adm/direkturs").then((e=>e.data.data))}),[_,L]=i.useState({});(0,i.useEffect)((()=>{L({nomorSurat:o,pengirim:d,perihal:u,tglSurat:h,via:x,dir:j,file:k})}),[o,d,u,h,x,j,k]);return(0,F.jsxs)("div",{children:[(0,F.jsx)(f.Z,{className:"mb-3",children:(0,F.jsx)(Z.Z,{id:"outlined-basic",style:{width:"100%"},label:"Nomor Surat Masuk",variant:"outlined",value:o,onChange:e=>r(e.target.value)})}),(0,F.jsx)(f.Z,{className:"mb-3",children:(0,F.jsx)(Z.Z,{id:"outlined-basic",style:{width:"100%"},label:"Pengirim",variant:"outlined",value:d,onChange:e=>c(e.target.value)})}),(0,F.jsx)(f.Z,{className:"mb-3",children:(0,F.jsx)(Z.Z,{id:"outlined-basic",style:{width:"100%"},label:"Perihal",variant:"outlined",value:u,onChange:e=>m(e.target.value)})}),(0,F.jsx)(f.Z,{className:"mb-3",children:(0,F.jsx)(pe._,{dateAdapter:he.y,children:(0,F.jsx)(me.C,{components:["DatePicker"],children:(0,F.jsx)(ve.M,{label:"Tgl Surat",value:h,onChange:p,sx:{width:"100%"}})})})}),(0,F.jsx)(f.Z,{className:"mb-3",children:(0,F.jsx)(Z.Z,{select:!0,style:{width:"100%"},variant:"outlined",value:x,onChange:e=>b(e.target.value),label:"Surat diterima Via",children:null===v||void 0===v?void 0:v.map((e=>(0,F.jsx)(w.Z,{value:e,children:e},e)))})}),(0,F.jsxs)(f.Z,{className:"mb-3",children:[(0,F.jsx)(Z.Z,{label:"Upload File",variant:"outlined",value:D,fullWidth:!0,placeholder:"Harus PDF maksimal 12 MB",disabled:!0,InputProps:{startAdornment:(0,F.jsx)(ue.Z,{position:"start",children:(0,F.jsx)(g(),{icon:"cloud_upload",style:{cursor:"pointer"},onClick:()=>document.getElementById("input-file").click()})})}}),(0,F.jsx)("input",{type:"file",id:"input-file",style:{display:"none"},accept:"application/pdf",onChange:e=>{var t;C(null===(t=e.target.files[0])||void 0===t?void 0:t.name),N(e.target.files[0])}})]}),(null===A||void 0===A?void 0:A.length)>0&&(0,F.jsx)(f.Z,{className:"mb-3",children:(0,F.jsx)(Z.Z,{select:!0,style:{width:"100%"},variant:"outlined",value:j,onChange:e=>S(e.target.value),label:"Ditujukan Kepada",disabled:!0,children:null===A||void 0===A?void 0:A.map((e=>(0,F.jsx)(w.Z,{value:null===e||void 0===e?void 0:e.position_id,children:null===e||void 0===e?void 0:e.position_name},null===e||void 0===e?void 0:e.position_id)))})}),(0,F.jsx)(f.Z,{className:"mb-3",children:(0,F.jsx)(X.Z,{disabled:n,variant:"contained",size:"large",style:{width:"100%"},onClick:()=>{Object.values(_).every((e=>""!==e&&null!==e&&void 0!==e))?(0,U._1)({title:"Are you sure ?",message:"Be careful, what has gone will not come back",buttons:[{label:"Yes",onClick:async()=>{s(!0),await l.post("dapi/adm/suratmasuk",_,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{200===e.status?(t(),a(!1),(0,P.Z)("success","Surat Masuk Berhasil diupload !"),s(!1)):((0,P.Z)("error","Surat Masuk Gagal diupload, Hubungi Tim IT untuk problem selanjutnya !"),s(!1))})).catch((e=>{(0,P.Z)("error",`${e.message}`),s(!1)}))}},{label:"No",onClick:()=>{}}]}):(0,P.Z)("error","Data belum lengkap, silahkan isi data terlebih dahulu")},children:n?"Loading...":"Simpan Surat Masuk"})})]})};var be=a(96917),je=a(67399),ye=a(273),fe=a(31487),Ze=a(13496),Se=a(65919);a(98797);const we=()=>{var e,t,a,l,n;const s=(0,y.Z)(),{data:o,isLoading:r}=(0,ge.a)({queryKey:["dataDash2"],queryFn:()=>s.get("/dapi/adm/dashboard").then((e=>e.data.data))});(0,i.useEffect)((()=>{console.log(null===o||void 0===o?void 0:o.dataDash)}),[o]);const d={chart:{fontFamily:"'Rubik', sans-serif"},dataLabels:{enabled:!1},xaxis:{categories:null===o||void 0===o||null===(e=o.chart)||void 0===e?void 0:e.divisi,labels:{show:!1}},plotOptions:{bar:{distributed:!0,horizontal:!1}},grid:{borderColor:"rgba(0,0,0,0.1)"},yaxis:{labels:{style:{cssClass:"grey--text lighten-2--text fill-color"}}},title:{text:`Grafik Surat PEMA ${(new Date).getFullYear()} per Divisi`,align:"left",style:{fontSize:"16px",color:"#6c757d"}},tooltip:{theme:"dark"}},c=[{name:"Surat Masuk",data:null===o||void 0===o||null===(t=o.chart)||void 0===t?void 0:t.value}];return(0,F.jsx)(F.Fragment,{children:r?(0,F.jsx)(L.Z,{}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(O.Z,{children:null===o||void 0===o||null===(a=o.dataDash)||void 0===a?void 0:a.map((e=>{var t;return(0,F.jsx)(J.Z,{md:3,className:"mt-3",children:(0,F.jsx)(Se.Z,{title:e.title,sub:e.sub,count:null===(t=e.value)||void 0===t?void 0:t.toString(),tipe:e.type,color:e.color})},e.type)}))}),(0,F.jsxs)(O.Z,{className:"mt-4",children:[(0,F.jsxs)(J.Z,{md:4,children:[(0,F.jsx)("h3",{className:"list-group-title",children:"Surat Keluar Terbaru"}),(0,F.jsxs)(be.Z,{children:[null===o||void 0===o||null===(l=o.latest_surat)||void 0===l?void 0:l.map((e=>(0,F.jsxs)(je.Z,{className:"list-group-item-hover list-group-item-strip mb-3",children:[(0,F.jsx)("div",{className:"list-group-item-date",children:e.nomor_surat}),(0,F.jsxs)(ye.Z,{children:["Kpd : ",e.kepada]}),(0,F.jsx)(fe.Z,{children:e.perihal})]},e.id))),0===(null===o||void 0===o||null===(n=o.latest_surat)||void 0===n?void 0:n.length)&&(0,F.jsxs)(je.Z,{className:" mb-3",children:[(0,F.jsx)("div",{className:"list-group-item-date",children:"\xa0"}),(0,F.jsx)(ye.Z,{className:"text-center",children:"Belum ada Data"}),(0,F.jsx)(fe.Z,{children:"\xa0"})]})]})]}),(0,F.jsx)(J.Z,{md:8,children:(0,F.jsx)(Ze.Z,{options:d,series:c,type:"bar",height:"500"})})]})]})})},ke=()=>{const{auth:e}=(0,j.Z)(),t=(0,y.Z)(),{hash:a}=(0,b.TH)(),l=JSON.parse(localStorage.getItem("formData")),[n,v]=(0,i.useState)(`${""!==a?a.replace(/#/g,"").toString():"99"}`),[f,Z]=(0,i.useState)((null===l||void 0===l?void 0:l.tulisForm)||!1),[S,w]=(0,i.useState)([]),[k,N]=(0,i.useState)(""),[D,C]=(0,i.useState)([]),[A,_]=(0,i.useState)([]),[L,T]=(0,i.useState)({}),[P,M]=(0,i.useState)(!1),[$,B]=(0,i.useState)(0),[E,Y]=(0,i.useState)(0),[z,R]=(0,i.useState)(0),[H,U]=(0,i.useState)([]),[K,O]=(0,i.useState)([]),[J,q]=(0,i.useState)([]),[G,V]=(0,i.useState)(!1);console.log(a.replace(/#/g,"")),(0,i.useEffect)((()=>{v(""!==a?`${a.replace(/#/g,"").toString()}`:"99")}),[a]);(0,i.useEffect)((()=>{localStorage.setItem("formData",JSON.stringify({tulisForm:f}))}),[f]);const W=(0,p.h)({queries:[{queryKey:["divisi",0],queryFn:()=>t.get("dapi/adm/divisi").then((e=>e.data.data))}]}),X=()=>{var a;a=n,t.get("dapi/adm/surat/review").then((e=>{B(e.data.data.length)})),t.get("dapi/adm/suratmasuk/to_me").then((e=>{Y(e.data.data.length)})),t.get("dapi/adm/suratmasuk/cc").then((e=>{R(e.data.data.filter((e=>null===e.read_by)).length)})),"1"===a?t.get("dapi/adm/surat/all").then((e=>{C(e.data.data)})):"2"===a?(t.get("dapi/adm/surat/review").then((e=>{C(e.data.data),B(e.data.data.length)})),t.get("dapi/adm/surat/approved").then((e=>{_(e.data.data)}))):"3"===a?t.get("dapi/adm/surat/signed").then((e=>{C(e.data.data)})):"4"===a?(t.get("dapi/adm/suratmasuk/"+(null!==e&&void 0!==e&&e.user.roles.includes("SuperAdminAdm")?"all":"to_me")).then((e=>{U(e.data.data)})),t.get("dapi/adm/suratmasuk/tinjut").then((e=>{O(e.data.data)}))):"5"===a&&t.get("dapi/adm/suratmasuk/cc").then((e=>{q(e.data.data)}))};(0,i.useEffect)((()=>{C([]),X()}),[n]),(0,i.useEffect)((()=>{var e,t,a,i;w(null===(e=W[0].data)||void 0===e?void 0:e.other_divisis),N(null===(t=W[0].data)||void 0===t||null===(a=t.my_divisi)||void 0===a||null===(i=a.organization_id)||void 0===i?void 0:i.toString())}),[W]),(0,i.useEffect)((()=>{console.log(D)}),[D]);return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(c.ZP,{value:n,children:[(0,F.jsx)(s.Z,{className:"mb-1",children:(0,F.jsxs)(u.Z,{onChange:(e,t)=>{v(t)},"aria-label":"lab API tabs example",vertical:"sm",variant:"scrollable",scrollButtons:"auto",children:[(0,F.jsx)(h.Z,{label:(0,F.jsxs)(x.Z,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,F.jsx)("strong",{children:"Dashboard"})," \xa0\xa0"]}),value:"99"}),(null===e||void 0===e?void 0:e.user.roles.includes("AdminAdm"))&&(0,F.jsx)(h.Z,{label:(0,F.jsxs)(x.Z,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,F.jsx)("strong",{children:"TULIS SURAT"})," \xa0\xa0"]}),value:"1"}),null!==e&&void 0!==e&&e.user.roles.includes("Manager")||null!==e&&void 0!==e&&e.user.roles.includes("Director")||null!==e&&void 0!==e&&e.user.roles.includes("Supervisor")?(0,F.jsx)(h.Z,{label:(0,F.jsxs)(x.Z,{badgeContent:$,anchorOrigin:{vertical:"top",horizontal:"right"},color:"warning",children:[(0,F.jsx)("strong",{children:"REVIEW"})," \xa0\xa0"]}),value:"2"}):"",null!==e&&void 0!==e&&e.user.roles.includes("SuperAdminAdm")||null!==e&&void 0!==e&&e.user.roles.includes("Director")?(0,F.jsx)(h.Z,{label:(0,F.jsxs)(x.Z,{badgeContent:0,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,F.jsx)("strong",{children:"SURAT KELUAR"})," \xa0\xa0"]}),value:"3"}):"",(0,F.jsx)(h.Z,{label:(0,F.jsxs)(x.Z,{badgeContent:E,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,F.jsx)("strong",{children:"SURAT MASUK"})," \xa0\xa0"]}),value:"4"}),(0,F.jsx)(h.Z,{label:(0,F.jsxs)(x.Z,{badgeContent:z,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:[(0,F.jsx)("strong",{children:"SURAT MASUK (CC) "})," \xa0\xa0"]}),value:"5"})]})}),(null===e||void 0===e?void 0:e.user.roles.includes("AdminAdm"))&&(0,F.jsxs)(m.Z,{value:"1",className:"ps-0 pe-0",children:[(0,F.jsx)(s.Z,{children:(0,F.jsx)(o.Z,{children:f?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(g(),{icon:"close",className:"mb-3 float-end",style:{cursor:"pointer"},onClick:()=>Z(!f)}),(0,F.jsx)(I,{divisis:S,mydivisi:k,refresh:X,func1:Z,detailSurat:L,updateForm:P})]}):(0,F.jsx)(r.Z,{color:"primary",size:"lg",style:{width:"100%"},onClick:()=>{Z(!f),localStorage.removeItem("dataSurat"),M(!1)},children:"Buat Surat Baru"})})}),!1===f&&(null===D||void 0===D?void 0:D.length)>0&&(0,F.jsx)(s.Z,{children:(0,F.jsx)(o.Z,{children:(0,F.jsx)(ce,{listSurat:D,valueNow:n,update:async e=>{var a;localStorage.removeItem("dataSurat"),w(null===(a=W[0].data)||void 0===a?void 0:a.other_divisis),await t.get(`dapi/adm/surat/detail/${e}`).then((e=>{var t,a;console.log(e.data.data),N(null===(t=e.data.data)||void 0===t||null===(a=t.divisi)||void 0===a?void 0:a.toString()),T(e.data.data),M(!0);const{fileLampiran:i,...l}=e.data.data;localStorage.setItem("dataSurat",JSON.stringify(l)),Z(!0)})),console.log(P)},refresh:X})})})]}),(0,F.jsxs)(m.Z,{value:"2",className:"ps-0 pe-0",children:[(0,F.jsx)(s.Z,{children:(0,F.jsx)(o.Z,{children:(0,F.jsx)(ce,{listSurat:D,valueNow:n,refresh:X,type:"review"})})}),(null===A||void 0===A?void 0:A.length)>0&&(0,F.jsxs)(s.Z,{children:[(0,F.jsx)(d.Z,{children:(0,F.jsx)("strong",{children:"Dokumen yang telah direview"})}),(0,F.jsx)(o.Z,{children:(0,F.jsx)(ce,{listSurat:A,valueNow:n,refresh:X,type:"approved"})})]})]}),(0,F.jsx)(m.Z,{value:"3",className:"ps-0 pe-0",children:(0,F.jsx)(s.Z,{children:(0,F.jsx)(o.Z,{children:(0,F.jsx)(ce,{listSurat:D,valueNow:n,refresh:X})})})}),(0,F.jsxs)(m.Z,{value:"4",className:"ps-0 pe-0",children:[(null===e||void 0===e?void 0:e.user.roles.includes("SuperAdminAdm"))&&(0,F.jsx)(s.Z,{children:(0,F.jsx)(o.Z,{children:G?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(g(),{icon:"close",className:"mb-3 float-end",style:{cursor:"pointer"},onClick:()=>V(!G)}),(0,F.jsx)(xe,{refresh:X,func1:V})]}):(0,F.jsx)(r.Z,{color:"primary",size:"lg",style:{width:"100%"},onClick:()=>V(!G),children:"Tambah Surat Masuk"})})}),!1===G&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(s.Z,{children:(0,F.jsx)(o.Z,{children:(0,F.jsx)(ce,{listSurat:H,valueNow:n,refresh:X,type:"masuk",status:"progress"})})}),(null===K||void 0===K?void 0:K.length)>0&&(0,F.jsxs)(s.Z,{children:[(0,F.jsx)(d.Z,{children:"Surat Masuk Yang Telah ditindaklanjuti"}),(0,F.jsx)(o.Z,{children:(0,F.jsx)(ce,{listSurat:K,valueNow:n,refresh:X,type:"masuk",status:"done"})})]})]})]}),(0,F.jsx)(m.Z,{value:"5",className:"ps-0 pe-0",children:(0,F.jsx)(s.Z,{children:(0,F.jsx)(o.Z,{children:(0,F.jsx)(ce,{listSurat:J,valueNow:n,refresh:X,type:"cc"})})})}),(0,F.jsx)(m.Z,{value:"99",className:"ps-0 pe-0",children:(0,F.jsx)(s.Z,{children:(0,F.jsx)(o.Z,{children:(0,F.jsx)(we,{})})})})]})})},Ne=()=>{const[e,t]=i.useState(!0);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(l.Z,{color:"info",isOpen:e,toggle:()=>t(!1),children:["Baca Dokumentasi sistem ADM ",(0,F.jsx)("a",{href:"https://gofile.me/7mNIn/PBFC3xKHr",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"},children:"disini !!!"})]}),(0,F.jsx)(n.Z,{}),(0,F.jsx)(ke,{})]})}},65919:(e,t,a)=>{a.d(t,{Z:()=>d});a(72791);var i=a(43464),l=a(49037),n=a(63009),s=a(39773),o=a(13496),r=a(80184);const d=e=>{let{title:t,sub:a,count:d,tipe:c,color:u}=e;return(0,r.jsx)(i.Z,{className:u,children:(0,r.jsxs)(l.Z,{children:[(0,r.jsxs)("div",{className:"d-flex",children:[(0,r.jsx)("div",{className:"me-3 align-self-center",children:(0,r.jsx)("h1",{className:"text-dark-white",children:(0,r.jsx)("i",{className:"bi bi-pie-chart"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-dark-white",children:t}),(0,r.jsx)("h6",{className:"text-dark-white",children:a})]})]}),(0,r.jsxs)(n.Z,{children:[(0,r.jsx)(s.Z,{xs:5,className:"d-flex align-items-center",children:(0,r.jsx)("h1",{className:"text-dark-white text-truncate mb-0",children:d})}),(0,r.jsx)(s.Z,{xs:7,className:"align-self-center",children:(0,r.jsx)("div",{className:"d-flex align-items-center",style:{height:"105px"},children:(0,r.jsx)(o.Z,{options:{chart:{toolbar:{show:!1},fontFamily:"'Poppins', sans-serif"},dataLabels:{enabled:!1},colors:["rgba(255,255,255,0.5)"],xaxis:{categories:["0","4","8","12","16","20","24","30"],labels:{show:!1},axisBorder:{show:!1},axisTicks:{show:!1}},stroke:{curve:"smooth",width:3,colors:"rgba(255, 255, 255, 0.5)"},yaxis:{show:!1},grid:{show:!1},tooltip:{enabled:!1,theme:"dark"}},series:[{name:"Bandwidth usage",data:[5,0,12,1,8,3,12,15]}],type:c,height:"120"})})})]})]})})}},98797:()=>{},36607:()=>{}}]);
//# sourceMappingURL=1458.0cce9615.chunk.js.map